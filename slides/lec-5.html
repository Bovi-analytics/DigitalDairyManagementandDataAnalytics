<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.26">

  <meta name="dcterms.date" content="2025-02-24">
  <title>Beasts &amp; Bytes â€“ Linear regression with multiple predictors</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-534cd8e3a96973385dffff3f4709048d.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="Linear regression with multiple predictors â€“ Beasts &amp; Bytes">
<meta property="og:description" content="Lecture 5 - part A">
<meta property="og:site_name" content="Beasts &amp; Bytes">
<meta name="twitter:title" content="Linear regression with multiple predictors â€“ Beasts &amp; Bytes">
<meta name="twitter:description" content="Lecture 5 - part A">
<meta name="twitter:image" content="https://bovi-analytics.github.io/BeastAndBytes/slides/images/twitter-card.png">
<meta name="twitter:creator" content="@MielHostens">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Linear regression with multiple predictors</h1>
  <p class="subtitle">Lecture 5 - part A</p>

<div class="quarto-title-authors">
</div>

  <p class="date">2025-02-24</p>
</section>
<section class="slide level2">

<p>#Introduction</p>
</section>
<section id="goals" class="slide level2">
<h2>Goals</h2>
<ul>
<li>Recap on modeling with one predictor</li>
<li>Modeling with two predictors</li>
<li>Interpreting slopes and intercepts</li>
<li>Interpreting interactions</li>
</ul>
</section>
<section id="setup" class="slide level2">
<h2>Setup</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb1-4"><a></a><span class="fu">library</span>(jtools)</span>
<span id="cb1-5"><a></a><span class="fu">library</span>(sjPlot)</span>
<span id="cb1-6"><a></a><span class="fu">library</span>(sjmisc)</span>
<span id="cb1-7"><a></a>ggplot2<span class="sc">::</span><span class="fu">theme_set</span>(<span class="fu">theme_gray</span>(<span class="at">base_size =</span> <span class="dv">16</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section>
<section id="linear-regression-with-a-single-predictor" class="title-slide slide level1 center">
<h1>Linear regression with a single predictor</h1>

</section>
<section id="simple-linear-regression" class="slide level2 smaller">
<h2>Simple linear regression</h2>
<p>Use <strong>simple linear regression</strong> to model the relationship between a quantitative outcome (<span class="math inline">\(Y\)</span>) and a single quantitative predictor (<span class="math inline">\(X\)</span>): <span class="math display">\[\Large{Y = \beta_0 + \beta_1 X + \epsilon}\]</span></p>
<ul>
<li class="fragment"><span class="math inline">\(\beta_1\)</span>: True slope of the relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></li>
<li class="fragment"><span class="math inline">\(\beta_0\)</span>: True intercept of the relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></li>
<li class="fragment"><span class="math inline">\(\epsilon\)</span>: Error (residual)</li>
</ul>
</section>
<section id="interpreting-slope-intercept" class="slide level2">
<h2>Interpreting slope &amp; intercept</h2>
<p><span class="math display">\[\widehat{\text{Total number of cows}} = -16.1 + 0.008785434    \times \text{Year}\]</span></p>
<ul>
<li class="fragment"><strong>Slope:</strong> For every one point increase in <code>Year</code>, we expect the total number of cows to be higher by 0.008785434 points, on average.</li>
<li class="fragment"><strong>Intercept:</strong> In <code>Year</code> is 0, we expect the total number of cows to be -16.1.</li>
</ul>
</section></section>
<section>
<section id="linear-regression-with-a-multiple-predictors" class="title-slide slide level1 center">
<h1>Linear regression with a multiple predictors</h1>

</section>
<section id="read-the-data" class="slide level2">
<h2>Read the data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>df_raw_cattle_numbers <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">'https://raw.githubusercontent.com/Bovi-analytics/minor-digital-agriculture/refs/heads/main/data/fao-cattle-numbers.csv'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="data-prep" class="slide level2">
<h2>Data prep</h2>
<ul>
<li>Select columns <code>Year</code>, <code>Area</code> and <code>Value</code></li>
<li>Apply correct FAIR naming convention</li>
<li>Mutate NumberOfCows to be easier to interpret</li>
<li>Filter specific countries</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>df_cattle_numbers <span class="ot">&lt;-</span> df_raw_cattle_numbers <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb3-3"><a></a>    <span class="at">Country =</span> Area,</span>
<span id="cb3-4"><a></a>    <span class="at">NumberOfCows =</span> Value</span>
<span id="cb3-5"><a></a>  )  <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb3-7"><a></a>    <span class="at">NumberOfCows =</span>  NumberOfCows<span class="sc">/</span><span class="dv">1000000</span></span>
<span id="cb3-8"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Year, Country, NumberOfCows) <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb3-11"><a></a>    Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Brazil"</span>, <span class="st">"United States of America"</span>, <span class="st">"India"</span>)</span>
<span id="cb3-12"><a></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="data-overview" class="slide level2">
<h2>Data overview</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a>df_cattle_numbers <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a></a>  <span class="fu">select</span>(Year, Country, NumberOfCows)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Year                  Country NumberOfCows
1   1961                   Brazil     56.04131
2   1962                   Brazil     57.73989
3   1963                   Brazil     59.70304
4   1964                   Brazil     61.73294
5   1965                   Brazil     63.83186
6   1966                   Brazil     66.00214
7   1967                   Brazil     68.24622
8   1968                   Brazil     70.56661
9   1969                   Brazil     72.96586
10  1970                   Brazil     75.44670
11  1971                   Brazil     78.56226
12  1972                   Brazil     83.00000
13  1973                   Brazil     85.50000
14  1974                   Brazil     90.43701
15  1975                   Brazil     92.49536
16  1976                   Brazil    101.67400
17  1977                   Brazil    107.29656
18  1978                   Brazil    106.94256
19  1979                   Brazil    109.17749
20  1980                   Brazil    118.97142
21  1981                   Brazil    121.78501
22  1982                   Brazil    123.48800
23  1983                   Brazil    124.18600
24  1984                   Brazil    127.65501
25  1985                   Brazil    128.42267
26  1986                   Brazil    132.22157
27  1987                   Brazil    135.72029
28  1988                   Brazil    139.59910
29  1989                   Brazil    144.15410
30  1990                   Brazil    147.10232
31  1991                   Brazil    152.13550
32  1992                   Brazil    154.22930
33  1993                   Brazil    155.13407
34  1994                   Brazil    158.24323
35  1995                   Brazil    161.22794
36  1996                   Brazil    158.28854
37  1997                   Brazil    161.41616
38  1998                   Brazil    163.15436
39  1999                   Brazil    164.62104
40  2000                   Brazil    169.87552
41  2001                   Brazil    176.38873
42  2002                   Brazil    185.34884
43  2003                   Brazil    195.55158
44  2004                   Brazil    204.51274
45  2005                   Brazil    207.15670
46  2006                   Brazil    205.88624
47  2007                   Brazil    199.75201
48  2008                   Brazil    202.30673
49  2009                   Brazil    205.30795
50  2010                   Brazil    209.54111
51  2011                   Brazil    212.81531
52  2012                   Brazil    211.27908
53  2013                   Brazil    211.76429
54  2014                   Brazil    212.36613
55  2015                   Brazil    215.22051
56  2016                   Brazil    218.19077
57  2017                   Brazil    215.00358
58  2018                   Brazil    213.80945
59  2019                   Brazil    215.00896
60  2020                   Brazil    217.83628
61  2021                   Brazil    224.60199
62  2022                   Brazil    234.35265
63  1961                    India    175.60000
64  1962                    India    173.90000
65  1963                    India    173.97101
66  1964                    India    175.80000
67  1965                    India    175.90000
68  1966                    India    176.21200
69  1967                    India    176.38400
70  1968                    India    176.73101
71  1969                    India    177.08600
72  1970                    India    177.44200
73  1971                    India    177.81400
74  1972                    India    178.38400
75  1973                    India    178.33101
76  1974                    India    178.58000
77  1975                    India    179.45701
78  1976                    India    180.35000
79  1977                    India    180.28600
80  1978                    India    181.99200
81  1979                    India    184.30000
82  1980                    India    186.50000
83  1981                    India    188.70000
84  1982                    India    192.45301
85  1983                    India    193.79701
86  1984                    India    195.15400
87  1985                    India    196.52000
88  1986                    India    197.89501
89  1987                    India    199.69501
90  1988                    India    200.65000
91  1989                    India    201.60000
92  1990                    India    202.50000
93  1991                    India    203.50000
94  1992                    India    204.58400
95  1993                    India    203.63400
96  1994                    India    202.68400
97  1995                    India    201.73400
98  1996                    India    200.78400
99  1997                    India    198.88200
100 1998                    India    196.53501
101 1999                    India    194.21600
102 2000                    India    191.92400
103 2001                    India    189.66000
104 2002                    India    187.42200
105 2003                    India    185.18099
106 2004                    India    188.57000
107 2005                    India    192.02099
108 2006                    India    195.53501
109 2007                    India    199.07501
110 2008                    India    197.44499
111 2009                    India    195.81501
112 2010                    India    194.18499
113 2011                    India    192.55501
114 2012                    India    190.90410
115 2013                    India    189.00000
116 2014                    India    187.00000
117 2015                    India    188.07519
118 2016                    India    189.15420
119 2017                    India    190.48526
120 2018                    India    191.95754
121 2019                    India    193.46287
122 2020                    India    194.90437
123 2021                    India    192.87987
124 2022                    India    193.60691
125 1961 United States of America     97.70000
126 1962 United States of America    100.36901
127 1963 United States of America    104.48800
128 1964 United States of America    107.90301
129 1965 United States of America    109.00000
130 1966 United States of America    108.86200
131 1967 United States of America    108.78301
132 1968 United States of America    109.37101
133 1969 United States of America    110.01501
134 1970 United States of America    112.36901
135 1971 United States of America    114.57800
136 1972 United States of America    117.86200
137 1973 United States of America    121.53901
138 1974 United States of America    127.78800
139 1975 United States of America    132.02800
140 1976 United States of America    127.98000
141 1977 United States of America    122.81000
142 1978 United States of America    116.37501
143 1979 United States of America    110.86400
144 1980 United States of America    111.24200
145 1981 United States of America    114.35101
146 1982 United States of America    115.44400
147 1983 United States of America    115.00101
148 1984 United States of America    113.36000
149 1985 United States of America    109.58200
150 1986 United States of America    105.37800
151 1987 United States of America    102.11800
152 1988 United States of America     99.62200
153 1989 United States of America     96.74000
154 1990 United States of America     95.81600
155 1991 United States of America     96.39300
156 1992 United States of America     97.55600
157 1993 United States of America     99.17590
158 1994 United States of America    100.97360
159 1995 United States of America    102.78520
160 1996 United States of America    103.54820
161 1997 United States of America    101.65570
162 1998 United States of America     99.74400
163 1999 United States of America     99.11500
164 2000 United States of America     98.19900
165 2001 United States of America     97.29750
166 2002 United States of America     96.72300
167 2003 United States of America     96.10000
168 2004 United States of America     94.88800
169 2005 United States of America     95.01800
170 2006 United States of America     96.70150
171 2007 United States of America     96.57300
172 2008 United States of America     96.03450
173 2009 United States of America     94.72100
174 2010 United States of America     94.08120
175 2011 United States of America     92.88740
176 2012 United States of America     91.16020
177 2013 United States of America     90.09520
178 2014 United States of America     88.52600
179 2015 United States of America     89.14300
180 2016 United States of America     91.88800
181 2017 United States of America     93.62460
182 2018 United States of America     94.29800
183 2019 United States of America     94.80470
184 2020 United States of America     93.79330
185 2021 United States of America     93.78950
186 2022 United States of America     92.07660</code></pre>
</div>
</div>
</section>
<section id="data-visualization" class="slide level2">
<h2>Data visualization</h2>

<img data-src="lec-5_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"></section>
<section id="regression-model-1" class="slide level2">
<h2>Regression model</h2>
<div class="columns">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>m <span class="ot">&lt;-</span> <span class="fu">lm</span>(NumberOfCows <span class="sc">~</span> Year <span class="sc">+</span> Country, <span class="at">data =</span> df_cattle_numbers)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</section>
<section id="multiple-linear-regression" class="slide level2 smaller">
<h2>Multiple linear regression</h2>
<p>Use <strong>multiple linear regression</strong> to model the relationship between a quantitative outcome (<span class="math inline">\(Y\)</span>) and a multiple quantitative predictors and factors (<span class="math inline">\(X\)</span>): <span class="math display">\[\Large{Y = \beta_0 + \beta_1 X_1 + \beta_2 X_2 + \epsilon}\]</span></p>
<ul>
<li class="fragment"><span class="math inline">\(\beta_1\)</span>: True slope of the relationship between <span class="math inline">\(X_1\)</span> and <span class="math inline">\(Y\)</span></li>
<li class="fragment"><span class="math inline">\(\beta_2\)</span>: True slope of the relationship between <span class="math inline">\(X_2\)</span> and <span class="math inline">\(Y\)</span></li>
<li class="fragment"><span class="math inline">\(\beta_0\)</span>: True intercept of the relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></li>
<li class="fragment"><span class="math inline">\(\epsilon\)</span>: Error (residual)</li>
</ul>
</section>
<section id="multiple-linear-regression-1" class="slide level2">
<h2>Multiple linear regression</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a>cows_fit <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a></a>  <span class="fu">fit</span>(NumberOfCows <span class="sc">~</span> Year <span class="sc">+</span> Country, <span class="at">data =</span> df_cattle_numbers)</span>
<span id="cb7-3"><a></a></span>
<span id="cb7-4"><a></a><span class="fu">tidy</span>(cows_fit)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 5
  term                             estimate std.error statistic  p.value
  &lt;chr&gt;                               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)                     -1785.      227.        -7.86 3.30e-13
2 Year                                0.970     0.114      8.51 6.39e-15
3 CountryIndia                       42.1       5.00       8.41 1.14e-14
4 CountryUnited States of America   -44.2       5.00      -8.84 8.12e-16</code></pre>
</div>
</div>
</section>
<section id="is-the-intercept-meaningful" class="slide level2">
<h2>Is the intercept meaningful?</h2>
<p>âœ… The intercept is meaningful in context of the data if</p>
<ul>
<li>the predictor can feasibly take values equal to or near zero or</li>
<li>the predictor has values near zero in the observed data</li>
</ul>
<p>ðŸ›‘ Otherwise, in this case not meaningful &amp; difficult to interpret!</p>
</section>
<section id="make-intercept-more-interpretable" class="slide level2">
<h2>Make intercept more interpretable</h2>
<ul>
<li><p>Substract the initial value of year <code>1960</code> from each year value</p></li>
<li><p>How do you interpret the intercept of 116 now?</p></li>
<li><p>Did the slope for <code>Year</code> or <code>Country</code> change</p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>cows_fit <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a></a>  <span class="fu">fit</span>(</span>
<span id="cb9-3"><a></a>    NumberOfCows <span class="sc">~</span> Year <span class="sc">+</span> Country, </span>
<span id="cb9-4"><a></a>    <span class="at">data =</span> df_cattle_numbers <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> Year <span class="sc">-</span> <span class="dv">1960</span>))</span>
<span id="cb9-5"><a></a><span class="fu">tidy</span>(cows_fit)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 5
  term                            estimate std.error statistic  p.value
  &lt;chr&gt;                              &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)                      117.        5.04      23.2  3.12e-56
2 Year                               0.970     0.114      8.51 6.39e-15
3 CountryIndia                      42.1       5.00       8.41 1.14e-14
4 CountryUnited States of America  -44.2       5.00      -8.84 8.12e-16</code></pre>
</div>
</div>
</section>
<section id="plot-the-slope-effect-of-county" class="slide level2">
<h2>Plot the slope effect of County</h2>
<p>The estimate for India and USA was +42M and -44M</p>

<img data-src="lec-5_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" class="r-stretch"></section>
<section id="plot-the-slope-effect-of-year" class="slide level2">
<h2>Plot the slope effect of Year</h2>
<p>How do you interpret the slope of 0.97, combined with this graph?</p>

<img data-src="lec-5_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="linear-regression-with-interaction" class="title-slide slide level1 center">
<h1>Linear regression with interaction</h1>

</section>
<section id="code-to-introduce-an-interaction-between-predictors" class="slide level2">
<h2>Code to introduce an interaction between predictors</h2>
<p>Use <code>*</code> to make an interaction term</p>
<ul>
<li><p>Year * Country or</p></li>
<li><p>Year + Country + Year:Country</p></li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>MODEL INFO:
Observations: 186
Dependent Variable: NumberOfCows
Type: OLS linear regression 

MODEL FIT:
F(5,180) = 1642.26, p = 0.00
RÂ² = 0.98
Adj. RÂ² = 0.98 

Standard errors:OLS
----------------------------------------------------------------
                                     Est.   S.E.   t val.      p
-------------------------------- -------- ------ -------- ------
(Intercept)                         51.98   1.84    28.31   0.00
Year                                 3.03   0.05    59.82   0.00
CountryIndia                       127.86   2.60    49.25   0.00
CountryUnited States of             64.76   2.60    24.94   0.00
America                                                         
Year:CountryIndia                   -2.72   0.07   -38.00   0.00
Year:CountryUnited States of        -3.46   0.07   -48.26   0.00
America                                                         
----------------------------------------------------------------</code></pre>
</div>
</div>
</section>
<section id="lets-plot-the-interaction" class="slide level2">
<h2>Lets plot the interaction</h2>



<img data-src="lec-5_files/figure-revealjs/unnamed-chunk-9-1.png" width="960" class="r-stretch"></section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p><a href="https://bovi-analytics.github.io/BeastsAndBytes/">https://bovi-analytics.github.io/BeastsAndBytes/</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/bovi-analytics\.github\.io\/BeastAndBytes\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>