[
  {
    "objectID": "weeks/week-2.html",
    "href": "weeks/week-2.html",
    "title": "WEEK 2: Data Collection & Organization Fundamentals",
    "section": "",
    "text": "Details/Subtopics:\n\nTypes of dairy data: continuous vs.¬†categorical, time-series, event-based\nData quality: accuracy, completeness, consistency\nIntroduction to Excel/spreadsheet organization\nBasic data cleaning techniques\n\n\n\nActivities/Tasks\n\nLecture (1/27): Principles of data collection, Visualization\nLecture (1/29): Data cleaning workflows and common issues in farm data\nLab (1/29):\n\nHands-on: Clean a ‚Äúmessy‚Äù CURC dataset (provided with intentional errors)\nPractice Excel functions for data organization\nIdentify data quality issues and document cleaning steps\n\n\n\n\nDue Dates:\n\nLab worksheet on data cleaning (due start of Week 3)\n\n\n\nDatasets/Resources:\n\nSample CURC dataset with quality issues, Excel templates",
    "crumbs": [
      "Weekly materials",
      "Week 2"
    ]
  },
  {
    "objectID": "weeks/week-10.html",
    "href": "weeks/week-10.html",
    "title": "WEEK 10: Nutrition & Feed Management Data",
    "section": "",
    "text": "Details/Subtopics:\n\nTotal mixed ration (TMR) composition and analysis\nFeed intake monitoring\nBody condition scoring (BCS) and relationships to nutrition/production\n\n\n\nActivities/Tasks\n\nLecture (3/24): Nutrition basics and data-driven feeding strategies\nLecture (3/26): Interpreting feed analysis reports and intake data\nLab (3/26):\n\nCURC Visit #3: Observe feed preparation, delivery, and intake measurement\nReview CURC feed records and TMR composition data\nBrainstorm: How do nutrition data inform management decisions?\n\n\n\n\nDue Dates:\n\nReflection on nutrition systems (due after Spring Break)\n\n\n\nDatasets/Resources:\n\nCURC feed composition, intake records, BCS data",
    "crumbs": [
      "Weekly materials",
      "Week 10"
    ]
  },
  {
    "objectID": "weeks/week-7.html",
    "href": "weeks/week-7.html",
    "title": "WEEK 7: Student Presentations; Reproductive Insights",
    "section": "",
    "text": "Details/Subtopics:\n\nPresenting reproductive performance findings\nImplications for breeding strategies and herd fertility\n\n\n\nActivities/Tasks\n\nLecture (3/3): Discussion: Integrating reproductive management with other farm systems\nLecture (3/5): Student team presentations on reproductive analysis\nLab (3/5):\n\nPeer evaluation\nDiscussion with CURC manager (if available): Are these insights actionable?\n\n\n\n\nDue Dates:\n\nTeam presentations (3/5) ‚Äì peer evaluation due\n\n\n\nDatasets/Resources:\n\nStudent analyses",
    "crumbs": [
      "Weekly materials",
      "Week 7"
    ]
  },
  {
    "objectID": "weeks/week-4.html",
    "href": "weeks/week-4.html",
    "title": "WEEK 4: Student Presentations ‚Äì Milk Production Insights",
    "section": "",
    "text": "Details/Subtopics\n\nInterpreting milk production trends\nDiscussing implications for herd management\nPeer evaluation and feedback\n\n\n\nActivities/Tasks\n\nLecture (2/10): Effective data visualization and communication strategies\nLecture (2/12): Student team presentations on milk production analysis\nLab (2/12):\n\nPeer evaluation of presentations\nDiscussion: What did we learn? What management decisions could be informed?\n\n\n\n\nDue Dates:\n\nTeam presentations (2/12) ‚Äì peer evaluation forms due\n\n\n\nDatasets/Resources:\n\nStudent-generated analyses and visualizations",
    "crumbs": [
      "Weekly materials",
      "Week 4"
    ]
  },
  {
    "objectID": "weeks/week-5.html",
    "href": "weeks/week-5.html",
    "title": "WEEK 5 (Shortened): Reproductive Management & Data",
    "section": "",
    "text": "Details/Subtopics:\n\nReproductive metrics: conception rate, days to first service, pregnancy rate\nHeat detection data and estrus synchronization records\nIntroduction to event-based data analysis\n\n\n\nActivities/Tasks\n\nLecture (2/19): Reproductive biology basics and key data-driven metrics\nLab (2/19):\n\nCURC Visit #2: Observe reproductive management practices (AI, pregnancy checks)\nCollect/discuss available reproductive data from CURC records\nBrainstorm questions: How can reproductive data improve management?\n\n\n\n\nDue Dates:\n\nReflection assignment on CURC visit (due start of Week 6)\n\n\n\nDatasets/Resources:\n\nCURC reproductive records (breeding dates, pregnancy outcomes)",
    "crumbs": [
      "Weekly materials",
      "Week 5"
    ]
  },
  {
    "objectID": "weeks/week-14.html",
    "href": "weeks/week-14.html",
    "title": "WEEK 14: Capstone Preparation & Practice Presentations",
    "section": "",
    "text": "Details/Subtopics\n\nRefining SWOT analysis and actionable recommendations\nCommunicating with non-technical audiences (farm managers, stakeholders)\nProfessional presentation skills\n\n\n\nActivities/Tasks:\n\nLecture (4/28): Effective communication for decision-makers\nLecture (4/30): Practice presentations (internal peer review)\nLab (4/30):\n\nTeams finalize SWOT presentations\nPeer feedback on clarity, data use, and professionalism\nRefine visualizations and messaging\n\n\n\n\nDue Dates:\n\nPeer feedback on practice presentations\n\n\n\nDatasets/Resources:\n\nStudent-generated dashboards and reports",
    "crumbs": [
      "Weekly materials",
      "Week 14"
    ]
  },
  {
    "objectID": "weeks/week-13.html",
    "href": "weeks/week-13.html",
    "title": "WEEK 13: Data Integration & SWOT Analysis Preparation",
    "section": "",
    "text": "Details/Subtopics:\n\nBuilding a holistic view of herd performance\nIntroduction to SWOT analysis (Strengths, Weaknesses, Opportunities, Threats)\nPreparing data visualizations and summary reports\n\n\n\nActivities/Tasks\n\nLecture (4/21): Integrating data for strategic decision-making\nLecture (4/23): SWOT analysis framework and capstone expectations\nLab (4/23):\n\nTeams begin synthesizing semester data (milk, reproduction, health, nutrition, economics)\nDevelop draft SWOT analysis for CURC\nCreate visual dashboards/summaries (Tableau, or PowerPoint)\n\n\n\nDue Dates:\n\nDraft SWOT outline (due start of Week 14)\n\n\n\nDatasets/Resources:\n\nAll CURC datasets from semester; Tableau/visualization software",
    "crumbs": [
      "Weekly materials",
      "Week 13"
    ]
  },
  {
    "objectID": "weeks/week-12.html",
    "href": "weeks/week-12.html",
    "title": "WEEK 12: Farm Economics & Data-Driven Decision Making",
    "section": "",
    "text": "Details/Subtopics\n\nIncome over feed cost (IOFC)\nBreakeven analysis\nLinking biological data to financial outcomes\nIntroduction to decision-support tools\n\n\n\nActivities/Tasks\n\nLecture (4/14): Economics of dairy production: key metrics and data needs\nLecture (4/16): Case study: Using data to evaluate management changes\nLab (4/16):\n\nCalculate IOFC from CURC data\nSimple economic modeling exercise (e.g., cost of disease, value of improved reproduction)\nDiscuss ethical considerations in data interpretation\n\n\n\n\nDue Dates:\n\nEconomics lab worksheet (due start of Week 13)\n\n\n\nDatasets/Resources\n\nCURC production and financial summary data\nMilk and feed price data",
    "crumbs": [
      "Weekly materials",
      "Week 12"
    ]
  },
  {
    "objectID": "project-agreement.html",
    "href": "project-agreement.html",
    "title": "A+ Project grading",
    "section": "",
    "text": "The following goals were agreed upon on February 19 as required elements for earning an A+ in the final project for the Digital Dairy Management and Data Analytics course (Instructor: M. Hostens).\nAt the end of the course‚Äîafter the final presentation with the farm manager ‚Äîthese checkboxes can be validated.\n\n\n\n\n\n\n\n\nRequirement\nCompleted?\nBy when\n\n\n\n\nData agreement in place and signed by all parties\n‚òê\nFebruary 19th 2026\n\n\nData quality (including inventory check)\n‚òê\nFebruary 19th 2026\n\n\nDataset organized\n\nSafe place organized\nDefinition of what data needed are clear\nFAIR principles are used\nNaming conventions are in place and used\n\n‚òê\nMarch 1st 2026\n\n\nQuestions* defined\n‚òê\nMarch 15th 2026\n\n\nPresentation\n\nCovered 90% of questions addressed by March 15th\nEvery student has equal contribution in the presentation\n\n‚òê\n\n\n\nPeer feedback the day after the presentation\n\nRoundtable discussion good/bad\nDr.¬†Hostens will give final feedback/mark\n\n‚òê\n\n\n\nAsk the farmer if each member of the team showed¬†professional attitude¬†in all interactions\n‚òê\n\n\n\nDiSC profiling implemented for each team member\n‚òê\n\n\n\n\n\n\n\n\nMilk production (defined on ‚Ä¶)\n\nProvide long term milk yield analysis, including ECM and components, and analysis for a seasonal effect\nDo changes in components compensate\nWhat is the evolution of the relative production of heifers versus cows\nVisualize lactation curves per parity\nAre cows in the tie stall vs free stalls producing differently\n\nInventory clarifications:\n\nAre DC305 inventory correct for stall numbers/cow numbers\nDHI herd summary said that 88 death cows in last year, correct?\nIs the herd actually shrinking\nDeath loss\n\nWhat‚Äôs going on?\n\n\nReproduction\n\nTBD\n\n\n\n\n\n\nThis table should be reviewed jointly by the team, the farmer(s), and Professor Hostens following the final presentation.\nThe checklist is meant to support transparency, self‚Äëreflection, and assessment alignment.",
    "crumbs": [
      "Project",
      "Project agreement"
    ]
  },
  {
    "objectID": "project-agreement.html#a-grading-eligibility-checklist",
    "href": "project-agreement.html#a-grading-eligibility-checklist",
    "title": "A+ Project grading",
    "section": "",
    "text": "The following goals were agreed upon on February 19 as required elements for earning an A+ in the final project for the Digital Dairy Management and Data Analytics course (Instructor: M. Hostens).\nAt the end of the course‚Äîafter the final presentation with the farm manager ‚Äîthese checkboxes can be validated.\n\n\n\n\n\n\n\n\nRequirement\nCompleted?\nBy when\n\n\n\n\nData agreement in place and signed by all parties\n‚òê\nFebruary 19th 2026\n\n\nData quality (including inventory check)\n‚òê\nFebruary 19th 2026\n\n\nDataset organized\n\nSafe place organized\nDefinition of what data needed are clear\nFAIR principles are used\nNaming conventions are in place and used\n\n‚òê\nMarch 1st 2026\n\n\nQuestions* defined\n‚òê\nMarch 15th 2026\n\n\nPresentation\n\nCovered 90% of questions addressed by March 15th\nEvery student has equal contribution in the presentation\n\n‚òê\n\n\n\nPeer feedback the day after the presentation\n\nRoundtable discussion good/bad\nDr.¬†Hostens will give final feedback/mark\n\n‚òê\n\n\n\nAsk the farmer if each member of the team showed¬†professional attitude¬†in all interactions\n‚òê\n\n\n\nDiSC profiling implemented for each team member\n‚òê\n\n\n\n\n\n\n\n\nMilk production (defined on ‚Ä¶)\n\nProvide long term milk yield analysis, including ECM and components, and analysis for a seasonal effect\nDo changes in components compensate\nWhat is the evolution of the relative production of heifers versus cows\nVisualize lactation curves per parity\nAre cows in the tie stall vs free stalls producing differently\n\nInventory clarifications:\n\nAre DC305 inventory correct for stall numbers/cow numbers\nDHI herd summary said that 88 death cows in last year, correct?\nIs the herd actually shrinking\nDeath loss\n\nWhat‚Äôs going on?\n\n\nReproduction\n\nTBD\n\n\n\n\n\n\nThis table should be reviewed jointly by the team, the farmer(s), and Professor Hostens following the final presentation.\nThe checklist is meant to support transparency, self‚Äëreflection, and assessment alignment.",
    "crumbs": [
      "Project",
      "Project agreement"
    ]
  },
  {
    "objectID": "supplemental/operations-in-r.html",
    "href": "supplemental/operations-in-r.html",
    "title": "Python Code Examples",
    "section": "",
    "text": "Available upon request",
    "crumbs": [
      "Supplemental notes",
      "Python Code Examples"
    ]
  },
  {
    "objectID": "labs/lab-0.html",
    "href": "labs/lab-0.html",
    "title": "Lab 0 - Meet + greet",
    "section": "",
    "text": "Today‚Äôs lab is short and sweet! We just need you to fill out the ‚ÄúGetting to know you‚Äù survey. Please go here to take it. You will need to log on to Sakai to access to survey.\nYour answers can be brief. Some of your answers will be used to guide what application examples might be of interest to a majority of students in the course and some of your answers will be used to help guide team formation. We expect this will take you ~10 minutes."
  },
  {
    "objectID": "slides/lec-6-1.html#what-are-the-fair-principles",
    "href": "slides/lec-6-1.html#what-are-the-fair-principles",
    "title": "Reproducible and FAIR data science",
    "section": "What are the FAIR principles",
    "text": "What are the FAIR principles\nFAIR data¬†is¬†data¬†which meets the¬†FAIR principles¬†of¬†findability, accessibility,¬†interoperability, and¬†reusability¬†(FAIR).[1][2]¬†The acronym and principles were defined in a March 2016 paper in the journal¬†Scientific Data¬†by a consortium of scientists and organizations.[1]"
  },
  {
    "objectID": "slides/lec-6-1.html#get-to-know-the-principles-1",
    "href": "slides/lec-6-1.html#get-to-know-the-principles-1",
    "title": "Reproducible and FAIR data science",
    "section": "Get to know the principles (1)",
    "text": "Get to know the principles (1)\n\nGet familiar with FAIR by looking at this video.\nRead the intial publication on The FAIR Guiding Principles for scientific data management and stewardschip.\nExplore the vision of Cornell University on FAIR principles and their cheatsheets."
  },
  {
    "objectID": "slides/lec-6-1.html#get-to-know-the-principles-2",
    "href": "slides/lec-6-1.html#get-to-know-the-principles-2",
    "title": "Reproducible and FAIR data science",
    "section": "Get to know the principles (2)",
    "text": "Get to know the principles (2)\n\nCheck for reproducible advise in the tutorials at the bovi-analytics website.\nDiscuss with the entire team and Dr.¬†Miel Hostens (contact him on his desk) on how this will reflect on your team project."
  },
  {
    "objectID": "slides/lec-6-1.html#findable",
    "href": "slides/lec-6-1.html#findable",
    "title": "Reproducible and FAIR data science",
    "section": "Findable",
    "text": "Findable\nThe first step in (re)using data is to find them. Metadata and data should be easy to find for both humans and computers. Machine-readable metadata are essential for automatic discovery of datasets and services, so this is an essential component of the FAIRification process."
  },
  {
    "objectID": "slides/lec-6-1.html#findable-1",
    "href": "slides/lec-6-1.html#findable-1",
    "title": "Reproducible and FAIR data science",
    "section": "Findable",
    "text": "Findable\n\nF1. (Meta)data are assigned a globally unique and persistent identifier\nF2. Data are described with rich metadata (defined by R1 below)\nF3. Metadata clearly and explicitly include the identifier of the data they describe\nF4. (Meta)data are registered or indexed in a searchable resource"
  },
  {
    "objectID": "slides/lec-6-1.html#accessible",
    "href": "slides/lec-6-1.html#accessible",
    "title": "Reproducible and FAIR data science",
    "section": "Accessible",
    "text": "Accessible\nOnce the user finds the required data, they need to know how they can be accessed, possibly including authentication and authorisation."
  },
  {
    "objectID": "slides/lec-6-1.html#accessible-1",
    "href": "slides/lec-6-1.html#accessible-1",
    "title": "Reproducible and FAIR data science",
    "section": "Accessible",
    "text": "Accessible\n\nA1. (Meta)data are retrievable by their identifier using a standardised communications protocol\nA1.1 The protocol is open, free, and universally implementable\nA1.2 The protocol allows for an authentication and authorisation procedure, where necessary\nA2. Metadata are accessible, even when the data are no longer available"
  },
  {
    "objectID": "slides/lec-6-1.html#interoperable",
    "href": "slides/lec-6-1.html#interoperable",
    "title": "Reproducible and FAIR data science",
    "section": "Interoperable",
    "text": "Interoperable\nThe data usually need to be integrated with other data. In addition, the data need to interoperate with applications or workflows for analysis, storage, and processing."
  },
  {
    "objectID": "slides/lec-6-1.html#interoperable-1",
    "href": "slides/lec-6-1.html#interoperable-1",
    "title": "Reproducible and FAIR data science",
    "section": "Interoperable",
    "text": "Interoperable\n\nI1. (Meta)data use a formal, accessible, shared, and broadly applicable language for knowledge representation.\nI2. (Meta)data use vocabularies that follow FAIR principles\nI3. (Meta)data include qualified references to other (meta)data"
  },
  {
    "objectID": "slides/lec-6-1.html#reusable",
    "href": "slides/lec-6-1.html#reusable",
    "title": "Reproducible and FAIR data science",
    "section": "Reusable",
    "text": "Reusable\nThe ultimate goal of FAIR is to optimise the reuse of data. To achieve this, metadata and data should be well-described so that they can be replicated and/or combined in different settings."
  },
  {
    "objectID": "slides/lec-6-1.html#reusable-1",
    "href": "slides/lec-6-1.html#reusable-1",
    "title": "Reproducible and FAIR data science",
    "section": "Reusable",
    "text": "Reusable\n\nR1. (Meta)data are richly described with a plurality of accurate and relevant attributes\nR1.1. (Meta)data are released with a clear and accessible data usage license\nR1.2. (Meta)data are associated with detailed provenance\nR1.3. (Meta)data meet domain-relevant community standards"
  },
  {
    "objectID": "slides/lec-6-1.html#why-do-we-need-this",
    "href": "slides/lec-6-1.html#why-do-we-need-this",
    "title": "Reproducible and FAIR data science",
    "section": "Why do we need this",
    "text": "Why do we need this\n\nDairy data science is multimodal, longitudinal, and collaborative\nNaming is not cosmetic ‚Äî it is infrastructure\nMost downstream issues are caused by:\n\nAmbiguity\nInconsistency\nSilent semantic drift"
  },
  {
    "objectID": "slides/lec-6-1.html#minutes-4-takeaways",
    "href": "slides/lec-6-1.html#minutes-4-takeaways",
    "title": "Reproducible and FAIR data science",
    "section": "40 Minutes, 4 Takeaways",
    "text": "40 Minutes, 4 Takeaways\n\nNaming conventions are scientific decisions\nBad names silently break analyis and models\nConventions must scale across projects & people\nGovernance matters more than documentation"
  },
  {
    "objectID": "slides/lec-6-1.html#the-dairy-data-reality",
    "href": "slides/lec-6-1.html#the-dairy-data-reality",
    "title": "Reproducible and FAIR data science",
    "section": "The Dairy Data Reality",
    "text": "The Dairy Data Reality\n\nMultiple farms\nMultiple vendors\nMultiple countries\nMultiple disciplines:\n\nNutrition\nHealth\nBehavior\nProduction\n\n\n‚Üí Names are the only shared language"
  },
  {
    "objectID": "slides/lec-6-1.html#what-is-a-naming-convention",
    "href": "slides/lec-6-1.html#what-is-a-naming-convention",
    "title": "Reproducible and FAIR data science",
    "section": "What Is a Naming Convention?",
    "text": "What Is a Naming Convention?\n\nA set of agreed‚Äëupon rules for creating unique, informative, and stable names for data objects.\n\nApplies to:\n\nVariables\nTables\nFiles\nVisuals\nOntology terms"
  },
  {
    "objectID": "slides/lec-6-1.html#naming-style-preference",
    "href": "slides/lec-6-1.html#naming-style-preference",
    "title": "Reproducible and FAIR data science",
    "section": "Naming ‚â† Style Preference",
    "text": "Naming ‚â† Style Preference\nBad naming causes:\n\nWrong joins\nBroken pipelines\nInvalid within/between farm comparisons\n\nThese errors do not throw exceptions."
  },
  {
    "objectID": "slides/lec-6-1.html#common-dairy-data-failures",
    "href": "slides/lec-6-1.html#common-dairy-data-failures",
    "title": "Reproducible and FAIR data science",
    "section": "Common Dairy Data Failures",
    "text": "Common Dairy Data Failures\n\nDIM, days_in_milk, DaysInMilk\nmilk_yield, MilkYieldKg, MY\nother, Other, OTHER\nlactation_stage vs lactation_stages\n\nEach creates a new semantic entity"
  },
  {
    "objectID": "slides/lec-6-1.html#names-encode-meaning",
    "href": "slides/lec-6-1.html#names-encode-meaning",
    "title": "Reproducible and FAIR data science",
    "section": "Names Encode Meaning",
    "text": "Names Encode Meaning\nA good name answers:\n\nWhat?\nFor whom?\nIn what unit?\nAt what level?\nOver what time window?"
  },
  {
    "objectID": "slides/lec-6-1.html#core-design-principles",
    "href": "slides/lec-6-1.html#core-design-principles",
    "title": "Reproducible and FAIR data science",
    "section": "Core Design Principles",
    "text": "Core Design Principles\n\nConsistency over cleverness\nExplicit over implicit\nStable over convenient\nReadable by humans and machines"
  },
  {
    "objectID": "slides/lec-6-1.html#scope-of-a-naming-convention",
    "href": "slides/lec-6-1.html#scope-of-a-naming-convention",
    "title": "Reproducible and FAIR data science",
    "section": "Scope of a Naming Convention",
    "text": "Scope of a Naming Convention\nYou must define rules for:\n\n‚úÖ Variables\n‚úÖ Tables\n‚úÖ Files\n‚úÖ Features\n‚úÖ Categories\n‚úÖ Ontology terms\n\nPartial conventions always fail."
  },
  {
    "objectID": "slides/lec-6-1.html#case-sensitivity-matters",
    "href": "slides/lec-6-1.html#case-sensitivity-matters",
    "title": "Reproducible and FAIR data science",
    "section": "Case Sensitivity Matters",
    "text": "Case Sensitivity Matters\nChoose one and enforce it.\nRecommended: - CamelCase for data schemas - lower_snake_case for code variables\nNever mix within the same layer."
  },
  {
    "objectID": "slides/lec-6-1.html#variable-naming-pattern",
    "href": "slides/lec-6-1.html#variable-naming-pattern",
    "title": "Reproducible and FAIR data science",
    "section": "Variable Naming Pattern",
    "text": "Variable Naming Pattern\nIt‚Äôs now the perfect time to decide on a convention used for the project"
  },
  {
    "objectID": "slides/lec-6-2.html#why-inventory-calculations-matter",
    "href": "slides/lec-6-2.html#why-inventory-calculations-matter",
    "title": "Inventory Management in Dairy Systems",
    "section": "Why Inventory Calculations Matter",
    "text": "Why Inventory Calculations Matter\n\nInventory is the constraint layer under everything else.\nIf a herd inventory snapshot is wrong ‚Üí future decisions will all be wrong.\nToday:\n\nBuild the mental model\nUnderstand the math\nLab on CDREC flow"
  },
  {
    "objectID": "slides/lec-6-2.html#learning-outcomes",
    "href": "slides/lec-6-2.html#learning-outcomes",
    "title": "Inventory Management in Dairy Systems",
    "section": "Learning Outcomes",
    "text": "Learning Outcomes\nBy the end you can:\n\nDistinguish state vs flow\nDefine risk vs rate\nCompute and interpret key herd dynamics metrics\nAvoid synonym traps\nUse DC305 to extract numerators/denominators for CDREC strategy"
  },
  {
    "objectID": "slides/lec-6-2.html#two-herds-same-cow-count-different-future",
    "href": "slides/lec-6-2.html#two-herds-same-cow-count-different-future",
    "title": "Inventory Management in Dairy Systems",
    "section": "Two herds, same cow count, different future",
    "text": "Two herds, same cow count, different future\n\nHerd A and Herd B both have 1,000 cows today\nOne shrinks, one grows\nThe difference is flows\n\n\n\n\n\n\nflowchart LR\nBirths --&gt; Heifers --&gt; Cows\nCows --&gt;|Cull/Sell| Exit\nCows --&gt;|Death| Exit"
  },
  {
    "objectID": "slides/lec-6-2.html#vocabulary",
    "href": "slides/lec-6-2.html#vocabulary",
    "title": "Inventory Management in Dairy Systems",
    "section": "Vocabulary",
    "text": "Vocabulary\n\nStatics: snapshot at a moment\n\n‚Äúwhat exists‚Äù\n\nDynamics: movement over time\n\n‚Äúwhere it is going‚Äù"
  },
  {
    "objectID": "slides/lec-6-2.html#dc305",
    "href": "slides/lec-6-2.html#dc305",
    "title": "Inventory Management in Dairy Systems",
    "section": "DC305",
    "text": "DC305\nChoose the ‚Äúas‚Äëof‚Äù date intentionally\nSet date in cowfile to ‚Äútoday‚Äù\nSETDAY\\*\nSet date to last event entry date\nSETDAY\\E\nSet date to most recent test date\nSETDAY\\T\nSet date to selected date\nSETDAY\\mm/dd/yy"
  },
  {
    "objectID": "slides/lec-6-2.html#why-date-matters",
    "href": "slides/lec-6-2.html#why-date-matters",
    "title": "Inventory Management in Dairy Systems",
    "section": "Why date matters",
    "text": "Why date matters\n\n‚ÄúLast 365 days‚Äù depends on file date\nIf the backup date is wrong ‚Üí your rates are wrong"
  },
  {
    "objectID": "slides/lec-6-2.html#risk-vs-rate-the-core-confusion",
    "href": "slides/lec-6-2.html#risk-vs-rate-the-core-confusion",
    "title": "Inventory Management in Dairy Systems",
    "section": "Risk vs Rate (the core confusion)",
    "text": "Risk vs Rate (the core confusion)\nMost bad inventory math comes from mixing:\n\nProbabilities and\nTime‚Äëbased rates"
  },
  {
    "objectID": "slides/lec-6-2.html#risk-probability",
    "href": "slides/lec-6-2.html#risk-probability",
    "title": "Inventory Management in Dairy Systems",
    "section": "Risk (probability)",
    "text": "Risk (probability)\n\nFraction experiencing event over specified period\nUnitless\nMust specify time window"
  },
  {
    "objectID": "slides/lec-6-2.html#example---culling-risk",
    "href": "slides/lec-6-2.html#example---culling-risk",
    "title": "Inventory Management in Dairy Systems",
    "section": "Example - Culling Risk",
    "text": "Example - Culling Risk\nDefinition\nProbability that a cow is culled during a specified time period.\n\\[\nRisk = \\frac{\\text{Number of cows culled during period}}{\\text{Number of cows at risk at start}}\n\\]\n\nUnit: none (0‚Äì1)\nTime period must be defined\nBounded by 1"
  },
  {
    "objectID": "slides/lec-6-2.html#better-example---annual-culling-risk",
    "href": "slides/lec-6-2.html#better-example---annual-culling-risk",
    "title": "Inventory Management in Dairy Systems",
    "section": "Better example - Annual Culling Risk",
    "text": "Better example - Annual Culling Risk\nSuppose:\n\n100 cows at start of year\n20 cows culled during the year\n\n\\[\nRisk = 20/100 = 0.20\n\\]\nüëâ 20% probability of being culled during that year\nThis is a probability over one year."
  },
  {
    "objectID": "slides/lec-6-2.html#rate",
    "href": "slides/lec-6-2.html#rate",
    "title": "Inventory Management in Dairy Systems",
    "section": "Rate",
    "text": "Rate\n\nEvents per unit time (per cow‚Äëtime)\nUnits: 1/time\nSupports unequal follow‚Äëup"
  },
  {
    "objectID": "slides/lec-6-2.html#incidence-rate",
    "href": "slides/lec-6-2.html#incidence-rate",
    "title": "Inventory Management in Dairy Systems",
    "section": "Incidence Rate",
    "text": "Incidence Rate\nDefinition\nSpeed at which culling events occur.\n\\[\nRate = \\frac{\\text{Number of cullings}}{\\text{Total cow-time at risk}}\n\\]\n\nUnit: 1 / time (e.g., per cow-year)\nUses animal-time\nNo upper bound"
  },
  {
    "objectID": "slides/lec-6-2.html#cow-year-definition",
    "href": "slides/lec-6-2.html#cow-year-definition",
    "title": "Inventory Management in Dairy Systems",
    "section": "Cow-year ‚Äî definition",
    "text": "Cow-year ‚Äî definition\nA cow-year is animal-time at risk:\n\n1 cow-year = one cow present and at risk for 1 year\nMore generally: sum the time each cow is ‚Äúin the population at risk,‚Äù expressed in years.\n\nThis is the recommended denominator logic for herd turnover: exits / animal time at risk."
  },
  {
    "objectID": "slides/lec-6-2.html#cow-year-formula",
    "href": "slides/lec-6-2.html#cow-year-formula",
    "title": "Inventory Management in Dairy Systems",
    "section": "Cow-year ‚Äî formula",
    "text": "Cow-year ‚Äî formula\n\\[\n\\text{Cow-years} = \\sum_{i=1}^{n} \\frac{\\text{days cow } i \\text{ is at risk during period}}{365}\n\\]\nKey idea: time belongs in the denominator when you report a rate."
  },
  {
    "objectID": "slides/lec-6-2.html#example-counting-cow-years",
    "href": "slides/lec-6-2.html#example-counting-cow-years",
    "title": "Inventory Management in Dairy Systems",
    "section": "Example: counting cow-years",
    "text": "Example: counting cow-years\n\nCow A present all year: (365/365 = 1.00) cow-year\nCow B present 180 days: (180/365 = 0.49) cow-year\nCow C present 90 days: (90/365 = 0.25) cow-year\n\nTotal exposure = (1.00 + 0.49 + 0.25 = 1.74) cow-years"
  },
  {
    "objectID": "slides/lec-6-2.html#herd-level-approximation",
    "href": "slides/lec-6-2.html#herd-level-approximation",
    "title": "Inventory Management in Dairy Systems",
    "section": "Herd-level approximation",
    "text": "Herd-level approximation\nFor a 12-month window, if herd size is fairly stable:\n\\[\n\\text{Cow-years} \\approx \\text{Average number of cows present during the year} \\times \\text{1 year}\n\\]\nThis is why many ‚Äúannual‚Äù turnover metrics use average milking + dry cows as the denominator."
  },
  {
    "objectID": "slides/lec-6-2.html#example-annual-culling-rate",
    "href": "slides/lec-6-2.html#example-annual-culling-rate",
    "title": "Inventory Management in Dairy Systems",
    "section": "Example: Annual Culling Rate",
    "text": "Example: Annual Culling Rate\nSuppose:\n\n20 cows culled\nTotal time at risk = 90 cow-years\n(because cows leave during the year)\n\n\\[\nRate = 20 / 90 = 0.222 \\text{ per cow-year}\n\\]\nüëâ 0.222 cullings per cow-year\nThis is a speed, not a probability."
  },
  {
    "objectID": "slides/lec-6-2.html#why-they-are-not-the-same",
    "href": "slides/lec-6-2.html#why-they-are-not-the-same",
    "title": "Inventory Management in Dairy Systems",
    "section": "Why They Are Not the Same",
    "text": "Why They Are Not the Same\nRisk asks:\n\nWhat fraction of cows are culled during the year?\n\nRate asks:\n\nHow fast are cows being culled?\n\nDifferent denominators:\n\nRisk ‚Üí cows\nRate ‚Üí cow-time"
  },
  {
    "objectID": "slides/lec-6-2.html#why-words-break-math",
    "href": "slides/lec-6-2.html#why-words-break-math",
    "title": "Inventory Management in Dairy Systems",
    "section": "Why words break math",
    "text": "Why words break math\n\n‚Äú30% cull risk‚Äù - Over a month? year? lactation?\n‚Äú0.35 removals per cow‚Äëyear‚Äù - interpretable\n\nRule\n\nIf you can‚Äôt attach a time window, you don‚Äôt have a rate."
  },
  {
    "objectID": "slides/lec-6-2.html#definitions-that-wont-betray-you",
    "href": "slides/lec-6-2.html#definitions-that-wont-betray-you",
    "title": "Inventory Management in Dairy Systems",
    "section": "Definitions that won‚Äôt betray you",
    "text": "Definitions that won‚Äôt betray you\nEach metric has a:\n\nnumerator\ndenominator\ntime window\npopulation scope"
  },
  {
    "objectID": "slides/lec-6-2.html#removal-culling-rate-definition",
    "href": "slides/lec-6-2.html#removal-culling-rate-definition",
    "title": "Inventory Management in Dairy Systems",
    "section": "Removal / Culling rate ‚Äî definition",
    "text": "Removal / Culling rate ‚Äî definition\n\nExits / cow‚Äëyear\nConfusion\n\nExits may include sold (alive) + culled + deaths (be explicit)\nSometimes used as synonyms\nIn rigorous use: removal includes all exits; cull may exclude deaths/live culls\n\nYour job: define numerator explicitly"
  },
  {
    "objectID": "slides/lec-6-2.html#mortality-death-rate-definition",
    "href": "slides/lec-6-2.html#mortality-death-rate-definition",
    "title": "Inventory Management in Dairy Systems",
    "section": "Mortality / Death rate ‚Äî definition",
    "text": "Mortality / Death rate ‚Äî definition\n\nDeaths / cow‚Äëyear\nAlways specify population:\n\ncows\ncalves\nheifers"
  },
  {
    "objectID": "slides/lec-6-2.html#replacement-rate-definition",
    "href": "slides/lec-6-2.html#replacement-rate-definition",
    "title": "Inventory Management in Dairy Systems",
    "section": "Replacement rate ‚Äî definition",
    "text": "Replacement rate ‚Äî definition\n\nFirst‚Äëlactation entries / cow‚Äëyear\nIn a steady state (no growth) :\n\nreplacement rate ‚âà exit rate"
  },
  {
    "objectID": "slides/lec-6-2.html#calving-freshening-rate-definition",
    "href": "slides/lec-6-2.html#calving-freshening-rate-definition",
    "title": "Inventory Management in Dairy Systems",
    "section": "Calving / Freshening rate ‚Äî definition",
    "text": "Calving / Freshening rate ‚Äî definition\n\nCalvings / cow‚Äëyear\nSometimes operationalized as fresh cows per month (be explicit)"
  },
  {
    "objectID": "slides/lec-6-2.html#herd-turnover-rate-definition",
    "href": "slides/lec-6-2.html#herd-turnover-rate-definition",
    "title": "Inventory Management in Dairy Systems",
    "section": "Herd turnover rate ‚Äî definition",
    "text": "Herd turnover rate ‚Äî definition\n\nProportion replaced over time\nThink ‚Äústall slots‚Äù being refilled"
  },
  {
    "objectID": "slides/lec-6-2.html#involuntary-vs-voluntary-removals",
    "href": "slides/lec-6-2.html#involuntary-vs-voluntary-removals",
    "title": "Inventory Management in Dairy Systems",
    "section": "Involuntary vs voluntary removals",
    "text": "Involuntary vs voluntary removals\n\nVoluntary culling ‚Üí economically driven decision\n\nLow milk yield\nReproductive decisions\nStrategic replacement\n\nInvoluntary culling ‚Üí biological constraint\n\nMastitis\nLameness\nMortality"
  },
  {
    "objectID": "slides/lec-6-2.html#build-it-from-components",
    "href": "slides/lec-6-2.html#build-it-from-components",
    "title": "Inventory Management in Dairy Systems",
    "section": "Build it from components",
    "text": "Build it from components\nInventory is not one number.\nIt is:\n\nentries\nexits\ntime"
  },
  {
    "objectID": "slides/lec-6-2.html#the-simplest-dynamic-identity",
    "href": "slides/lec-6-2.html#the-simplest-dynamic-identity",
    "title": "Inventory Management in Dairy Systems",
    "section": "The simplest dynamic identity",
    "text": "The simplest dynamic identity\n\\[\nN_{t+1} = N_t + \\text{Entries} - \\text{Exits}\n\\]\nStable size implies:\n\\[\n\\text{Entry rate} \\approx \\text{Exit rate}\n\\]"
  },
  {
    "objectID": "slides/lec-6-2.html#what-changes-herd-size",
    "href": "slides/lec-6-2.html#what-changes-herd-size",
    "title": "Inventory Management in Dairy Systems",
    "section": "What changes herd size?",
    "text": "What changes herd size?\nIf you want growth:\n\nincrease entries\ndecrease exits\nor both\n\n‚Ä¶but constraints intervene."
  },
  {
    "objectID": "slides/lec-6-2.html#herd-constraints-farm-growth-realism",
    "href": "slides/lec-6-2.html#herd-constraints-farm-growth-realism",
    "title": "Inventory Management in Dairy Systems",
    "section": "Herd constraints (farm growth realism)",
    "text": "Herd constraints (farm growth realism)\n\nhousing / stalls\nheifer capacity\nrepro performance\ncalf survival\ntransition cow health"
  },
  {
    "objectID": "slides/lec-6-2.html#visual",
    "href": "slides/lec-6-2.html#visual",
    "title": "Inventory Management in Dairy Systems",
    "section": "Visual",
    "text": "Visual\nConstraints as a funnel\n\n\n\n\n\nflowchart LR\nA[Pregnancy performance] --&gt; B[Calvings]\nB --&gt; C[Heifer survival]\nC --&gt; D[Heifers to breed]\nD --&gt; E[Heifers calving‚Äëin]\nE --&gt; F[Milk cow slots]"
  },
  {
    "objectID": "slides/lec-6-2.html#fertility-the-pipeline-driver",
    "href": "slides/lec-6-2.html#fertility-the-pipeline-driver",
    "title": "Inventory Management in Dairy Systems",
    "section": "Fertility: the pipeline driver",
    "text": "Fertility: the pipeline driver\nPregnancy performance changes:\n\ntiming of calvings\nreplacement flow\nage structure"
  },
  {
    "objectID": "slides/lec-6-2.html#sexed-semen",
    "href": "slides/lec-6-2.html#sexed-semen",
    "title": "Inventory Management in Dairy Systems",
    "section": "Sexed semen",
    "text": "Sexed semen\nInventory consequences\n\nincreases female calf supply\nmay reduce conception\nadds lag & variability"
  },
  {
    "objectID": "slides/lec-6-2.html#where-sexed-semen-fits-in-the-pipeline",
    "href": "slides/lec-6-2.html#where-sexed-semen-fits-in-the-pipeline",
    "title": "Inventory Management in Dairy Systems",
    "section": "Where sexed semen fits in the pipeline",
    "text": "Where sexed semen fits in the pipeline\n\n\n\n\n\nflowchart LR\nA[Semen choice] --&gt; B[Preg outcomes]\nB --&gt; C[Calves born]\nC --&gt; D[Heifer survival]\nD --&gt; E[Replacements]"
  },
  {
    "objectID": "slides/lec-6-2.html#beef-semen",
    "href": "slides/lec-6-2.html#beef-semen",
    "title": "Inventory Management in Dairy Systems",
    "section": "Beef semen",
    "text": "Beef semen\nInventory consequences\n\nshifts calves away from replacements\nincreases calf value\nrequires replacement confidence\n\nUse beef semen only when:\n\nreplacement pipeline is secure\ngrowth targets are compatible with heifer supply"
  },
  {
    "objectID": "slides/lec-6-2.html#create-defensible-snapshot",
    "href": "slides/lec-6-2.html#create-defensible-snapshot",
    "title": "Inventory Management in Dairy Systems",
    "section": "Create defensible snapshot",
    "text": "Create defensible snapshot\nA snapshot is defensible if it:\n\nis date‚Äëanchored\nreconciles across reports\ndefines denominators\ndocuments inclusion/exclusion"
  },
  {
    "objectID": "slides/lec-6-2.html#grow-cdrec-curc-responsibly",
    "href": "slides/lec-6-2.html#grow-cdrec-curc-responsibly",
    "title": "Inventory Management in Dairy Systems",
    "section": "Grow CDREC (CURC) responsibly",
    "text": "Grow CDREC (CURC) responsibly\nLevers:\n\nreduce involuntary exits\nimprove pregnancy performance\ntune semen strategy (sexed vs beef)\nmanage heifer inventory"
  },
  {
    "objectID": "slides/lec-6-2.html#lab-deliverable",
    "href": "slides/lec-6-2.html#lab-deliverable",
    "title": "Inventory Management in Dairy Systems",
    "section": "Lab deliverable",
    "text": "Lab deliverable\nStudents submit:\n\nSnapshot (counts)\nDynamics sheet (rates)\nStrategy presentation for growth"
  },
  {
    "objectID": "slides/lec-6-2.html#usefull-commands",
    "href": "slides/lec-6-2.html#usefull-commands",
    "title": "Inventory Management in Dairy Systems",
    "section": "Usefull commands",
    "text": "Usefull commands\nUse of sexed and beef semen\nBREDSUM\\XB*\nReproductive performance\nBREDSUM\\E\nCulling rate (sold and died) Mortality rate (died)\nEVENTS\\5SI FOR LACT&gt;0\nECON\\ID"
  },
  {
    "objectID": "slides/lec-7.html#goals",
    "href": "slides/lec-7.html#goals",
    "title": "Joining datasets",
    "section": "Goals",
    "text": "Goals\nIt‚Äôs rare that a data analysis involves only a single data frame. Typically you have many data frames, and you must¬†join¬†them together to answer the questions that you‚Äôre interested in.\n\nMutating joins, which add new variables to one data frame from matching observations in another.\nFiltering joins, which filter observations from one data frame based on whether or not they match an observation in another (conditional match.\n\nFor more information see this link https://r4ds.hadley.nz/joins.html"
  },
  {
    "objectID": "slides/lec-7.html#setup",
    "href": "slides/lec-7.html#setup",
    "title": "Joining datasets",
    "section": "Setup",
    "text": "Setup"
  },
  {
    "objectID": "slides/lec-7.html#primary-key",
    "href": "slides/lec-7.html#primary-key",
    "title": "Joining datasets",
    "section": "Primary key",
    "text": "Primary key\n\nEvery join involves a pair of keys: a primary key (or keys) and a foreign key (or keys).\nA primary key is a variable or set of variables that uniquely identifies each observation.\nWhen more than one variable is needed, the key is called a compound key."
  },
  {
    "objectID": "slides/lec-7.html#foreign-key",
    "href": "slides/lec-7.html#foreign-key",
    "title": "Joining datasets",
    "section": "Foreign key",
    "text": "Foreign key\nA foreign key is a variable (or set of variables) that corresponds to a primary key in another table."
  },
  {
    "objectID": "slides/lec-7.html#visualizing-key-relationships",
    "href": "slides/lec-7.html#visualizing-key-relationships",
    "title": "Joining datasets",
    "section": "Visualizing key relationships",
    "text": "Visualizing key relationships\nOften it helps to visualize the keys and their relationships."
  },
  {
    "objectID": "slides/lec-7.html#best-practices",
    "href": "slides/lec-7.html#best-practices",
    "title": "Joining datasets",
    "section": "Best practices",
    "text": "Best practices\n\nHave the primary and foreign keys have the same names accross the dataframes.\nHave the other columns different names (to avoid confusion after joining).\nVerify that keys do indeed uniquely identify each observation.\nSometimes you will have to create a key by combining columns generating a surrogate key."
  },
  {
    "objectID": "slides/lec-7.html#lets-use-some-real-data",
    "href": "slides/lec-7.html#lets-use-some-real-data",
    "title": "Joining datasets",
    "section": "Lets use some real data",
    "text": "Lets use some real data\n\nlibrary(nycflights13)"
  },
  {
    "objectID": "slides/lec-7.html#airlines-dataset",
    "href": "slides/lec-7.html#airlines-dataset",
    "title": "Joining datasets",
    "section": "Airlines dataset",
    "text": "Airlines dataset\n\nairlines\n\n# A tibble: 16 √ó 2\n   carrier name                       \n   &lt;chr&gt;   &lt;chr&gt;                      \n 1 9E      Endeavor Air Inc.          \n 2 AA      American Airlines Inc.     \n 3 AS      Alaska Airlines Inc.       \n 4 B6      JetBlue Airways            \n 5 DL      Delta Air Lines Inc.       \n 6 EV      ExpressJet Airlines Inc.   \n 7 F9      Frontier Airlines Inc.     \n 8 FL      AirTran Airways Corporation\n 9 HA      Hawaiian Airlines Inc.     \n10 MQ      Envoy Air                  \n11 OO      SkyWest Airlines Inc.      \n12 UA      United Air Lines Inc.      \n13 US      US Airways Inc.            \n14 VX      Virgin America             \n15 WN      Southwest Airlines Co.     \n16 YV      Mesa Airlines Inc."
  },
  {
    "objectID": "slides/lec-7.html#airports-dataset",
    "href": "slides/lec-7.html#airports-dataset",
    "title": "Joining datasets",
    "section": "Airports dataset",
    "text": "Airports dataset\n\nairports\n\n# A tibble: 1,458 √ó 8\n   faa   name                             lat    lon   alt    tz dst   tzone    \n   &lt;chr&gt; &lt;chr&gt;                          &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    \n 1 04G   Lansdowne Airport               41.1  -80.6  1044    -5 A     America/‚Ä¶\n 2 06A   Moton Field Municipal Airport   32.5  -85.7   264    -6 A     America/‚Ä¶\n 3 06C   Schaumburg Regional             42.0  -88.1   801    -6 A     America/‚Ä¶\n 4 06N   Randall Airport                 41.4  -74.4   523    -5 A     America/‚Ä¶\n 5 09J   Jekyll Island Airport           31.1  -81.4    11    -5 A     America/‚Ä¶\n 6 0A9   Elizabethton Municipal Airport  36.4  -82.2  1593    -5 A     America/‚Ä¶\n 7 0G6   Williams County Airport         41.5  -84.5   730    -5 A     America/‚Ä¶\n 8 0G7   Finger Lakes Regional Airport   42.9  -76.8   492    -5 A     America/‚Ä¶\n 9 0P2   Shoestring Aviation Airfield    39.8  -76.6  1000    -5 U     America/‚Ä¶\n10 0S9   Jefferson County Intl           48.1 -123.    108    -8 A     America/‚Ä¶\n# ‚Ñπ 1,448 more rows"
  },
  {
    "objectID": "slides/lec-7.html#planes-dataset",
    "href": "slides/lec-7.html#planes-dataset",
    "title": "Joining datasets",
    "section": "Planes dataset",
    "text": "Planes dataset\n\nplanes\n\n# A tibble: 3,322 √ó 9\n   tailnum  year type              manufacturer model engines seats speed engine\n   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;             &lt;chr&gt;        &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; \n 1 N10156   2004 Fixed wing multi‚Ä¶ EMBRAER      EMB-‚Ä¶       2    55    NA Turbo‚Ä¶\n 2 N102UW   1998 Fixed wing multi‚Ä¶ AIRBUS INDU‚Ä¶ A320‚Ä¶       2   182    NA Turbo‚Ä¶\n 3 N103US   1999 Fixed wing multi‚Ä¶ AIRBUS INDU‚Ä¶ A320‚Ä¶       2   182    NA Turbo‚Ä¶\n 4 N104UW   1999 Fixed wing multi‚Ä¶ AIRBUS INDU‚Ä¶ A320‚Ä¶       2   182    NA Turbo‚Ä¶\n 5 N10575   2002 Fixed wing multi‚Ä¶ EMBRAER      EMB-‚Ä¶       2    55    NA Turbo‚Ä¶\n 6 N105UW   1999 Fixed wing multi‚Ä¶ AIRBUS INDU‚Ä¶ A320‚Ä¶       2   182    NA Turbo‚Ä¶\n 7 N107US   1999 Fixed wing multi‚Ä¶ AIRBUS INDU‚Ä¶ A320‚Ä¶       2   182    NA Turbo‚Ä¶\n 8 N108UW   1999 Fixed wing multi‚Ä¶ AIRBUS INDU‚Ä¶ A320‚Ä¶       2   182    NA Turbo‚Ä¶\n 9 N109UW   1999 Fixed wing multi‚Ä¶ AIRBUS INDU‚Ä¶ A320‚Ä¶       2   182    NA Turbo‚Ä¶\n10 N110UW   1999 Fixed wing multi‚Ä¶ AIRBUS INDU‚Ä¶ A320‚Ä¶       2   182    NA Turbo‚Ä¶\n# ‚Ñπ 3,312 more rows"
  },
  {
    "objectID": "slides/lec-7.html#weather-dataset",
    "href": "slides/lec-7.html#weather-dataset",
    "title": "Joining datasets",
    "section": "Weather dataset",
    "text": "Weather dataset\n\nweather\n\n# A tibble: 26,115 √ó 15\n   origin  year month   day  hour  temp  dewp humid wind_dir wind_speed\n   &lt;chr&gt;  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;\n 1 EWR     2013     1     1     1  39.0  26.1  59.4      270      10.4 \n 2 EWR     2013     1     1     2  39.0  27.0  61.6      250       8.06\n 3 EWR     2013     1     1     3  39.0  28.0  64.4      240      11.5 \n 4 EWR     2013     1     1     4  39.9  28.0  62.2      250      12.7 \n 5 EWR     2013     1     1     5  39.0  28.0  64.4      260      12.7 \n 6 EWR     2013     1     1     6  37.9  28.0  67.2      240      11.5 \n 7 EWR     2013     1     1     7  39.0  28.0  64.4      240      15.0 \n 8 EWR     2013     1     1     8  39.9  28.0  62.2      250      10.4 \n 9 EWR     2013     1     1     9  39.9  28.0  62.2      260      15.0 \n10 EWR     2013     1     1    10  41    28.0  59.6      260      13.8 \n# ‚Ñπ 26,105 more rows\n# ‚Ñπ 5 more variables: wind_gust &lt;dbl&gt;, precip &lt;dbl&gt;, pressure &lt;dbl&gt;,\n#   visib &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "slides/lec-7.html#key-overview",
    "href": "slides/lec-7.html#key-overview",
    "title": "Joining datasets",
    "section": "Key overview",
    "text": "Key overview\n\nflights$tailnum is a foreign key that corresponds to the primary key planes$tailnum.\nflights$carrier is a foreign key that corresponds to the primary key airlines$carrier.\nflights$origin-flights$time_hour is a compound foreign key that corresponds to the compound primary key weather$origin-weather$time_hour."
  },
  {
    "objectID": "slides/lec-7.html#overview",
    "href": "slides/lec-7.html#overview",
    "title": "Joining datasets",
    "section": "Overview",
    "text": "Overview\nThe joins shown here are the so-called¬†equi¬†joins, where rows match if the keys are equal (inner and outer joins)"
  },
  {
    "objectID": "slides/lec-7.html#inner-join-a",
    "href": "slides/lec-7.html#inner-join-a",
    "title": "Joining datasets",
    "section": "Inner join (A)",
    "text": "Inner join (A)\n\nRows are retained if and only if the keys are equal."
  },
  {
    "objectID": "slides/lec-7.html#inner-join-b",
    "href": "slides/lec-7.html#inner-join-b",
    "title": "Joining datasets",
    "section": "Inner join (B)",
    "text": "Inner join (B)\nThere are three possible outcomes for a row in x:\n\nIf it doesn‚Äôt match anything, it‚Äôs dropped.\nIf it matches 1 row in y, it‚Äôs preserved.\nIf it matches more than 1 row in y, it‚Äôs duplicated once for each match."
  },
  {
    "objectID": "slides/lec-7.html#outer-joins",
    "href": "slides/lec-7.html#outer-joins",
    "title": "Joining datasets",
    "section": "Outer joins",
    "text": "Outer joins\n\nLeft join\nRight join\nFull join"
  },
  {
    "objectID": "slides/lec-7.html#left-join",
    "href": "slides/lec-7.html#left-join",
    "title": "Joining datasets",
    "section": "Left join",
    "text": "Left join\n\nA¬†left join¬†keeps all observations in¬†x\nEvery row of¬†x¬†is preserved in the output because it can fall back to matching a row of¬†NAs in¬†y."
  },
  {
    "objectID": "slides/lec-7.html#right-join",
    "href": "slides/lec-7.html#right-join",
    "title": "Joining datasets",
    "section": "Right join",
    "text": "Right join\n\nA¬†right join¬†keeps all observations in¬†y,¬†\nEvery row of¬†y¬†is preserved in the output because it can fall back to matching a row of¬†NAs in¬†x.\nThe output still matches¬†x¬†as much as possible; any extra rows from¬†y¬†are added to the end."
  },
  {
    "objectID": "slides/lec-7.html#full-join",
    "href": "slides/lec-7.html#full-join",
    "title": "Joining datasets",
    "section": "Full join",
    "text": "Full join\n\nA¬†full join¬†keeps all observations that appear in¬†x¬†or¬†y,¬†\nEvery row of¬†x¬†and¬†y¬†is included in the output because both¬†x¬†and¬†y¬†have a fall back row of¬†NAs.\nAgain, the output starts with all rows from¬†x, followed by the remaining unmatched¬†y¬†rows."
  },
  {
    "objectID": "slides/lec-7.html#semi-join",
    "href": "slides/lec-7.html#semi-join",
    "title": "Joining datasets",
    "section": "Semi join",
    "text": "Semi join\n\nThe semi-join keeps rows in¬†x¬†that have one or more matches in¬†y"
  },
  {
    "objectID": "slides/lec-7.html#anti-join",
    "href": "slides/lec-7.html#anti-join",
    "title": "Joining datasets",
    "section": "Anti join",
    "text": "Anti join\n\nThe anti-join keeps rows in¬†x¬†that match zero rows in¬†y,"
  },
  {
    "objectID": "slides/lec-7.html#introduction-to-non-equi",
    "href": "slides/lec-7.html#introduction-to-non-equi",
    "title": "Joining datasets",
    "section": "Introduction to non-equi",
    "text": "Introduction to non-equi\nBasic idea of non-equi joins"
  },
  {
    "objectID": "slides/lec-7.html#types-of-non-equi-joins",
    "href": "slides/lec-7.html#types-of-non-equi-joins",
    "title": "Joining datasets",
    "section": "Types of non-equi joins",
    "text": "Types of non-equi joins\n\nCross joins match every pair of rows.\nInequality joins use &lt;, &lt;=, &gt;, and &gt;= instead of ==.\nRolling joins are similar to inequality joins but only find the closest match.\nOverlap joins are a special type of inequality join designed to work with ranges."
  },
  {
    "objectID": "slides/lec-7.html#cross-join",
    "href": "slides/lec-7.html#cross-join",
    "title": "Joining datasets",
    "section": "Cross join",
    "text": "Cross join\n\nA cross join matches everything, generating the Cartesian product of rows.\nThis means the output will have¬†nrow(x) * nrow(y)¬†rows.\nSometimes called a¬†self-join."
  },
  {
    "objectID": "slides/lec-7.html#inequality-joins",
    "href": "slides/lec-7.html#inequality-joins",
    "title": "Joining datasets",
    "section": "Inequality joins",
    "text": "Inequality joins\n\nInequality joins use¬†&lt;,¬†&lt;=,¬†&gt;=, or¬†&gt;¬†to restrict the set of possible matches"
  },
  {
    "objectID": "slides/lec-7.html#rolling-joins",
    "href": "slides/lec-7.html#rolling-joins",
    "title": "Joining datasets",
    "section": "Rolling joins",
    "text": "Rolling joins\n\nRolling joins are a special type of inequality join where instead of getting¬†every¬†row that satisfies the inequality, you get just the closest row."
  },
  {
    "objectID": "slides/lec-7.html#overlap-joins",
    "href": "slides/lec-7.html#overlap-joins",
    "title": "Joining datasets",
    "section": "Overlap joins",
    "text": "Overlap joins\n\nbetween(x, y_lower, y_upper) is short for x &gt;= y_lower, x &lt;= y_upper.\nwithin(x_lower, x_upper, y_lower, y_upper) is short for x_lower &gt;= y_lower, x_upper &lt;= y_upper.\noverlaps(x_lower, x_upper, y_lower, y_upper) is short for x_lower &lt;= y_upper, x_upper &gt;= y_lower."
  },
  {
    "objectID": "slides/lec-13.html#sec-prerequisites",
    "href": "slides/lec-13.html#sec-prerequisites",
    "title": "Regular expressions",
    "section": "Prerequisites",
    "text": "Prerequisites\n\nThis chapter will focus on functions that use¬†regular expressions, a concise and powerful language for describing patterns within strings.\n\n\n# Install necessary packages if not already installed\nif(!require(tidyverse)) install.packages(\"tidyverse\")\nif(!require(babynames)) install.packages(\"babynames\")\n\n# Load the libraries\nlibrary(tidyverse)\nlibrary(babynames)"
  },
  {
    "objectID": "slides/lec-13.html#sec-pattern-basics-1",
    "href": "slides/lec-13.html#sec-pattern-basics-1",
    "title": "Regular expressions",
    "section": "Pattern basics",
    "text": "Pattern basics\nWhen this is supplied,¬†str_view()¬†will show only the elements of the string vector that match, surrounding each match with¬†&lt;&gt;, and, where possible, highlighting the match in blue.\n\nstr_view(fruit, \"berry\")\n\n [6] ‚îÇ bil&lt;berry&gt;\n [7] ‚îÇ black&lt;berry&gt;\n[10] ‚îÇ blue&lt;berry&gt;\n[11] ‚îÇ boysen&lt;berry&gt;\n[19] ‚îÇ cloud&lt;berry&gt;\n[21] ‚îÇ cran&lt;berry&gt;\n[29] ‚îÇ elder&lt;berry&gt;\n[32] ‚îÇ goji &lt;berry&gt;\n[33] ‚îÇ goose&lt;berry&gt;\n[38] ‚îÇ huckle&lt;berry&gt;\n[50] ‚îÇ mul&lt;berry&gt;\n[70] ‚îÇ rasp&lt;berry&gt;\n[73] ‚îÇ salal &lt;berry&gt;\n[76] ‚îÇ straw&lt;berry&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-pattern-basics-2",
    "href": "slides/lec-13.html#sec-pattern-basics-2",
    "title": "Regular expressions",
    "section": "Pattern basics",
    "text": "Pattern basics\n\nLetters and numbers match exactly and are called¬†literal characters.\nMost punctuation characters, like ., +, *, [,], and ?, have special meanings and are called¬†metacharacters."
  },
  {
    "objectID": "slides/lec-13.html#sec-pattern-example-1",
    "href": "slides/lec-13.html#sec-pattern-example-1",
    "title": "Regular expressions",
    "section": "Pattern example 1",
    "text": "Pattern example 1\nFor example,¬†.¬†will match any character, so¬†\"a.\"¬†will match any string that contains an ‚Äúa‚Äù followed by another character\n\nstr_view(c(\"a\", \"ab\", \"ae\", \"bd\", \"ea\", \"eab\"), \"a.\")\n\n[2] ‚îÇ &lt;ab&gt;\n[3] ‚îÇ &lt;ae&gt;\n[6] ‚îÇ e&lt;ab&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-pattern-example-2",
    "href": "slides/lec-13.html#sec-pattern-example-2",
    "title": "Regular expressions",
    "section": "Pattern example 2",
    "text": "Pattern example 2\nFor example, we could find all the fruits that contain an ‚Äúa‚Äù, followed by three letters, followed by an ‚Äúe‚Äù\n\nstr_view(fruit, \"a...e\")\n\n [1] ‚îÇ &lt;apple&gt;\n [7] ‚îÇ bl&lt;ackbe&gt;rry\n[48] ‚îÇ mand&lt;arine&gt;\n[51] ‚îÇ nect&lt;arine&gt;\n[62] ‚îÇ pine&lt;apple&gt;\n[64] ‚îÇ pomegr&lt;anate&gt;\n[70] ‚îÇ r&lt;aspbe&gt;rry\n[73] ‚îÇ sal&lt;al be&gt;rry"
  },
  {
    "objectID": "slides/lec-13.html#sec-quantifiers-2",
    "href": "slides/lec-13.html#sec-quantifiers-2",
    "title": "Regular expressions",
    "section": "Quantifiers",
    "text": "Quantifiers\nQuantifiers control how many times a pattern can match:\n\n? makes a pattern optional (i.e.¬†it matches 0 or 1 times)\n+ lets a pattern repeat (i.e.¬†it matches at least once)\n* lets a pattern be optional or repeat (i.e.¬†it matches any number of times, including 0)."
  },
  {
    "objectID": "slides/lec-13.html#sec-quantifier-question",
    "href": "slides/lec-13.html#sec-quantifier-question",
    "title": "Regular expressions",
    "section": "Quantifier ?",
    "text": "Quantifier ?\n\n# ab? matches an \"a\", optionally followed by a \"b\".\nstr_view(c(\"a\", \"ab\", \"abb\"), \"ab?\")\n\n[1] ‚îÇ &lt;a&gt;\n[2] ‚îÇ &lt;ab&gt;\n[3] ‚îÇ &lt;ab&gt;b"
  },
  {
    "objectID": "slides/lec-13.html#sec-quantifier-plus",
    "href": "slides/lec-13.html#sec-quantifier-plus",
    "title": "Regular expressions",
    "section": "Quantifier +",
    "text": "Quantifier +\n\n# ab+ matches an \"a\", followed by at least one \"b\".\nstr_view(c(\"a\", \"ab\", \"abb\"), \"ab+\")\n\n[2] ‚îÇ &lt;ab&gt;\n[3] ‚îÇ &lt;abb&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-quantifier-star",
    "href": "slides/lec-13.html#sec-quantifier-star",
    "title": "Regular expressions",
    "section": "Quantifier *",
    "text": "Quantifier *\n\n# ab* matches an \"a\", followed by any number of \"b\"s.\nstr_view(c(\"a\", \"ab\", \"abb\"), \"ab*\")\n\n[1] ‚îÇ &lt;a&gt;\n[2] ‚îÇ &lt;ab&gt;\n[3] ‚îÇ &lt;abb&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-character-classes-2",
    "href": "slides/lec-13.html#sec-character-classes-2",
    "title": "Regular expressions",
    "section": "Character classes",
    "text": "Character classes\nCharacter classes¬†are defined by [] and let you match a set of characters\n\n[abcd]¬†matches ‚Äúa‚Äù, ‚Äúb‚Äù, ‚Äúc‚Äù, or ‚Äúd‚Äù.\nYou can also invert the match by starting with¬†^:¬†[^abcd]¬†matches anything¬†except¬†‚Äúa‚Äù, ‚Äúb‚Äù, ‚Äúc‚Äù, or ‚Äúd‚Äù."
  },
  {
    "objectID": "slides/lec-13.html#sec-example-1",
    "href": "slides/lec-13.html#sec-example-1",
    "title": "Regular expressions",
    "section": "Example 1",
    "text": "Example 1\nWe can use this idea to find the words containing an ‚Äúx‚Äù surrounded by vowels:\n\nstr_view(words, \"[aeiou]x[aeiou]\")\n\n[284] ‚îÇ &lt;exa&gt;ct\n[285] ‚îÇ &lt;exa&gt;mple\n[288] ‚îÇ &lt;exe&gt;rcise\n[289] ‚îÇ &lt;exi&gt;st"
  },
  {
    "objectID": "slides/lec-13.html#sec-example-2",
    "href": "slides/lec-13.html#sec-example-2",
    "title": "Regular expressions",
    "section": "Example 2",
    "text": "Example 2\nWe can use this idea to find ‚Äúy‚Äù surrounded by consonants:\n\nstr_view(words, \"[^aeiou]y[^aeiou]\")\n\n[836] ‚îÇ &lt;sys&gt;tem\n[901] ‚îÇ &lt;typ&gt;e"
  },
  {
    "objectID": "slides/lec-13.html#sec-alternation",
    "href": "slides/lec-13.html#sec-alternation",
    "title": "Regular expressions",
    "section": "Alternation",
    "text": "Alternation\nYou can use¬†alternation,¬†|, to pick between one or more alternative patterns. For example, the following patterns look for fruits containing ‚Äúapple‚Äù, ‚Äúmelon‚Äù, or ‚Äúnut‚Äù.\n\nstr_view(fruit, \"apple|melon|nut\")\n\n [1] ‚îÇ &lt;apple&gt;\n[13] ‚îÇ canary &lt;melon&gt;\n[20] ‚îÇ coco&lt;nut&gt;\n[52] ‚îÇ &lt;nut&gt;\n[62] ‚îÇ pine&lt;apple&gt;\n[72] ‚îÇ rock &lt;melon&gt;\n[80] ‚îÇ water&lt;melon&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-detect-matches",
    "href": "slides/lec-13.html#sec-detect-matches",
    "title": "Regular expressions",
    "section": "Detect matches",
    "text": "Detect matches\nstr_detect() returns a logical vector that is TRUE if the pattern matches an element of the character vector and¬†FALSE¬†otherwise\n\nstr_detect(c(\"a\", \"b\", \"c\"), \"[aeiou]\")\n\n[1]  TRUE FALSE FALSE"
  },
  {
    "objectID": "slides/lec-13.html#sec-count-matches",
    "href": "slides/lec-13.html#sec-count-matches",
    "title": "Regular expressions",
    "section": "Count matches",
    "text": "Count matches\nThe next step up in complexity from¬†str_detect()¬†is¬†str_count(): rather than a true or false, it tells you how many matches there are in each string.\n\nx &lt;- c(\"apple\", \"banana\", \"pear\")\nstr_count(x, \"p\")\n\n[1] 2 0 1"
  },
  {
    "objectID": "slides/lec-13.html#sec-replace-values",
    "href": "slides/lec-13.html#sec-replace-values",
    "title": "Regular expressions",
    "section": "Replace values",
    "text": "Replace values\nWe can modify values with¬†str_replace()¬†and¬†str_replace_all().\n\n¬†str_replace()¬†replaces the first match,\n¬†str_replace_all()¬†replaces all matches.\n\nstr_remove()¬†and¬†str_remove_all()¬†are handy shortcuts for¬†str_replace(x, pattern, \"\")"
  },
  {
    "objectID": "slides/lec-13.html#sec-questions",
    "href": "slides/lec-13.html#sec-questions",
    "title": "Regular expressions",
    "section": "Replace values",
    "text": "Replace values\n\nx &lt;- c(\"apple\", \"pear\", \"banana\")\nstr_replace_all(x, \"[aeiou]\", \"-\")\n\n[1] \"-ppl-\"  \"p--r\"   \"b-n-n-\""
  },
  {
    "objectID": "slides/lec-13.html#sec-extract-variables",
    "href": "slides/lec-13.html#sec-extract-variables",
    "title": "Regular expressions",
    "section": "Extract variables",
    "text": "Extract variables\nConsider the following dataset\n\ndf &lt;- tribble(\n  ~str,\n  \"&lt;Sheryl&gt;-F_34\",\n  \"&lt;Kisha&gt;-F_45\", \n  \"&lt;Brandon&gt;-N_33\",\n  \"&lt;Sharon&gt;-F_38\", \n  \"&lt;Penny&gt;-F_58\",\n  \"&lt;Justin&gt;-M_41\", \n  \"&lt;Patricia&gt;-F_84\", \n)"
  },
  {
    "objectID": "slides/lec-13.html#sec-extract-variables-2",
    "href": "slides/lec-13.html#sec-extract-variables-2",
    "title": "Regular expressions",
    "section": "Extract variables",
    "text": "Extract variables\n\ndf |&gt; \n  separate_wider_regex(\n    str,\n    patterns = c(\n      \"&lt;\", \n      name = \"[A-Za-z]+\", \n      \"&gt;-\", \n      gender = \".\",\n      \"_\",\n      age = \"[0-9]+\"\n    )\n  )\n\n# A tibble: 7 √ó 3\n  name     gender age  \n  &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;\n1 Sheryl   F      34   \n2 Kisha    F      45   \n3 Brandon  N      33   \n4 Sharon   F      38   \n5 Penny    F      58   \n6 Justin   M      41   \n7 Patricia F      84"
  },
  {
    "objectID": "slides/lec-13.html#sec-escaping",
    "href": "slides/lec-13.html#sec-escaping",
    "title": "Regular expressions",
    "section": "Escaping",
    "text": "Escaping\nIn order to match a literal ., you need an escape which tells the regular expression to match metacharacters¬†literally.\nLike strings, regexps use the backslash for escaping.\n\nSo, to match a¬†., you need the regexp¬†\\..\nUnfortunately this creates a problem. We use strings to represent regular expressions, and¬†\\¬†is also used as an escape symbol in strings."
  },
  {
    "objectID": "slides/lec-13.html#sec-escaping-2",
    "href": "slides/lec-13.html#sec-escaping-2",
    "title": "Regular expressions",
    "section": "Escaping",
    "text": "Escaping\nSo to create the regular expression¬†\\.¬†we need the string¬†\"\\\\.\", as the following example shows.\n\n# To create the regular expression \\., we need to use \\\\.\ndot &lt;- \"\\\\.\"\n\n# But the expression itself only contains one \\\nstr_view(dot)\n\n[1] ‚îÇ \\.\n\ncat(\"\\n\") \n# And this tells R to look for an explicit .\nstr_view(c(\"abc\", \"a.c\", \"bef\"), \"a\\\\.c\")\n\n[2] ‚îÇ &lt;a.c&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-escaping-and-literal",
    "href": "slides/lec-13.html#sec-escaping-and-literal",
    "title": "Regular expressions",
    "section": "Escaping and literal",
    "text": "Escaping and literal\nIf¬†\\¬†is used as an escape character in regular expressions, how do you match a literal¬†\\?\n\nWell, you need to escape it, creating the regular expression¬†\\\\. To create that regular expression, you need to use a string, which also needs to escape¬†\\. That means to match a literal¬†\\¬†you need to write¬†\"\\\\\\\\\"¬†‚Äî you need four backslashes to match one!"
  },
  {
    "objectID": "slides/lec-13.html#sec-escaping-and-literal-2",
    "href": "slides/lec-13.html#sec-escaping-and-literal-2",
    "title": "Regular expressions",
    "section": "Escaping and literal",
    "text": "Escaping and literal\n\nx &lt;- \"a\\\\b\"\nstr_view(x)\n\n[1] ‚îÇ a\\b\n\ncat(\"\\n\") \nstr_view(x, \"\\\\\\\\\")\n\n[1] ‚îÇ a&lt;\\&gt;b"
  },
  {
    "objectID": "slides/lec-13.html#sec-matching-literals",
    "href": "slides/lec-13.html#sec-matching-literals",
    "title": "Regular expressions",
    "section": "Matching literals",
    "text": "Matching literals\nIf you‚Äôre trying to match a literal¬†.,¬†$,¬†|,¬†*,¬†+,¬†?,¬†{,¬†},¬†(,¬†), there‚Äôs an alternative to using a backslash escape: you can use a character class:¬†[.],¬†[$],¬†[|], ‚Ä¶ all match the literal values.\n\nstr_view(c(\"abc\", \"a.c\", \"a*c\", \"a c\"), \"a[.]c\")\n\n[2] ‚îÇ &lt;a.c&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-anchors",
    "href": "slides/lec-13.html#sec-anchors",
    "title": "Regular expressions",
    "section": "Anchors",
    "text": "Anchors\nBy default, regular expressions will match any part of a string. If you want to match at the start or end you need to¬†anchor¬†the regular expression using¬†^¬†to match the start or¬†$¬†to match the end:\n\nstr_view(fruit, \"^a\")\n\n[1] ‚îÇ &lt;a&gt;pple\n[2] ‚îÇ &lt;a&gt;pricot\n[3] ‚îÇ &lt;a&gt;vocado"
  },
  {
    "objectID": "slides/lec-13.html#sec-anchors-2",
    "href": "slides/lec-13.html#sec-anchors-2",
    "title": "Regular expressions",
    "section": "Anchors",
    "text": "Anchors\n\nstr_view(fruit, \"a$\")\n\n [4] ‚îÇ banan&lt;a&gt;\n[15] ‚îÇ cherimoy&lt;a&gt;\n[30] ‚îÇ feijo&lt;a&gt;\n[36] ‚îÇ guav&lt;a&gt;\n[56] ‚îÇ papay&lt;a&gt;\n[74] ‚îÇ satsum&lt;a&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-anchors-3",
    "href": "slides/lec-13.html#sec-anchors-3",
    "title": "Regular expressions",
    "section": "Anchors",
    "text": "Anchors\nTo force a regular expression to match only the full string, anchor it with both¬†^¬†and¬†$:\n\nstr_view(fruit, \"apple\")\n\n [1] ‚îÇ &lt;apple&gt;\n[62] ‚îÇ pine&lt;apple&gt;\n\ncat(\"\\n\") \nstr_view(fruit, \"^apple$\")\n\n[1] ‚îÇ &lt;apple&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-anchors-4",
    "href": "slides/lec-13.html#sec-anchors-4",
    "title": "Regular expressions",
    "section": "Anchors",
    "text": "Anchors\nYou can also match the boundary between words (i.e.¬†the start or end of a word) with¬†\\b.\n\nx &lt;- c(\"summary(x)\", \"summarize(df)\", \"rowsum(x)\", \"sum(x)\")\nstr_view(x, \"sum\")\n\n[1] ‚îÇ &lt;sum&gt;mary(x)\n[2] ‚îÇ &lt;sum&gt;marize(df)\n[3] ‚îÇ row&lt;sum&gt;(x)\n[4] ‚îÇ &lt;sum&gt;(x)\n\ncat(\"\\n\") \nstr_view(x, \"\\\\bsum\\\\b\")\n\n[4] ‚îÇ &lt;sum&gt;(x)"
  },
  {
    "objectID": "slides/lec-13.html#sec-anchors-5",
    "href": "slides/lec-13.html#sec-anchors-5",
    "title": "Regular expressions",
    "section": "Anchors",
    "text": "Anchors\nWhen used alone, anchors will produce a zero-width match\n\nstr_view(\"abc\", c(\"$\", \"^\", \"\\\\b\"))\n\n[1] ‚îÇ abc&lt;&gt;\n[2] ‚îÇ &lt;&gt;abc\n[3] ‚îÇ &lt;&gt;abc&lt;&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-anchors-6",
    "href": "slides/lec-13.html#sec-anchors-6",
    "title": "Regular expressions",
    "section": "Anchors",
    "text": "Anchors\n\nstr_replace_all(\"abc\", c(\"$\", \"^\", \"\\\\b\"), \"--\")\n\n[1] \"abc--\"   \"--abc\"   \"--abc--\""
  },
  {
    "objectID": "slides/lec-13.html#sec-character-classes-1",
    "href": "slides/lec-13.html#sec-character-classes-1",
    "title": "Regular expressions",
    "section": "Character classes",
    "text": "Character classes\nA character class, or character set, allows you to match any character in a set. As we discussed above, you can construct your own sets with [], where [abc] matches ‚Äúa‚Äù, ‚Äúb‚Äù, or ‚Äúc‚Äù and [^abc] matches any character except ‚Äúa‚Äù, ‚Äúb‚Äù, or ‚Äúc‚Äù. Apart from ^ there are two other characters that have special meaning inside of []:\n\n- defines a range, e.g., [a-z] matches any lower case letter and [0-9] matches any number.\n\\ escapes special characters, so [\\^\\-\\]] matches ^, -, or ]."
  },
  {
    "objectID": "slides/lec-13.html#sec-character-classes-example-1",
    "href": "slides/lec-13.html#sec-character-classes-example-1",
    "title": "Regular expressions",
    "section": "Character classes example 1",
    "text": "Character classes example 1\n\nx &lt;- \"abcd ABCD 12345 -!@#%.\"\nstr_view(x, \"[abc]+\")\n\n[1] ‚îÇ &lt;abc&gt;d ABCD 12345 -!@#%.\n\ncat(\"\\n\") \nstr_view(x, \"[a-z]+\")\n\n[1] ‚îÇ &lt;abcd&gt; ABCD 12345 -!@#%.\n\ncat(\"\\n\") \nstr_view(x, \"[^a-z0-9]+\")\n\n[1] ‚îÇ abcd&lt; ABCD &gt;12345&lt; -!@#%.&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-character-classes-example-2",
    "href": "slides/lec-13.html#sec-character-classes-example-2",
    "title": "Regular expressions",
    "section": "Character classes example 2",
    "text": "Character classes example 2\n\n# You need an escape to match characters that are otherwise\n# special inside of []\nstr_view(\"a-b-c\", \"[a-c]\")\n\n[1] ‚îÇ &lt;a&gt;-&lt;b&gt;-&lt;c&gt;\n\ncat(\"\\n\")\nstr_view(\"a-b-c\", \"[a\\\\-c]\")\n\n[1] ‚îÇ &lt;a&gt;&lt;-&gt;b&lt;-&gt;&lt;c&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-character-classes-3",
    "href": "slides/lec-13.html#sec-character-classes-3",
    "title": "Regular expressions",
    "section": "Character classes",
    "text": "Character classes\nSome character classes are used so commonly that they get their own shortcut. You‚Äôve already seen ., which matches any character apart from a newline. There are three other particularly useful pairs:\n\n\\d matches any digit;\n\\D matches anything that isn‚Äôt a digit.\n\\s matches any whitespace (e.g., space, tab, newline);\n\\S matches anything that isn‚Äôt whitespace.\n\\w matches any ‚Äúword‚Äù character, i.e.¬†letters and numbers;\n\\W matches any ‚Äúnon-word‚Äù character."
  },
  {
    "objectID": "slides/lec-13.html#sec-character-classes-5",
    "href": "slides/lec-13.html#sec-character-classes-5",
    "title": "Regular expressions",
    "section": "Character classes",
    "text": "Character classes\nThe following code demonstrates the six shortcuts with a selection of letters, numbers, and punctuation characters.\n\nx &lt;- \"abcd ABCD 12345 -!@#%.\"\nstr_view(x, \"\\\\d+\")\n\n[1] ‚îÇ abcd ABCD &lt;12345&gt; -!@#%.\n\nstr_view(x, \"\\\\D+\")\n\n[1] ‚îÇ &lt;abcd ABCD &gt;12345&lt; -!@#%.&gt;\n\nstr_view(x, \"\\\\s+\")\n\n[1] ‚îÇ abcd&lt; &gt;ABCD&lt; &gt;12345&lt; &gt;-!@#%.\n\nstr_view(x, \"\\\\S+\")\n\n[1] ‚îÇ &lt;abcd&gt; &lt;ABCD&gt; &lt;12345&gt; &lt;-!@#%.&gt;\n\nstr_view(x, \"\\\\w+\")\n\n[1] ‚îÇ &lt;abcd&gt; &lt;ABCD&gt; &lt;12345&gt; -!@#%.\n\nstr_view(x, \"\\\\W+\")\n\n[1] ‚îÇ abcd&lt; &gt;ABCD&lt; &gt;12345&lt; -!@#%.&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-quantifiers-3",
    "href": "slides/lec-13.html#sec-quantifiers-3",
    "title": "Regular expressions",
    "section": "Quantifiers",
    "text": "Quantifiers\nQuantifiers control how many times a pattern matches. Previously, we learned about ? (0 or 1 matches), + (1 or more matches), and * (0 or more matches). For example, colou?r will match American or British spelling, \\d+ will match one or more digits, and \\s? will optionally match a single item of whitespace. You can also specify the number of matches precisely with {}:\n\n{n} matches exactly n times.\n{n,} matches at least n times.\n{n,m} matches between n and m times."
  },
  {
    "objectID": "slides/lec-13.html#sec-operator-precedence-and-parentheses",
    "href": "slides/lec-13.html#sec-operator-precedence-and-parentheses",
    "title": "Regular expressions",
    "section": "Operator precedence and parentheses",
    "text": "Operator precedence and parentheses\n\nRegular expressions have their own precedence rules\nQuantifiers have high precedence\nAlternation has low precedence\nwhich means that ab+ is equivalent to a(b+), and ^a|b$ is equivalent to (^a)|(b$).\n\nJust like with algebra, you can use parentheses to override the usual order. But unlike algebra you‚Äôre unlikely to remember the precedence rules for regexes, so feel free to use parentheses liberally."
  },
  {
    "objectID": "slides/lec-13.html#sec-grouping-and-capturing",
    "href": "slides/lec-13.html#sec-grouping-and-capturing",
    "title": "Regular expressions",
    "section": "Grouping and capturing",
    "text": "Grouping and capturing\nAs well as overriding operator precedence, parentheses have another important effect: they create capturing groups that allow you to use sub-components of the match.\nFor example, the following pattern finds all fruits that have a repeated pair of letters:\n\nstr_view(fruit, \"(..)\\\\1\")\n\n [4] ‚îÇ b&lt;anan&gt;a\n[20] ‚îÇ &lt;coco&gt;nut\n[22] ‚îÇ &lt;cucu&gt;mber\n[41] ‚îÇ &lt;juju&gt;be\n[56] ‚îÇ &lt;papa&gt;ya\n[73] ‚îÇ s&lt;alal&gt; berry"
  },
  {
    "objectID": "slides/lec-13.html#sec-grouping-and-capturing-2",
    "href": "slides/lec-13.html#sec-grouping-and-capturing-2",
    "title": "Regular expressions",
    "section": "Grouping and capturing",
    "text": "Grouping and capturing\nAnd this one finds all words that start and end with the same pair of letters:\n\nstr_view(words, \"^(..).*\\\\1$\")\n\n[152] ‚îÇ &lt;church&gt;\n[217] ‚îÇ &lt;decide&gt;\n[617] ‚îÇ &lt;photograph&gt;\n[699] ‚îÇ &lt;require&gt;\n[739] ‚îÇ &lt;sense&gt;"
  },
  {
    "objectID": "slides/lec-13.html#sec-grouping-and-capturing-3",
    "href": "slides/lec-13.html#sec-grouping-and-capturing-3",
    "title": "Regular expressions",
    "section": "Grouping and capturing",
    "text": "Grouping and capturing\nYou can also use back references in str_replace(). For example, this code switches the order of the second and third words in sentences:\n\nsentences |&gt; \n  str_replace(\"(\\\\w+) (\\\\w+) (\\\\w+)\", \"\\\\1 \\\\3 \\\\2\") |&gt; \n  str_view()\n\n [1] ‚îÇ The canoe birch slid on the smooth planks.\n [2] ‚îÇ Glue sheet the to the dark blue background.\n [3] ‚îÇ It's to easy tell the depth of a well.\n [4] ‚îÇ These a days chicken leg is a rare dish.\n [5] ‚îÇ Rice often is served in round bowls.\n [6] ‚îÇ The of juice lemons makes fine punch.\n [7] ‚îÇ The was box thrown beside the parked truck.\n [8] ‚îÇ The were hogs fed chopped corn and garbage.\n [9] ‚îÇ Four of hours steady work faced us.\n[10] ‚îÇ A size large in stockings is hard to sell.\n[11] ‚îÇ The was boy there when the sun rose.\n[12] ‚îÇ A is rod used to catch pink salmon.\n[13] ‚îÇ The of source the huge river is the clear spring.\n[14] ‚îÇ Kick ball the straight and follow through.\n[15] ‚îÇ Help woman the get back to her feet.\n[16] ‚îÇ A of pot tea helps to pass the evening.\n[17] ‚îÇ Smoky lack fires flame and heat.\n[18] ‚îÇ The cushion soft broke the man's fall.\n[19] ‚îÇ The breeze salt came across from the sea.\n[20] ‚îÇ The at girl the booth sold fifty bonds.\n... and 700 more"
  },
  {
    "objectID": "slides/lec-3-2.html#monitoring-milk-yield",
    "href": "slides/lec-3-2.html#monitoring-milk-yield",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "monitoring milk yield",
    "text": "monitoring milk yield\n\nWhat is the goal of the farm\n\nWhat is the size of the farm\nWhat management system do they use &gt; seasonal, grazing, free stall etc."
  },
  {
    "objectID": "slides/lec-3-2.html#things-to-take-into-account-looking-at-data",
    "href": "slides/lec-3-2.html#things-to-take-into-account-looking-at-data",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Things to take into account looking at data",
    "text": "Things to take into account looking at data\n\nTest day average vs rolling averages\nWhat are you trying to optimize?"
  },
  {
    "objectID": "slides/lec-3-2.html#bias",
    "href": "slides/lec-3-2.html#bias",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Bias",
    "text": "Bias"
  },
  {
    "objectID": "slides/lec-3-2.html#pastpresentfuture",
    "href": "slides/lec-3-2.html#pastpresentfuture",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Past/Present/Future",
    "text": "Past/Present/Future\nPast: Rolling average\nPresent: Test day average\nFuture: Production &lt; 100 DIM\nFar Future: Heifer production"
  },
  {
    "objectID": "slides/lec-3-2.html#what-dictates-milk-production",
    "href": "slides/lec-3-2.html#what-dictates-milk-production",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "What dictates milk production",
    "text": "What dictates milk production\nphenotype = genotype + environment"
  },
  {
    "objectID": "slides/lec-3-2.html#genetics",
    "href": "slides/lec-3-2.html#genetics",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Genetics",
    "text": "Genetics\n\\[\n\\Delta G_{year} =\n\\frac{\n\\sqrt{\\text{reliability}} \\times \\text{selection intensity} \\times \\sqrt{\\text{genetic variance}}\n}{\n\\text{generation interval}\n}\n\\]"
  },
  {
    "objectID": "slides/lec-3-2.html#effect-of-selection-differs",
    "href": "slides/lec-3-2.html#effect-of-selection-differs",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Effect of selection differs",
    "text": "Effect of selection differs\n\nTraits associated with physical shape and size\n\nHigh heritability (‚â• 40%)\n\nTraits related to milk and solids yield\n\nModerate heritability (15‚Äì30%)\n\nTraits associated with health and fertility\n\nLow heritability (‚â§ 10%)"
  },
  {
    "objectID": "slides/lec-3-2.html#calculation-of-breeding-values",
    "href": "slides/lec-3-2.html#calculation-of-breeding-values",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Calculation of Breeding Values",
    "text": "Calculation of Breeding Values\n\\[\ny = Xb + Zu + e\n\\]\n\ny = observed phenotypes\n\nb = fixed effects (e.g., sex, management)\n\nu = random genetic effects (breeding values)\n\ne = residual error\n\nX, Z = link observations to effects"
  },
  {
    "objectID": "slides/lec-3-2.html#what-do-we-get-from-this",
    "href": "slides/lec-3-2.html#what-do-we-get-from-this",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "What do we get from this?",
    "text": "What do we get from this?\n\nEach animal receives an estimate of genetic merit\n\nCalled Predicted Transmitting Ability (PTA)\n\nPTA = breeding value √∑ 2\n\nNote:\nReal U.S. animal models are more complex and include: - Contemporary groups\n- Herd-by-sire effects\n- Permanent environmental effects"
  },
  {
    "objectID": "slides/lec-3-2.html#genomic-prediction",
    "href": "slides/lec-3-2.html#genomic-prediction",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Genomic prediction",
    "text": "Genomic prediction\nWhat is genomic prediction? - Uses DNA information + phenotypes + pedigree to estimate genetic merit - DNA markers = SNP (positions in the genome with two variants)\nWhy use genomics? - DNA is not influenced by environment - Improvs accuracy of breeding value estimation - Allows evaluation of young animals without records"
  },
  {
    "objectID": "slides/lec-3-2.html#how-are-genomic-pta-calculated",
    "href": "slides/lec-3-2.html#how-are-genomic-pta-calculated",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "How are genomic PTA calculated?",
    "text": "How are genomic PTA calculated?\n\nEstimate SNP effects using a predictor population with reliable PTA\nCombine:\n\nGenomic predictions from SNP\nParent averages (PA)\nTraditional pedigree + phenotype evaluations"
  },
  {
    "objectID": "slides/lec-3-2.html#net-merit-dollar-value",
    "href": "slides/lec-3-2.html#net-merit-dollar-value",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Net merit dollar value",
    "text": "Net merit dollar value\nThe expected difference in lifetime profit (in USD) of a cow (or bull‚Äôs daughters) compared to a reference animal, due solely to genetics, assuming typical U.S. management and prices.\n‚ÄúIf I replace one genetically average cow with this one, how much more (or less) money will I make over her lifetime?‚Äù"
  },
  {
    "objectID": "slides/lec-3-2.html#what-is-in-it",
    "href": "slides/lec-3-2.html#what-is-in-it",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "What is in it?",
    "text": "What is in it?"
  },
  {
    "objectID": "slides/lec-3-2.html#different-indexes",
    "href": "slides/lec-3-2.html#different-indexes",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Different indexes",
    "text": "Different indexes"
  },
  {
    "objectID": "slides/lec-3-2.html#shift-to-prezi",
    "href": "slides/lec-3-2.html#shift-to-prezi",
    "title": "Lecture 6 - Milk production data (II)",
    "section": "Shift to prezi",
    "text": "Shift to prezi\npresentation"
  },
  {
    "objectID": "slides/lec-4.html#learning-objectives",
    "href": "slides/lec-4.html#learning-objectives",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Learning objectives",
    "text": "Learning objectives\nBy the end of this lecture, students will be able to:\n\nExplain what tables, keys, and relationships are using dairy data\nDistinguish between different types of joins\nDecide which join to use for cow and milk production data\nImplement joins and relationships in Excel and Tableau\nDiagnose common join-related data problems in animal records\n\n\n~3 minutes. Set expectations and connect to previous data topics in dairy science."
  },
  {
    "objectID": "slides/lec-4.html#why-this-matters-in-dairy-data",
    "href": "slides/lec-4.html#why-this-matters-in-dairy-data",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Why this matters in dairy data",
    "text": "Why this matters in dairy data\nDairy data is rarely stored in one table:\n\nCow information\nDaily milk production records\nHealth or reproduction events\n\nTo answer questions, we must combine tables correctly.\n\nUse examples like average milk yield per cow or missing production days."
  },
  {
    "objectID": "slides/lec-4.html#from-flat-files-to-relational-thinking",
    "href": "slides/lec-4.html#from-flat-files-to-relational-thinking",
    "title": "Using Relationships and Joins Between Tables",
    "section": "From flat files to relational thinking",
    "text": "From flat files to relational thinking\n\nOne big spreadsheet with everything seems easy‚Ä¶ at first\nRepeating cow information every day causes:\n\nErrors\nInconsistencies\nVery large files\n\n\nRelational data solves this by splitting data into tables."
  },
  {
    "objectID": "slides/lec-4.html#what-is-a-table",
    "href": "slides/lec-4.html#what-is-a-table",
    "title": "Using Relationships and Joins Between Tables",
    "section": "What is a table?",
    "text": "What is a table?\nA table is:\n\nRows = observations (records)\nColumns = variables (fields)\n\nIn our example:\n\nCows\nMilkProduction\n\nEach table describes one thing."
  },
  {
    "objectID": "slides/lec-4.html#the-idea-of-a-key",
    "href": "slides/lec-4.html#the-idea-of-a-key",
    "title": "Using Relationships and Joins Between Tables",
    "section": "The idea of a key",
    "text": "The idea of a key\nA key is a column that identifies rows.\n\nPrimary key: uniquely identifies a row\n\nCowID\n\nForeign key: refers to a key in another table\n\nCowID inside MilkProduction\n\n\n\nEmphasize that CowID must be unique and stable over time."
  },
  {
    "objectID": "slides/lec-4.html#example-cow-data",
    "href": "slides/lec-4.html#example-cow-data",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Example: Cow data",
    "text": "Example: Cow data\nCows\n\n\n\nCowID\nBreed\nYearOfBirth\n\n\n\n\n101\nHolstein\n2019\n\n\n102\nHolstein\n2020\n\n\n103\nJersey\n2018"
  },
  {
    "objectID": "slides/lec-4.html#example-daily-milk-production",
    "href": "slides/lec-4.html#example-daily-milk-production",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Example: Daily milk production",
    "text": "Example: Daily milk production\nMilkProduction\n\n\n\nCowID\nDate\nMilkYield (kg/cow)\n\n\n\n\n101\n2025-01-01\n32.5\n\n\n101\n2025-01-02\n33.1\n\n\n102\n2025-01-01\n28.4\n\n\n104\n2025-01-01\n30.0\n\n\n\n\nNote CowID 104 exists here but not in the cow table."
  },
  {
    "objectID": "slides/lec-4.html#relationships-vs-joins-important",
    "href": "slides/lec-4.html#relationships-vs-joins-important",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Relationships vs joins (important!)",
    "text": "Relationships vs joins (important!)\nTwo ways to combine cow and production tables:\n\nRelationships (logical connection)\nJoins (physical merge)\n\nTableau makes this distinction explicit. Excel mostly works with joins."
  },
  {
    "objectID": "slides/lec-4.html#relationships-conceptual",
    "href": "slides/lec-4.html#relationships-conceptual",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Relationships (conceptual)",
    "text": "Relationships (conceptual)\nA relationship says:\n\n‚ÄúThese tables are related by CowID.‚Äù\n\n\nTables stay separate\nCombination happens when needed\nLess risk of duplicating cow information\n\n\nThis is Tableau‚Äôs default approach."
  },
  {
    "objectID": "slides/lec-4.html#joins-physical",
    "href": "slides/lec-4.html#joins-physical",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Joins (physical)",
    "text": "Joins (physical)\nA join:\n\nCombines rows into a new table\nBased on matching CowID values\nChoice of join affects which records remain\n\nThis is where many data mistakes occur."
  },
  {
    "objectID": "slides/lec-4.html#visual-intuition-for-joins",
    "href": "slides/lec-4.html#visual-intuition-for-joins",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Visual intuition for joins",
    "text": "Visual intuition for joins\nThink in terms of sets of cows:\n\nCows table\nMilk production table\nOverlap based on CowID\n\nWe now look at the four main joins."
  },
  {
    "objectID": "slides/lec-4.html#type-of-joins",
    "href": "slides/lec-4.html#type-of-joins",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Type of joins",
    "text": "Type of joins"
  },
  {
    "objectID": "slides/lec-4.html#inner-join",
    "href": "slides/lec-4.html#inner-join",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Inner join",
    "text": "Inner join\nKeeps only matching cows\n\nCowID must exist in both tables\nDrops production records without cow info\n\nUse when: - You only want valid cows with production data"
  },
  {
    "objectID": "slides/lec-4.html#inner-join-example",
    "href": "slides/lec-4.html#inner-join-example",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Inner join example",
    "text": "Inner join example\nCows ‚®ù MilkProduction\n\nCow 101 ‚Üí kept\nCow 102 ‚Üí kept\nCow 103 ‚Üí dropped (no production)\nCow 104 ‚Üí dropped (no cow record)\n\nResult: only cows with valid production records."
  },
  {
    "objectID": "slides/lec-4.html#left-join",
    "href": "slides/lec-4.html#left-join",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Left join",
    "text": "Left join\nKeeps all cows\n\nProduction data added when available\nMissing production becomes NULL\n\nUse when: - The cow list is your main population"
  },
  {
    "objectID": "slides/lec-4.html#left-join-example",
    "href": "slides/lec-4.html#left-join-example",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Left join example",
    "text": "Left join example\nCows ‚Üê MilkProduction\n\nAll cows kept (101‚Äì103)\nCow 103 ‚Üí Milk_kg = NULL\n\nVery common for herd summaries."
  },
  {
    "objectID": "slides/lec-4.html#right-join",
    "href": "slides/lec-4.html#right-join",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Right join",
    "text": "Right join\nKeeps all production records\n\nEven if CowID is missing in cow table\n\nRarely ideal, but useful for: - Detecting data quality issues"
  },
  {
    "objectID": "slides/lec-4.html#full-outer-join",
    "href": "slides/lec-4.html#full-outer-join",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Full outer join",
    "text": "Full outer join\nKeeps all cows and all production records\n\nHighlights mismatches clearly\nUnmatched rows filled with NULLs\n\nUse when: - Auditing or cleaning data"
  },
  {
    "objectID": "slides/lec-4.html#common-join-pitfalls-in-dairy-data",
    "href": "slides/lec-4.html#common-join-pitfalls-in-dairy-data",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Common join pitfalls in dairy data",
    "text": "Common join pitfalls in dairy data\n\nDuplicate CowID values\nMissing cows or production days\nText vs numeric CowID\nReused IDs across farms\n\nAlways check row counts after joining."
  },
  {
    "objectID": "slides/lec-4.html#practical-part-1-excel",
    "href": "slides/lec-4.html#practical-part-1-excel",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Practical part 1: Excel",
    "text": "Practical part 1: Excel\nGoal:\n\nCombine cow and milk tables using CowID\nUnderstand what Excel is doing"
  },
  {
    "objectID": "slides/lec-4.html#excel-tools-for-joins",
    "href": "slides/lec-4.html#excel-tools-for-joins",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Excel tools for joins",
    "text": "Excel tools for joins\nMain options:\n\nXLOOKUP (simple lookups)\nPower Query (proper joins)\n\nWe focus on Power Query."
  },
  {
    "objectID": "slides/lec-4.html#excel-power-query-workflow",
    "href": "slides/lec-4.html#excel-power-query-workflow",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Excel: Power Query workflow",
    "text": "Excel: Power Query workflow\n\nLoad Cows and MilkProduction\nOpen Power Query Editor\nMerge queries on CowID\nChoose join type\nExpand milk variables"
  },
  {
    "objectID": "slides/lec-4.html#excel-demo-in-class",
    "href": "slides/lec-4.html#excel-demo-in-class",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Excel demo (in class)",
    "text": "Excel demo (in class)\nInstructor demonstration:\n\nLeft join cows with milk records\nInspect NULL milk values\nDiscuss interpretation\n\n\n~10 minutes live demo."
  },
  {
    "objectID": "slides/lec-4.html#practical-part-2-tableau",
    "href": "slides/lec-4.html#practical-part-2-tableau",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Practical part 2: Tableau",
    "text": "Practical part 2: Tableau\nSame data, different philosophy.\nTableau encourages relationships first."
  },
  {
    "objectID": "slides/lec-4.html#tableau-creating-a-relationship",
    "href": "slides/lec-4.html#tableau-creating-a-relationship",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Tableau: creating a relationship",
    "text": "Tableau: creating a relationship\nSteps:\n\nConnect Cows\nAdd MilkProduction\nRelate on CowID\nLeave tables separate\n\nNo join type selected."
  },
  {
    "objectID": "slides/lec-4.html#why-tableau-relationships-work-well-here",
    "href": "slides/lec-4.html#why-tableau-relationships-work-well-here",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Why Tableau relationships work well here",
    "text": "Why Tableau relationships work well here\n\nOne-to-many (cow ‚Üí many days)\nCorrect aggregation of milk yield\nAvoids duplicated cow attributes"
  },
  {
    "objectID": "slides/lec-4.html#comparing-excel-and-tableau",
    "href": "slides/lec-4.html#comparing-excel-and-tableau",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Comparing Excel and Tableau",
    "text": "Comparing Excel and Tableau\n\n\n\nConcept\nExcel\nTableau\n\n\n\n\nKey\nCowID\nCowID\n\n\nRelationships\nLimited\nNative\n\n\nJoins\nPower Query\nPhysical layer\n\n\nValidation\nManual\nVisual"
  },
  {
    "objectID": "slides/lec-4.html#recap",
    "href": "slides/lec-4.html#recap",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Recap",
    "text": "Recap\nToday we learned:\n\nCowID links cow and milk tables\nJoins determine which records survive\nSame logic applies across tools\nWrong joins = wrong conclusions"
  },
  {
    "objectID": "slides/lec-4.html#final-message",
    "href": "slides/lec-4.html#final-message",
    "title": "Using Relationships and Joins Between Tables",
    "section": "Final message",
    "text": "Final message\n\nGood dairy analysis starts with correct data structure."
  },
  {
    "objectID": "course-objectives.html",
    "href": "course-objectives.html",
    "title": "Learning objectives",
    "section": "",
    "text": "Upon successful completion of this course, students will be able to:\n\nCollect, organize, and clean dairy farm datasets derived from herd management systems.\nApply statistical and computational tools (e.g., Excel, R, Python, or similar software) to analyze dairy performance data.\nEvaluate the strengths, weaknesses, and limitations of different data types used in dairy management.\nInterpret and critically assess dairy datasets within biological, economic, and management contexts.\nCreate effective data visualizations, written reports, and presentations that communicate data-driven insights while adhering to ethical data use principles.\nSynthesize herd-level data into a decision-support framework and collaboratively contribute to SWOT analyses with herd managers. ##",
    "crumbs": [
      "Course information",
      "Course objectives"
    ]
  },
  {
    "objectID": "course-objectives.html#learning-objectives",
    "href": "course-objectives.html#learning-objectives",
    "title": "Learning objectives",
    "section": "",
    "text": "Upon successful completion of this course, students will be able to:\n\nCollect, organize, and clean dairy farm datasets derived from herd management systems.\nApply statistical and computational tools (e.g., Excel, R, Python, or similar software) to analyze dairy performance data.\nEvaluate the strengths, weaknesses, and limitations of different data types used in dairy management.\nInterpret and critically assess dairy datasets within biological, economic, and management contexts.\nCreate effective data visualizations, written reports, and presentations that communicate data-driven insights while adhering to ethical data use principles.\nSynthesize herd-level data into a decision-support framework and collaboratively contribute to SWOT analyses with herd managers. ##",
    "crumbs": [
      "Course information",
      "Course objectives"
    ]
  },
  {
    "objectID": "course-support.html",
    "href": "course-support.html",
    "title": "Course support",
    "section": "",
    "text": "Most of you will need help at some point and we want to make sure you can identify when that is without getting too frustrated and feel comfortable seeking help.",
    "crumbs": [
      "Course information",
      "Support"
    ]
  },
  {
    "objectID": "course-support.html#lectures-and-labs",
    "href": "course-support.html#lectures-and-labs",
    "title": "Course support",
    "section": "Lectures and labs",
    "text": "Lectures and labs\nIf you have a question during lecture or lab, feel free to ask it! There are likely other students with the same question, so by asking you will create a peer teaching opportunity for everyone.",
    "crumbs": [
      "Course information",
      "Support"
    ]
  },
  {
    "objectID": "course-support.html#office-hours",
    "href": "course-support.html#office-hours",
    "title": "Course support",
    "section": "Office hours",
    "text": "Office hours\nThe entire teaching team is here to help you be successful in the course. You are encouraged to ask questions about the course content and assignments. A lot of questions are most effectively answered in-person, so pass by during office hours. I encourage each and every one of you to take advantage of this resource! If you truly have no questions to ask, just stop by and say hi and introduce yourself.\nTeaching assistants will be available during these hours if you require help or feedback.",
    "crumbs": [
      "Course information",
      "Support"
    ]
  },
  {
    "objectID": "course-support.html#discussion-forum",
    "href": "course-support.html#discussion-forum",
    "title": "Course support",
    "section": "Discussion forum",
    "text": "Discussion forum\nHave a question that might be valuable for all course participant? Prefer to write out your question in detail rather than asking in person? The online discussion forum is the best venue for these! We will use github issue as the online discussion forum. There is a chance another student has already asked a similar question, so please check the other posts before adding a new question. If you know the answer to a question that is posted, I encourage you to respond!",
    "crumbs": [
      "Course information",
      "Support"
    ]
  },
  {
    "objectID": "course-support.html#email",
    "href": "course-support.html#email",
    "title": "Course support",
    "section": "Email",
    "text": "Email\nPlease refrain from emailing any course content questions (those should go here github issue), and only use email for questions about personal matters that may not be appropriate for the public course forum (e.g., illness, accommodations, etc.).\nFor such matters, you may email Dr.¬†Miel Hostens at miel.hostens@cornell.edu.",
    "crumbs": [
      "Course information",
      "Support"
    ]
  },
  {
    "objectID": "course-support.html#course-materials-costs",
    "href": "course-support.html#course-materials-costs",
    "title": "Course support",
    "section": "Course materials costs",
    "text": "Course materials costs\nThere are no costs associated with this course. All readings will come from freely available, open resources (open-source textbooks, journal articles, etc.).",
    "crumbs": [
      "Course information",
      "Support"
    ]
  },
  {
    "objectID": "course-support.html#assistance-with-teams",
    "href": "course-support.html#assistance-with-teams",
    "title": "Course support",
    "section": "Assistance with Teams",
    "text": "Assistance with Teams\nTeams will be used for online office hours as well as as a backup option should we need to hold the course online instead of in person.",
    "crumbs": [
      "Course information",
      "Support"
    ]
  },
  {
    "objectID": "course-faq.html",
    "href": "course-faq.html",
    "title": "FAQ",
    "section": "",
    "text": "Coming soon",
    "crumbs": [
      "Course information",
      "FAQ"
    ]
  },
  {
    "objectID": "course-links.html",
    "href": "course-links.html",
    "title": "Useful links",
    "section": "",
    "text": "Google colab\nüîó on Google colaboratory notebooks\n\n\nDodona\nüîó on Dodona\n\n\nVirtual meetings\nüîó on Teams",
    "crumbs": [
      "Course information",
      "Useful links"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "",
    "text": "This page contains an outline of the topics, content, and assignments for the course. Note that this schedule will be updated as the course progresses, with all changes documented here.\n\n\n\n\n\n\n\n\n\n\n\n\nWeek\nDate\nTopic\nTeachers\nPrepare\nLecture\n\n\n\n\n1\n1/20\nIntroductory Multiple Choice Questions and Inventory Management\nDr.¬†Hostens and Sumit Sharma\nüìñ\nüñ•Ô∏è\n\n\n1\n1/22\nSyllabus Review and Introduction\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n1\n1/22\n(LAB) CURC Farm Tour & Presentation from CURC Manager\nDr.¬†Hostens and Sumit Sharma\nüìñ\nüñ•Ô∏è\n\n\n2\n1/27\nPrinciples of Data Collection\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n2\n1/29\nPrinciples of Data Visualization\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n2\n1/29\n(LAB) Effective visualization using Tableau\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n3\n2/3\nUnderstanding Milk Production Data (1)\nMeike van Leerdam\nüìñ\nüñ•Ô∏è\n\n\n3\n2/5\nUnderstanding Milk Production Data (2)\nMeike van Leerdam\nüìñ\nüñ•Ô∏è\n\n\n3\n2/5\n(LAB) Analyze CURC Milk Production Records\nMeike van Leerdam\nüìñ\nüñ•Ô∏è\n\n\n4\n2/10\nCancelled\n\n-\n-\n\n\n4\n2/12\nUsing Relationships and Joins Between Datasets\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n4\n2/12\n(LAB) Analyze CURC Milk Production Records\n\n-\n-\n\n\n5\n2/17\nFebruary break (no class)\n\n\n\n\n\n5\n2/19\nCURC Project status discussion\nDr.¬†Hostens\n\n\n\n\n5\n2/19\n(LAB) Analyze CURC Milk Production Records\nDr.¬†Hostens\n\n\n\n\n6\n2/24\nFAIR data principles for animal science\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n6\n2/26\nInventory Management in Dairy Systems\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n6\n2/26\n(LAB) Inventory Calculations\nDr.¬†Hostens\n\n\n\n\n7\n3/3\nIntegrating Reproductive Management with Farm Systems\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n7\n3/5\nStudent Team Presentations on Reproductive Analysis\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n7\n3/5\n(LAB) Peer Evaluation & CURC Discussion\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n8\n3/10\nReview Session for Midterm Exam\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n8\n3/12\nMidterm Exam\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n8\n3/12\n(LAB) Introduction to CURC Health Records\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n9\n3/17\nAnimal Health Monitoring and Data-Driven Interventions\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n9\n3/19\nSCC Interpretation and Mastitis Economics\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n9\n3/19\n(LAB) Analyze CURC SCC Trends\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n10\n3/24\nNutrition Basics and Data-Driven Feeding Strategies\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n10\n3/26\nInterpreting Feed Analysis Reports and Intake Data\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n10\n3/26\n(LAB) CURC Visit - Feed Systems\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n10\n3/31\nSpring Break (no class)\n\n\n\n\n\n10\n4/2\nSpring Break (no class)\n\n\n\n\n\n11\n4/7\nSystems Thinking: Connecting Health, Nutrition, and Production\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n11\n4/9\nStudent Team Presentations on Health/Nutrition\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n11\n4/9\n(LAB) Peer Evaluation & Group Discussion\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n12\n4/14\nEconomics of Dairy Production: Key Metrics and Data Needs\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n12\n4/16\nCase Study: Using Data to Evaluate Management Changes\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n12\n4/16\n(LAB) Calculate IOFC & Economic Modeling\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n13\n4/21\nIntegrating Data for Strategic Decision-Making\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n13\n4/23\nSWOT Analysis Framework and Capstone Expectations\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n13\n4/23\n(LAB) Synthesize Data & Draft SWOT\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n14\n4/28\nEffective Communication for Decision-Makers\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n14\n4/30\nPractice Presentations (Internal Peer Review)\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n14\n4/30\n(LAB) Finalize SWOT & Peer Feedback\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è\n\n\n15\n5/5\nCapstone Management Meeting & Course Wrap-Up\nDr.¬†Hostens\nüìñ\nüñ•Ô∏è",
    "crumbs": [
      "Course information",
      "Schedule"
    ]
  },
  {
    "objectID": "LICENSE.html#creative-commons-attribution-sharealike-4.0-international-public-license",
    "href": "LICENSE.html#creative-commons-attribution-sharealike-4.0-international-public-license",
    "title": "Attribution-ShareAlike 4.0 International",
    "section": "Creative Commons Attribution-ShareAlike 4.0 International Public License",
    "text": "Creative Commons Attribution-ShareAlike 4.0 International Public License\nBy exercising the Licensed Rights (defined below), You accept and agree to be bound by the terms and conditions of this Creative Commons Attribution-ShareAlike 4.0 International Public License (‚ÄúPublic License‚Äù). To the extent this Public License may be interpreted as a contract, You are granted the Licensed Rights in consideration of Your acceptance of these terms and conditions, and the Licensor grants You such rights in consideration of benefits the Licensor receives from making the Licensed Material available under these terms and conditions.\n\nSection 1 ‚Äì Definitions.\n\nAdapted Material means material subject to Copyright and Similar Rights that is derived from or based upon the Licensed Material and in which the Licensed Material is translated, altered, arranged, transformed, or otherwise modified in a manner requiring permission under the Copyright and Similar Rights held by the Licensor. For purposes of this Public License, where the Licensed Material is a musical work, performance, or sound recording, Adapted Material is always produced where the Licensed Material is synched in timed relation with a moving image.\nAdapter‚Äôs License means the license You apply to Your Copyright and Similar Rights in Your contributions to Adapted Material in accordance with the terms and conditions of this Public License.\nBY-SA Compatible License means a license listed at creativecommons.org/compatiblelicenses, approved by Creative Commons as essentially the equivalent of this Public License.\nCopyright and Similar Rights means copyright and/or similar rights closely related to copyright including, without limitation, performance, broadcast, sound recording, and Sui Generis Database Rights, without regard to how the rights are labeled or categorized. For purposes of this Public License, the rights specified in Section 2(b)(1)-(2) are not Copyright and Similar Rights.\nEffective Technological Measures means those measures that, in the absence of proper authority, may not be circumvented under laws fulfilling obligations under Article 11 of the WIPO Copyright Treaty adopted on December 20, 1996, and/or similar international agreements.\nExceptions and Limitations means fair use, fair dealing, and/or any other exception or limitation to Copyright and Similar Rights that applies to Your use of the Licensed Material.\nLicense Elements means the license attributes listed in the name of a Creative Commons Public License. The License Elements of this Public License are Attribution and ShareAlike.\nLicensed Material means the artistic or literary work, database, or other material to which the Licensor applied this Public License.\nLicensed Rights means the rights granted to You subject to the terms and conditions of this Public License, which are limited to all Copyright and Similar Rights that apply to Your use of the Licensed Material and that the Licensor has authority to license.\nLicensor means the individual(s) or entity(ies) granting rights under this Public License.\nShare means to provide material to the public by any means or process that requires permission under the Licensed Rights, such as reproduction, public display, public performance, distribution, dissemination, communication, or importation, and to make material available to the public including in ways that members of the public may access the material from a place and at a time individually chosen by them.\nSui Generis Database Rights means rights other than copyright resulting from Directive 96/9/EC of the European Parliament and of the Council of 11 March 1996 on the legal protection of databases, as amended and/or succeeded, as well as other essentially equivalent rights anywhere in the world.\nYou means the individual or entity exercising the Licensed Rights under this Public License. Your has a corresponding meaning.\n\n\n\nSection 2 ‚Äì Scope.\n\nLicense grant.\n\nSubject to the terms and conditions of this Public License, the Licensor hereby grants You a worldwide, royalty-free, non-sublicensable, non-exclusive, irrevocable license to exercise the Licensed Rights in the Licensed Material to:\nA. reproduce and Share the Licensed Material, in whole or in part; and\nB. produce, reproduce, and Share Adapted Material.\nExceptions and Limitations. For the avoidance of doubt, where Exceptions and Limitations apply to Your use, this Public License does not apply, and You do not need to comply with its terms and conditions.\nTerm. The term of this Public License is specified in Section 6(a).\nMedia and formats; technical modifications allowed. The Licensor authorizes You to exercise the Licensed Rights in all media and formats whether now known or hereafter created, and to make technical modifications necessary to do so. The Licensor waives and/or agrees not to assert any right or authority to forbid You from making technical modifications necessary to exercise the Licensed Rights, including technical modifications necessary to circumvent Effective Technological Measures. For purposes of this Public License, simply making modifications authorized by this Section 2(a)(4) never produces Adapted Material.\nDownstream recipients.\nA. Offer from the Licensor ‚Äì Licensed Material. Every recipient of the Licensed Material automatically receives an offer from the Licensor to exercise the Licensed Rights under the terms and conditions of this Public License.\nB. Additional offer from the Licensor ‚Äì Adapted Material. Every recipient of Adapted Material from You automatically receives an offer from the Licensor to exercise the Licensed Rights in the Adapted Material under the conditions of the Adapter‚Äôs License You apply.\nC. No downstream restrictions. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, the Licensed Material if doing so restricts exercise of the Licensed Rights by any recipient of the Licensed Material.\nNo endorsement. Nothing in this Public License constitutes or may be construed as permission to assert or imply that You are, or that Your use of the Licensed Material is, connected with, or sponsored, endorsed, or granted official status by, the Licensor or others designated to receive attribution as provided in Section 3(a)(1)(A)(i).\n\nOther rights.\n\nMoral rights, such as the right of integrity, are not licensed under this Public License, nor are publicity, privacy, and/or other similar personality rights; however, to the extent possible, the Licensor waives and/or agrees not to assert any such rights held by the Licensor to the limited extent necessary to allow You to exercise the Licensed Rights, but not otherwise.\nPatent and trademark rights are not licensed under this Public License.\nTo the extent possible, the Licensor waives any right to collect royalties from You for the exercise of the Licensed Rights, whether directly or through a collecting society under any voluntary or waivable statutory or compulsory licensing scheme. In all other cases the Licensor expressly reserves any right to collect such royalties.\n\n\n\n\nSection 3 ‚Äì License Conditions.\nYour exercise of the Licensed Rights is expressly made subject to the following conditions.\n\nAttribution.\n\nIf You Share the Licensed Material (including in modified form), You must:\nA. retain the following if it is supplied by the Licensor with the Licensed Material:\n\nidentification of the creator(s) of the Licensed Material and any others designated to receive attribution, in any reasonable manner requested by the Licensor (including by pseudonym if designated);\na copyright notice;\na notice that refers to this Public License;\na notice that refers to the disclaimer of warranties;\na URI or hyperlink to the Licensed Material to the extent reasonably practicable;\n\nB. indicate if You modified the Licensed Material and retain an indication of any previous modifications; and\nC. indicate the Licensed Material is licensed under this Public License, and include the text of, or the URI or hyperlink to, this Public License.\nYou may satisfy the conditions in Section 3(a)(1) in any reasonable manner based on the medium, means, and context in which You Share the Licensed Material. For example, it may be reasonable to satisfy the conditions by providing a URI or hyperlink to a resource that includes the required information.\nIf requested by the Licensor, You must remove any of the information required by Section 3(a)(1)(A) to the extent reasonably practicable.\n\nShareAlike.\n\nIn addition to the conditions in Section 3(a), if You Share Adapted Material You produce, the following conditions also apply.\n\nThe Adapter‚Äôs License You apply must be a Creative Commons license with the same License Elements, this version or later, or a BY-SA Compatible License.\nYou must include the text of, or the URI or hyperlink to, the Adapter‚Äôs License You apply. You may satisfy this condition in any reasonable manner based on the medium, means, and context in which You Share Adapted Material.\nYou may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, Adapted Material that restrict exercise of the rights granted under the Adapter‚Äôs License You apply.\n\n\n\nSection 4 ‚Äì Sui Generis Database Rights.\nWhere the Licensed Rights include Sui Generis Database Rights that apply to Your use of the Licensed Material:\n\nfor the avoidance of doubt, Section 2(a)(1) grants You the right to extract, reuse, reproduce, and Share all or a substantial portion of the contents of the database;\nif You include all or a substantial portion of the database contents in a database in which You have Sui Generis Database Rights, then the database in which You have Sui Generis Database Rights (but not its individual contents) is Adapted Material, including for purposes of Section 3(b); and\nYou must comply with the conditions in Section 3(a) if You Share all or a substantial portion of the contents of the database.\n\nFor the avoidance of doubt, this Section 4 supplements and does not replace Your obligations under this Public License where the Licensed Rights include other Copyright and Similar Rights.\n\n\nSection 5 ‚Äì Disclaimer of Warranties and Limitation of Liability.\n\nUnless otherwise separately undertaken by the Licensor, to the extent possible, the Licensor offers the Licensed Material as-is and as-available, and makes no representations or warranties of any kind concerning the Licensed Material, whether express, implied, statutory, or other. This includes, without limitation, warranties of title, merchantability, fitness for a particular purpose, non-infringement, absence of latent or other defects, accuracy, or the presence or absence of errors, whether or not known or discoverable. Where disclaimers of warranties are not allowed in full or in part, this disclaimer may not apply to You.\nTo the extent possible, in no event will the Licensor be liable to You on any legal theory (including, without limitation, negligence) or otherwise for any direct, special, indirect, incidental, consequential, punitive, exemplary, or other losses, costs, expenses, or damages arising out of this Public License or use of the Licensed Material, even if the Licensor has been advised of the possibility of such losses, costs, expenses, or damages. Where a limitation of liability is not allowed in full or in part, this limitation may not apply to You.\nThe disclaimer of warranties and limitation of liability provided above shall be interpreted in a manner that, to the extent possible, most closely approximates an absolute disclaimer and waiver of all liability.\n\n\n\nSection 6 ‚Äì Term and Termination.\n\nThis Public License applies for the term of the Copyright and Similar Rights licensed here. However, if You fail to comply with this Public License, then Your rights under this Public License terminate automatically.\nWhere Your right to use the Licensed Material has terminated under Section 6(a), it reinstates:\n\nautomatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or\nupon express reinstatement by the Licensor.\n\nFor the avoidance of doubt, this Section 6(b) does not affect any right the Licensor may have to seek remedies for Your violations of this Public License.\nFor the avoidance of doubt, the Licensor may also offer the Licensed Material under separate terms or conditions or stop distributing the Licensed Material at any time; however, doing so will not terminate this Public License.\nSections 1, 5, 6, 7, and 8 survive termination of this Public License.\n\n\n\nSection 7 ‚Äì Other Terms and Conditions.\n\nThe Licensor shall not be bound by any additional or different terms or conditions communicated by You unless expressly agreed.\nAny arrangements, understandings, or agreements regarding the Licensed Material not stated herein are separate from and independent of the terms and conditions of this Public License.\n\n\n\nSection 8 ‚Äì Interpretation.\n\nFor the avoidance of doubt, this Public License does not, and shall not be interpreted to, reduce, limit, restrict, or impose conditions on any use of the Licensed Material that could lawfully be made without permission under this Public License.\nTo the extent possible, if any provision of this Public License is deemed unenforceable, it shall be automatically reformed to the minimum extent necessary to make it enforceable. If the provision cannot be reformed, it shall be severed from this Public License without affecting the enforceability of the remaining terms and conditions.\nNo term or condition of this Public License will be waived and no failure to comply consented to unless expressly agreed to by the Licensor.\nNothing in this Public License constitutes or may be interpreted as a limitation upon, or waiver of, any privileges and immunities that apply to the Licensor or You, including from the legal processes of any jurisdiction or authority.\n\n\nCreative Commons is not a party to its public licenses. Notwithstanding, Creative Commons may elect to apply one of its public licenses to material it publishes and in those instances will be considered the ‚ÄúLicensor.‚Äù The text of the Creative Commons public licenses is dedicated to the public domain under the CC0 Public Domain Dedication. Except for the limited purpose of indicating that material is shared under a Creative Commons public license or as otherwise permitted by the Creative Commons policies published at creativecommons.org/policies, Creative Commons does not authorize the use of the trademark ‚ÄúCreative Commons‚Äù or any other trademark or logo of Creative Commons without its prior written consent including, without limitation, in connection with any unauthorized modifications to any of its public licenses or any other arrangements, understandings, or agreements concerning use of licensed material. For the avoidance of doubt, this paragraph does not form part of the public licenses.\nCreative Commons may be contacted at creativecommons.org."
  },
  {
    "objectID": "course-team.html",
    "href": "course-team.html",
    "title": "Teaching team",
    "section": "",
    "text": "Dr.¬†Miel Hostens (he/his) is the Robert and Anne Everett Endowed Associate Professor of Digital Dairy Management and Data Analytics at College of Agriculture and Life Sciences (Cornell University) and is an adjunct professor at department of Laboratory for Animal Nutrition and Animal Product Quality (Ghent University) focusing on the creation of methodologies using precision dairy farming to monitor sustainable food production systems from a global perspective\n\n\n\nOffice hours\nLocation\n\n\n\n\nAnytime\nSlack & Teams\n\n\nThursday - Friday 9:00 am - 17:00 pm\nDepartment of Animal Science, 273 Morrison Hall\nIthaca, NY 14853\n\n\n\nIf these times don‚Äôt work for you or you‚Äôd like to schedule a one-on-one meeting, you can do so at this link.",
    "crumbs": [
      "Course information",
      "Teaching team"
    ]
  },
  {
    "objectID": "course-team.html#instructor",
    "href": "course-team.html#instructor",
    "title": "Teaching team",
    "section": "",
    "text": "Dr.¬†Miel Hostens (he/his) is the Robert and Anne Everett Endowed Associate Professor of Digital Dairy Management and Data Analytics at College of Agriculture and Life Sciences (Cornell University) and is an adjunct professor at department of Laboratory for Animal Nutrition and Animal Product Quality (Ghent University) focusing on the creation of methodologies using precision dairy farming to monitor sustainable food production systems from a global perspective\n\n\n\nOffice hours\nLocation\n\n\n\n\nAnytime\nSlack & Teams\n\n\nThursday - Friday 9:00 am - 17:00 pm\nDepartment of Animal Science, 273 Morrison Hall\nIthaca, NY 14853\n\n\n\nIf these times don‚Äôt work for you or you‚Äôd like to schedule a one-on-one meeting, you can do so at this link.",
    "crumbs": [
      "Course information",
      "Teaching team"
    ]
  },
  {
    "objectID": "course-team.html#teaching-assistants",
    "href": "course-team.html#teaching-assistants",
    "title": "Teaching team",
    "section": "Teaching assistants",
    "text": "Teaching assistants\n\n\n\n\nName\nLocation\n\n\n\n\n\nSumit Sharma\nB29 Morrison Hall\n\n\n\nOffice Hours: 11:00 AM ‚Äì 12:00 PM on Wednesdays. Alternatively, you may email at ss4452@cornell.edu to schedule an appointment.",
    "crumbs": [
      "Course information",
      "Teaching team"
    ]
  },
  {
    "objectID": "project-tips-resources.html",
    "href": "project-tips-resources.html",
    "title": "Project tips + resources",
    "section": "",
    "text": "FiveThirtyEight data\n\n\n\n\n\nWorld Health Organization\nThe National Bureau of Economic Research\nInternational Monetary Fund\nGeneral Social Survey\nUnited Nations Data\nUnited Nations Statistics Division\nU.K. Data\nU.S. Data\nU.S. Census Data\nEuropean Statistics\nStatistics Canada\nPew Research\nUNICEF\nCDC\nWorld Bank\nElection Studies",
    "crumbs": [
      "Project",
      "Tips + resources"
    ]
  },
  {
    "objectID": "project-tips-resources.html#data-sources",
    "href": "project-tips-resources.html#data-sources",
    "title": "Project tips + resources",
    "section": "",
    "text": "FiveThirtyEight data\n\n\n\n\n\nWorld Health Organization\nThe National Bureau of Economic Research\nInternational Monetary Fund\nGeneral Social Survey\nUnited Nations Data\nUnited Nations Statistics Division\nU.K. Data\nU.S. Data\nU.S. Census Data\nEuropean Statistics\nStatistics Canada\nPew Research\nUNICEF\nCDC\nWorld Bank\nElection Studies",
    "crumbs": [
      "Project",
      "Tips + resources"
    ]
  },
  {
    "objectID": "project-tips-resources.html#tips",
    "href": "project-tips-resources.html#tips",
    "title": "Project tips + resources",
    "section": "Tips",
    "text": "Tips\n\nAsk questions if any of the expectations are unclear.\nCode: In your write up your code should be hidden so that your document is neat and easy to read. However your document should include all your code such that if I re-knit your qmd file I should be able to obtain the results you presented.\n\nException: If you want to highlight something specific about a piece of code, you‚Äôre welcome to show that portion.\n\nMerge conflicts will happen, issues will arise, and that‚Äôs fine! Commit and push often, and ask questions when stuck.\nMake sure each team member is contributing, both in terms of quality and quantity of contribution (we will be reviewing commits from different team members).\nAll team members are expected to contribute equally to the completion of this assignment and group assessments will be given at its completion - anyone judged to not have sufficient contributed to the final product will have their grade penalized. While different teams members may have different backgrounds and abilities, it is the responsibility of every team member to understand how and why all code and approaches in the assignment works.\nYou can also chose to visualize your results after data processing in Tableau. Tableau is a powerfull and intuitive data visualisation tool with many options to make figures look nice.\nOn the website of the Bovi-Analytics lab there are also tons of tutorials to help get you started using the tools in the course. tutorials",
    "crumbs": [
      "Project",
      "Tips + resources"
    ]
  },
  {
    "objectID": "project-tips-resources.html#formatting-communication-tips",
    "href": "project-tips-resources.html#formatting-communication-tips",
    "title": "Project tips + resources",
    "section": "Formatting + communication tips",
    "text": "Formatting + communication tips\n\nSuppress Code, Warnings, & Messages\n\nInclude the following code in a code chunk at the top of your .qmd file to suppress all code, warnings, and other messages.\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n\nHeaders\n\nUse headers to clearly label each section.\nInspect the document outline to review your headers and sub-headers.\n\n\n\nReferences\n\nInclude all references in a section called ‚ÄúReferences‚Äù at the end of the report.\nThis course does not have specific requirements for formatting citations and references.\n\n\n\nAppendix\n\nIf you have additional work that does not fit or does not belong in the body of the report, you may put it at the end of the document in section called ‚ÄúAppendix‚Äù.\nThe items in the appendix should be properly labeled.\nThe appendix should only be for additional material. The reader should be able to fully understand your report without viewing content in the appendix.\n\n\n\nResize figures\nResize plots and figures, so you have more space for the narrative. Example:\n#| fig-width: 6 #| fig-height: 4\n\n\nArranging plots\nArrange plots in a grid, instead of one after the other. This is especially useful when displaying plots for exploratory data analysis and to check assumptions. In Python Matplotlib has a function subplot() to do this. Look for documentation and examples how to make graphs look nice at matplotlib tutorials.\n\n\nPlot titles and axis labels\nBe sure all plot titles and axis labels are visible and easy to read.\n\nUse informative titles, not variable names, for titles and axis labels.\n\n‚ùå NO! The x-axis is hard to read because the names overlap.\nsns.countplot(data=mpg, x=\"manufacturer\")\nplt.show()\n‚úÖ YES! Names are readable\nsns.countplot(data=mpg, y=\"manufacturer\")\nplt.show()\n\n\nDo a little more to make the plot look professional!\n\nInformative title and axis labels\nFlipped coordinates to make names readable\nArranged bars based on count\nCapitalized manufacturer names\nOptional: Added color - Use a coordinated color scheme throughout paper / presentation\nOptional: Applied a theme - Use same theme throughout paper / presentation\n\ncounts = (\nmpg[\"manufacturer\"]\n.str.title()\n.value_counts()\n.sort_values()\n)\n\nplt.figure(figsize=(6, 5))\ncounts.plot(kind=\"barh\", color=\"steelblue\")\nplt.xlabel(\"Count\")\nplt.ylabel(\"Manufacturer\")\nplt.title(\"Most Common Car Manufacturers\")\nplt.tight_layout()\nplt.show()\n\n\nTables and model output\n\nUse the kable function from the knitr package to neatly output all tables and model output. This will also ensure all model coefficients are displayed.\n\nUse the digits argument to display only 3 or 4 significant digits.\nUse the caption argument to add captions to your table.\n\n\nimport statsmodels.formula.api as smf\n\nmodel = smf.ols(\"mpg ~ hp\", data=mtcars).fit()\nmodel.summary2().tables[1].round(3)\n\n\nGuidelines for communicating results\n\nDon‚Äôt use variable names in your narrative! Use descriptive terms, so the reader understands your narrative without relying on the data dictionary.\n\n‚ùå There is a negative linear relationship between mpg and hp.\n‚úÖ There is a negative linear relationship between a car‚Äôs fuel economy (in miles per gallon) and its horsepower.\n\nKnow your audience: Your report should be written for a general audience who has an understanding of statistics at the level of STA 210.\nAvoid subject matter jargon: Don‚Äôt assume the audience knows all of the specific terminology related to your subject area. If you must use jargon, include a brief definition the first time you introduce a term.\nTell the ‚Äúso what‚Äù: Your report and presentation should be more than a list of interpretations and technical definitions. Focus on what the results mean, i.e.¬†what you want the audience to know about your topic after reading your report or viewing your presentation.\n\n‚ùå For every one unit increase in horsepower, we expect the miles per gallon to decrease by 0.068 units, on average.\n‚úÖ If the priority is to have good fuel economy, then one should choose a car with lower horsepower. Based on our model, the fuel economy is expected to decrease, on average, by 0.68 miles per gallon for every 10 additional horsepower.\n\nTell a story: All visualizations, tables, model output, and narrative should tell a cohesive story!\nUse one voice: Though multiple people are writing the report, it should read as if it‚Äôs from a single author. At least one team member should read through the report before submission to ensure it reads like a cohesive document.",
    "crumbs": [
      "Project",
      "Tips + resources"
    ]
  },
  {
    "objectID": "project-tips-resources.html#additional-resources",
    "href": "project-tips-resources.html#additional-resources",
    "title": "Project tips + resources",
    "section": "Additional resources",
    "text": "Additional resources\n\nPython for Data Science\nThink stats ebook about using python for data science\nQuarto Documentation\nData visualization\n\nData Visualization in python\nGet a license for Tableau, a powerfull data visualisation platform",
    "crumbs": [
      "Project",
      "Tips + resources"
    ]
  },
  {
    "objectID": "project-description.html",
    "href": "project-description.html",
    "title": "Project description",
    "section": "",
    "text": "Coming soon",
    "crumbs": [
      "Project",
      "Description"
    ]
  },
  {
    "objectID": "slides/lec-3-1.html#measuring-milk-yield",
    "href": "slides/lec-3-1.html#measuring-milk-yield",
    "title": "Lecture 5 - Milk production data",
    "section": "Measuring milk yield",
    "text": "Measuring milk yield"
  },
  {
    "objectID": "slides/lec-3-1.html#why",
    "href": "slides/lec-3-1.html#why",
    "title": "Lecture 5 - Milk production data",
    "section": "Why?",
    "text": "Why?\n\nDHI\nManagement\nResearch"
  },
  {
    "objectID": "slides/lec-3-1.html#how",
    "href": "slides/lec-3-1.html#how",
    "title": "Lecture 5 - Milk production data",
    "section": "How?",
    "text": "How?\n\nTest-day milk recording\nMilk meters"
  },
  {
    "objectID": "slides/lec-3-1.html#lactation-yield",
    "href": "slides/lec-3-1.html#lactation-yield",
    "title": "Lecture 5 - Milk production data",
    "section": "Lactation yield",
    "text": "Lactation yield"
  },
  {
    "objectID": "slides/lec-3-1.html#cumulative-yield",
    "href": "slides/lec-3-1.html#cumulative-yield",
    "title": "Lecture 5 - Milk production data",
    "section": "Cumulative yield",
    "text": "Cumulative yield\n\nTest interval method\nBest prediction"
  },
  {
    "objectID": "slides/lec-3-1.html#total-production-is-not-the-whole-picture",
    "href": "slides/lec-3-1.html#total-production-is-not-the-whole-picture",
    "title": "Lecture 5 - Milk production data",
    "section": "Total production is not the whole picture",
    "text": "Total production is not the whole picture"
  },
  {
    "objectID": "slides/lec-3-1.html#which-lactation-is-better",
    "href": "slides/lec-3-1.html#which-lactation-is-better",
    "title": "Lecture 5 - Milk production data",
    "section": "Which lactation is better?",
    "text": "Which lactation is better?\n\n\n\n\n\n\n\n\n\n\n##Question\nWhich factors influence the lactationcurve?"
  },
  {
    "objectID": "slides/lec-3-1.html#making-lactations-comparable",
    "href": "slides/lec-3-1.html#making-lactations-comparable",
    "title": "Lecture 5 - Milk production data",
    "section": "Making lactations comparable",
    "text": "Making lactations comparable\nEnergy-corrected milk (ECM)\nAdjusting to 3.5% fat and 3.2% protein:\nECM = 0.327 √ó milk (lb) + 12.95 √ó fat (lb) + 7.2 √ó protein (lb)"
  },
  {
    "objectID": "slides/lec-3-1.html#me-305-aa",
    "href": "slides/lec-3-1.html#me-305-aa",
    "title": "Lecture 5 - Milk production data",
    "section": "305-ME / 305-AA",
    "text": "305-ME / 305-AA\nApplying correction factors:\n\nAge at freshening\nParity\nSeason of calving\nMilking frequency\nPrevious days open\nBreed\nClimate regions"
  },
  {
    "objectID": "slides/lec-3-1.html#management-level-milk-mlm",
    "href": "slides/lec-3-1.html#management-level-milk-mlm",
    "title": "Lecture 5 - Milk production data",
    "section": "Management Level Milk (MLM)",
    "text": "Management Level Milk (MLM)\nEstimated average milk production on test day if all cows were:\n\n150 days in milk\nIn second lactation\nProducing milk with 4.0% fat and 3.3% protein\n\nMLM is only calculated on cows with less than 306 days in milk"
  },
  {
    "objectID": "slides/lec-3-1.html#assignment",
    "href": "slides/lec-3-1.html#assignment",
    "title": "Lecture 5 - Milk production data",
    "section": "Assignment",
    "text": "Assignment\nLook at the milk production summaries of CURC and tell me what you think. What is going well, what is a potential weakness?"
  },
  {
    "objectID": "slides/lec-10.html#sec-prerequisites",
    "href": "slides/lec-10.html#sec-prerequisites",
    "title": "Data transformations",
    "section": "Prerequisites",
    "text": "Prerequisites\n\nBase R provides some basic tools for creating and manipulating factors.\nWe‚Äôll supplement these with the forcats package, which is part of the core tidyverse. It provides tools for dealing with categorical variables (and it‚Äôs an anagram of factors!) using a wide range of helpers for working with factors.\n\n\nlibrary(tidyverse)"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-basics",
    "href": "slides/lec-10.html#sec-factor-basics",
    "title": "Data transformations",
    "section": "Factor basics",
    "text": "Factor basics\nImagine that you have a variable that records month:\n\nx1 &lt;- c(\"Dec\", \"Apr\", \"Jan\", \"Mar\")"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-basics-2",
    "href": "slides/lec-10.html#sec-factor-basics-2",
    "title": "Data transformations",
    "section": "Factor basics",
    "text": "Factor basics\nUsing a string to record this variable has two problems:\n\nThere are only twelve possible months, and there‚Äôs nothing saving you from typos:\n\nx2 &lt;- c(\"Dec\", \"Apr\", \"Jam\", \"Mar\")\n\nIt doesn‚Äôt sort in a useful way:\n\nsort(x1)\n\n[1] \"Apr\" \"Dec\" \"Jan\" \"Mar\""
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-basics-3",
    "href": "slides/lec-10.html#sec-factor-basics-3",
    "title": "Data transformations",
    "section": "Factor basics",
    "text": "Factor basics\nYou can fix both of these problems with a factor.\nTo create a factor you must start by creating a list of the valid levels:\n\nmonth_levels &lt;- c(\n  \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n  \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n)"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-basics-4",
    "href": "slides/lec-10.html#sec-factor-basics-4",
    "title": "Data transformations",
    "section": "Factor basics",
    "text": "Factor basics\nNow you can create a factor:\n\ny1 &lt;- factor(x1, levels = month_levels)\ny1\n\n[1] Dec Apr Jan Mar\nLevels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\n\nsort(y1)\n\n[1] Jan Mar Apr Dec\nLevels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-basics-6",
    "href": "slides/lec-10.html#sec-factor-basics-6",
    "title": "Data transformations",
    "section": "Factor NA",
    "text": "Factor NA\nAnd any values not in the level will be silently converted to NA:\n\nx2 &lt;- c(\"Dec\", \"Apr\", \"Jam\", \"Mar\")\ny2 &lt;- factor(x2, levels = month_levels)\ny2\n\n[1] Dec  Apr  &lt;NA&gt; Mar \nLevels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-basics-7",
    "href": "slides/lec-10.html#sec-factor-basics-7",
    "title": "Data transformations",
    "section": "Factor NA",
    "text": "Factor NA\nThis seems risky, so you might want to use forcats::fct() instead, which will throw a error warning:\n\ny2 &lt;- fct(x2, levels = month_levels)\n\nError in `fct()`:\n! All values of `x` must appear in `levels` or `na`\n‚Ñπ Missing level: \"Jam\""
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-basics-8",
    "href": "slides/lec-10.html#sec-factor-basics-8",
    "title": "Data transformations",
    "section": "Factor sorting",
    "text": "Factor sorting\nSorting alphabetically is slightly risky because not every computer will sort strings in the same way. So forcats::fct() orders by first appearance in the original vector:\n\nfct(x1)\n\n[1] Dec Apr Jan Mar\nLevels: Dec Apr Jan Mar"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-basics-9",
    "href": "slides/lec-10.html#sec-factor-basics-9",
    "title": "Data transformations",
    "section": "Factor access",
    "text": "Factor access\nIf you ever need to see the set of valid levels directly, you can do so with levels():\n\nlevels(y2)\n\n [1] \"Jan\" \"Feb\" \"Mar\" \"Apr\" \"May\" \"Jun\" \"Jul\" \"Aug\" \"Sep\" \"Oct\" \"Nov\" \"Dec\""
  },
  {
    "objectID": "slides/lec-10.html#sec-reading-csvs",
    "href": "slides/lec-10.html#sec-reading-csvs",
    "title": "Data transformations",
    "section": "Factors in CSV files",
    "text": "Factors in CSV files\nYou can also create a factor when reading your data with readr with col_factor():\n\ncsv &lt;- \"\nmonth,value\nJan,12\nFeb,56\nMar,12\"\n\ndf &lt;- read_csv(csv, col_types = cols(month = col_factor(month_levels)))\ndf$month\n\n[1] Jan Feb Mar\nLevels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-reorder-1",
    "href": "slides/lec-10.html#sec-factor-reorder-1",
    "title": "Data transformations",
    "section": "Factor reorder",
    "text": "Factor reorder\nImagine the following plot, what would you like to ameliorate it for"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-reorder-2",
    "href": "slides/lec-10.html#sec-factor-reorder-2",
    "title": "Data transformations",
    "section": "Factor reorder",
    "text": "Factor reorder\nIt is hard to read this plot because there‚Äôs no overall pattern. We can improve it by reordering the levels of relig using fct_reorder(). fct_reorder() takes three arguments:\n\n.f, the factor whose levels you want to modify.\n.x, a numeric vector that you want to use to reorder the levels.\nOptionally, .fun, a function that‚Äôs used if there are mu\n\n\nggplot(relig_summary, aes(x = tvhours, y = fct_reorder(relig, tvhours))) +\n  geom_point()"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-reorder-3",
    "href": "slides/lec-10.html#sec-factor-reorder-3",
    "title": "Data transformations",
    "section": "Factor reorder",
    "text": "Factor reorder"
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-relevel-1",
    "href": "slides/lec-10.html#sec-factor-relevel-1",
    "title": "Data transformations",
    "section": "Factor relevel",
    "text": "Factor relevel\nImagine the following plot, maybe you would like to have ‚ÄúNot applicable‚Äù not show up at the top of the graph."
  },
  {
    "objectID": "slides/lec-10.html#sec-factor-relevel-2",
    "href": "slides/lec-10.html#sec-factor-relevel-2",
    "title": "Data transformations",
    "section": "Factor relevel",
    "text": "Factor relevel\nYou can use fct_relevel(). It takes a factor, .f, and then any number of levels that you want to move to the front of the line.\n\nggplot(rincome_summary, aes(x = age, y = fct_relevel(rincome, \"Not applicable\"))) +\n  geom_point()"
  },
  {
    "objectID": "slides/lec-10.html#sec-other-factor-1",
    "href": "slides/lec-10.html#sec-other-factor-1",
    "title": "Data transformations",
    "section": "Other usefull refactoring functions",
    "text": "Other usefull refactoring functions\n\nfct_reorder2(.f, .x, .y) reorders the factor .f by the .y values associated with the largest .x values.\nfct_infreq() to order levels in decreasing frequency.\nCombine it with fct_rev() if you want them in increasing frequency.\nfct_recode() allows you to recode, or change, the value of each level."
  },
  {
    "objectID": "slides/lec-10.html#sec-other-factor-2",
    "href": "slides/lec-10.html#sec-other-factor-2",
    "title": "Data transformations",
    "section": "Other usefull re-factoring functions",
    "text": "Other usefull re-factoring functions\n\nfct_collapse() is a useful variant of fct_recode() using a vector of old levels.\nfct_lump_lowfreq() is a simple starting point that progressively lumps the smallest groups categories into ‚ÄúOther‚Äù, always keeping ‚ÄúOther‚Äù as the smallest category.\nfct_lump_n() specifies the exact number of groups."
  },
  {
    "objectID": "slides/lec-12.html#sec-prerequisites",
    "href": "slides/lec-12.html#sec-prerequisites",
    "title": "Decision Trees",
    "section": "Prerequisites",
    "text": "Prerequisites\n\nThis lecture will focus on Decision Trees and introduce Random Forests, powerful techniques for classification and regression tasks.\nWe‚Äôll use the rpart package for decision trees and the randomForest package for random forests.\n\n\n# Install necessary packages if not already installed\nif(!require(tidyverse)) install.packages(\"tidyverse\")\nif(!require(rpart)) install.packages(\"rpart\")\nif(!require(rpart.plot)) install.packages(\"rpart.plot\") # Install rpart.plot\nif(!require(caret)) install.packages(\"caret\")\nif(!require(randomForest)) install.packages(\"randomForest\")\nif(!require(DiagrammeR)) install.packages(\"DiagrammeR\")\n\n# Load the libraries\nlibrary(tidyverse)\nlibrary(rpart)\nlibrary(rpart.plot) # Load rpart.plot\nlibrary(caret)\nlibrary(randomForest)\nlibrary(DiagrammeR) # Load DiagrammeR"
  },
  {
    "objectID": "slides/lec-12.html#sec-dt-intuitive",
    "href": "slides/lec-12.html#sec-dt-intuitive",
    "title": "Decision Trees",
    "section": "Decision Trees: An Intuitive Approach",
    "text": "Decision Trees: An Intuitive Approach\nDecision trees are a widely-used and intuitive machine learning technique used to solve prediction problems. They work through a series of yes-no questions to arrive at an outcome.\n\nSome of the conceptual explanation here is inspired by Shaw Talebi‚Äôs excellent work on decision trees. For a Python-oriented approach, see his blog post."
  },
  {
    "objectID": "slides/lec-12.html#sec-dt-example",
    "href": "slides/lec-12.html#sec-dt-example",
    "title": "Decision Trees",
    "section": "A Simple Example",
    "text": "A Simple Example\nImagine deciding whether to drink tea or coffee based on: - Time of day - Hours of sleep from last night\n\nSimple decision tree example"
  },
  {
    "objectID": "slides/lec-12.html#sec-dt-structure",
    "href": "slides/lec-12.html#sec-dt-structure",
    "title": "Decision Trees",
    "section": "Decision Tree Structure",
    "text": "Decision Tree Structure\nA decision tree consists of:\n\nRoot Node: The initial splitting point (Is it after 4 PM?)\nInternal/Splitting Nodes: Further split data based on conditions (Hours of sleep &gt; 6?)\nLeaf/Terminal Nodes: Final outcome where no further splits occur (Tea üçµ or Coffee ‚òï)\nEdges: Connect nodes and represent decision paths (Yes/No)"
  },
  {
    "objectID": "slides/lec-12.html#sec-dt-with-data",
    "href": "slides/lec-12.html#sec-dt-with-data",
    "title": "Decision Trees",
    "section": "Using Decision Trees with Data",
    "text": "Using Decision Trees with Data\nIn practice, we use tabular data where each row is evaluated through the tree:\n\nTabular data example"
  },
  {
    "objectID": "slides/lec-12.html#sec-dt-graphical",
    "href": "slides/lec-12.html#sec-dt-graphical",
    "title": "Decision Trees",
    "section": "Graphical View of a Decision Tree",
    "text": "Graphical View of a Decision Tree\nDecision trees partition the feature space into regions:\n\nGraphical view of decision tree partitioning"
  },
  {
    "objectID": "slides/lec-12.html#sec-dt-training",
    "href": "slides/lec-12.html#sec-dt-training",
    "title": "Decision Trees",
    "section": "Training Decision Trees from Data",
    "text": "Training Decision Trees from Data\nDecision trees are grown using an optimization process:\n\nStarting Point: Begin with all data in a single node\nGreedy Search: Find the ‚Äúbest‚Äù variable and splitting point\nRecursive Splitting: Repeat the process on each resulting partition\nStopping: Continue until a stopping criterion is met"
  },
  {
    "objectID": "slides/lec-12.html#sec-split-criteria",
    "href": "slides/lec-12.html#sec-split-criteria",
    "title": "Decision Trees",
    "section": "Split Criteria",
    "text": "Split Criteria\nDecision trees use various metrics to determine the best split:\n\nClassification Trees:\n\nGini impurity (default in many implementations)\nInformation gain / Entropy reduction\n\nRegression Trees:\n\nMean Squared Error (MSE)\nMean Absolute Error (MAE)"
  },
  {
    "objectID": "slides/lec-12.html#sec-dt-overfitting",
    "href": "slides/lec-12.html#sec-dt-overfitting",
    "title": "Decision Trees",
    "section": "Overfitting in Decision Trees",
    "text": "Overfitting in Decision Trees\nA fully grown tree might perfectly classify training data but perform poorly on new data:\n\nComparison of simple vs.¬†complex decision boundaries"
  },
  {
    "objectID": "slides/lec-12.html#sec-control-growth",
    "href": "slides/lec-12.html#sec-control-growth",
    "title": "Decision Trees",
    "section": "Controlling Tree Growth",
    "text": "Controlling Tree Growth\nTo prevent overfitting, we can use:\n\nHyperparameter Tuning:\n\nMaximum tree depth\nMinimum samples per leaf\nMinimum samples for split\n\nPruning:\n\nGrow a full tree, then remove branches that don‚Äôt improve performance\nCost-complexity pruning"
  },
  {
    "objectID": "slides/lec-12.html#sec-rpart-pkg",
    "href": "slides/lec-12.html#sec-rpart-pkg",
    "title": "Decision Trees",
    "section": "The rpart Package",
    "text": "The rpart Package\nR has excellent support for decision trees through the rpart package:\n\n# Load a sample dataset - iris\ndata(iris)\nhead(iris)\n\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa"
  },
  {
    "objectID": "slides/lec-12.html#sec-simple-dt",
    "href": "slides/lec-12.html#sec-simple-dt",
    "title": "Decision Trees",
    "section": "Building a Simple Decision Tree",
    "text": "Building a Simple Decision Tree\n\n# Build a decision tree model\niris_tree &lt;- rpart(Species ~ ., \n                  data = iris,\n                  method = \"class\")\n\n# Print the model\nprint(iris_tree)\n\nn= 150 \n\nnode), split, n, loss, yval, (yprob)\n      * denotes terminal node\n\n1) root 150 100 setosa (0.33333333 0.33333333 0.33333333)  \n  2) Petal.Length&lt; 2.45 50   0 setosa (1.00000000 0.00000000 0.00000000) *\n  3) Petal.Length&gt;=2.45 100  50 versicolor (0.00000000 0.50000000 0.50000000)  \n    6) Petal.Width&lt; 1.75 54   5 versicolor (0.00000000 0.90740741 0.09259259) *\n    7) Petal.Width&gt;=1.75 46   1 virginica (0.00000000 0.02173913 0.97826087) *"
  },
  {
    "objectID": "slides/lec-12.html#sec-visualize-dt",
    "href": "slides/lec-12.html#sec-visualize-dt",
    "title": "Decision Trees",
    "section": "Visualizing the Decision Tree",
    "text": "Visualizing the Decision Tree\n\n# Plot the decision tree\nrpart.plot(iris_tree, \n           extra = 104,      # Show sample sizes and percentage\n           box.palette = \"GnBu\", # Color scheme\n           fallen.leaves = TRUE) # Align leaves"
  },
  {
    "objectID": "slides/lec-12.html#sec-interpret-dt",
    "href": "slides/lec-12.html#sec-interpret-dt",
    "title": "Decision Trees",
    "section": "Interpreting the Tree",
    "text": "Interpreting the Tree\n\nAt each node, we see:\n\nThe predicted class\nThe probability distribution\nThe percentage of observations\nThe splitting criterion\n\nFor the iris dataset:\n\nThe first split is on Petal.Length &lt; 2.5\nThis perfectly separates setosa from the other species\nThe second split uses Petal.Width to separate versicolor and virginica"
  },
  {
    "objectID": "slides/lec-12.html#sec-diabetes-data",
    "href": "slides/lec-12.html#sec-diabetes-data",
    "title": "Decision Trees",
    "section": "Diabetes Dataset",
    "text": "Diabetes Dataset\nLet‚Äôs use the Pima Indians Diabetes Dataset to predict diabetes risk:\n\n# Load diabetes data\ndiabetes_data &lt;- read.csv(\"https://raw.githubusercontent.com/jbrownlee/Datasets/master/pima-indians-diabetes.csv\", header = FALSE)\n\n# Set column names\ncolnames(diabetes_data) &lt;- c(\"Pregnancies\", \"Glucose\", \"BloodPressure\", \"SkinThickness\", \n                            \"Insulin\", \"BMI\", \"DiabetesPedigreeFunction\", \"Age\", \"Outcome\")\n\n# Check the data\nglimpse(diabetes_data)\n\nRows: 768\nColumns: 9\n$ Pregnancies              &lt;int&gt; 6, 1, 8, 1, 0, 5, 3, 10, 2, 8, 4, 10, 10, 1, ‚Ä¶\n$ Glucose                  &lt;int&gt; 148, 85, 183, 89, 137, 116, 78, 115, 197, 125‚Ä¶\n$ BloodPressure            &lt;int&gt; 72, 66, 64, 66, 40, 74, 50, 0, 70, 96, 92, 74‚Ä¶\n$ SkinThickness            &lt;int&gt; 35, 29, 0, 23, 35, 0, 32, 0, 45, 0, 0, 0, 0, ‚Ä¶\n$ Insulin                  &lt;int&gt; 0, 0, 0, 94, 168, 0, 88, 0, 543, 0, 0, 0, 0, ‚Ä¶\n$ BMI                      &lt;dbl&gt; 33.6, 26.6, 23.3, 28.1, 43.1, 25.6, 31.0, 35.‚Ä¶\n$ DiabetesPedigreeFunction &lt;dbl&gt; 0.627, 0.351, 0.672, 0.167, 2.288, 0.201, 0.2‚Ä¶\n$ Age                      &lt;int&gt; 50, 31, 32, 21, 33, 30, 26, 29, 53, 54, 30, 3‚Ä¶\n$ Outcome                  &lt;int&gt; 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, ‚Ä¶"
  },
  {
    "objectID": "slides/lec-12.html#sec-understand-data",
    "href": "slides/lec-12.html#sec-understand-data",
    "title": "Decision Trees",
    "section": "Understanding the Dataset",
    "text": "Understanding the Dataset\nThe dataset contains information about females of Pima Indian heritage with the following variables:\n\nPregnancies: Number of pregnancies\nGlucose: Plasma glucose concentration (2 hours after oral glucose tolerance test)\nBloodPressure: Diastolic blood pressure (mm Hg)\nSkinThickness: Triceps skin fold thickness (mm)\nInsulin: 2-Hour serum insulin (mu U/ml)\nBMI: Body mass index (weight in kg/(height in m)^2)\nDiabetesPedigreeFunction: A function of diabetes family history\nAge: Age in years\nOutcome: Class variable (0 = no diabetes, 1 = diabetes)"
  },
  {
    "objectID": "slides/lec-12.html#sec-data-prep",
    "href": "slides/lec-12.html#sec-data-prep",
    "title": "Decision Trees",
    "section": "Preprocessing the Data",
    "text": "Preprocessing the Data\n\n# Convert target to factor for classification\ndiabetes_data$Outcome &lt;- as.factor(diabetes_data$Outcome)\n\n# Recode target for interpretability\nlevels(diabetes_data$Outcome) &lt;- c(\"Healthy\", \"Diabetic\")\n\n# Handle missing values (zeros are unlikely values for many of these measurements)\ndiabetes_data$Glucose[diabetes_data$Glucose == 0] &lt;- NA\ndiabetes_data$BloodPressure[diabetes_data$BloodPressure == 0] &lt;- NA\ndiabetes_data$SkinThickness[diabetes_data$SkinThickness == 0] &lt;- NA\ndiabetes_data$Insulin[diabetes_data$Insulin == 0] &lt;- NA\ndiabetes_data$BMI[diabetes_data$BMI == 0] &lt;- NA\n\n# Impute missing values with median\nfor(i in 1:5) {\n  diabetes_data[is.na(diabetes_data[,i+1]), i+1] &lt;- median(diabetes_data[,i+1], na.rm = TRUE)\n}\n\n# Check class balance\ntable(diabetes_data$Outcome)\n\n\n Healthy Diabetic \n     500      268"
  },
  {
    "objectID": "slides/lec-12.html#sec-data-split",
    "href": "slides/lec-12.html#sec-data-split",
    "title": "Decision Trees",
    "section": "Data Preparation",
    "text": "Data Preparation\n\n# Split into training and testing sets\nset.seed(123)\ntrain_index &lt;- createDataPartition(diabetes_data$Outcome, p = 0.7, list = FALSE)\ntrain_data &lt;- diabetes_data[train_index, ]\ntest_data &lt;- diabetes_data[-train_index, ]\n\n# Check class balance\nprop.table(table(train_data$Outcome))\n\n\n  Healthy  Diabetic \n0.6505576 0.3494424"
  },
  {
    "objectID": "slides/lec-12.html#sec-train-model",
    "href": "slides/lec-12.html#sec-train-model",
    "title": "Decision Trees",
    "section": "Training the Model",
    "text": "Training the Model\n\n# Train a decision tree model\ndiabetes_tree &lt;- rpart(Outcome ~ ., \n                      data = train_data,\n                      method = \"class\",\n                      control = rpart.control(cp = 0.01)) # complexity parameter\n\n# View the result\nrpart.plot(diabetes_tree, \n           extra = 106,      \n           box.palette = \"RdBu\",\n           fallen.leaves = TRUE,\n           main = \"Diabetes Classification Decision Tree\")"
  },
  {
    "objectID": "slides/lec-12.html#sec-evaluate-model",
    "href": "slides/lec-12.html#sec-evaluate-model",
    "title": "Decision Trees",
    "section": "Evaluating the Model",
    "text": "Evaluating the Model\n\n# Make predictions on test data\npredictions &lt;- predict(diabetes_tree, test_data, type = \"class\")\n\n# Create confusion matrix\nconf_matrix &lt;- confusionMatrix(predictions, test_data$Outcome)\nconf_matrix\n\nConfusion Matrix and Statistics\n\n          Reference\nPrediction Healthy Diabetic\n  Healthy      134       35\n  Diabetic      16       45\n                                         \n               Accuracy : 0.7783         \n                 95% CI : (0.719, 0.8302)\n    No Information Rate : 0.6522         \n    P-Value [Acc &gt; NIR] : 2.232e-05      \n                                         \n                  Kappa : 0.4826         \n                                         \n Mcnemar's Test P-Value : 0.01172        \n                                         \n            Sensitivity : 0.8933         \n            Specificity : 0.5625         \n         Pos Pred Value : 0.7929         \n         Neg Pred Value : 0.7377         \n             Prevalence : 0.6522         \n         Detection Rate : 0.5826         \n   Detection Prevalence : 0.7348         \n      Balanced Accuracy : 0.7279         \n                                         \n       'Positive' Class : Healthy"
  },
  {
    "objectID": "slides/lec-12.html#sec-feature-importance",
    "href": "slides/lec-12.html#sec-feature-importance",
    "title": "Decision Trees",
    "section": "Feature Importance",
    "text": "Feature Importance\n\n# Extract variable importance\nvar_importance &lt;- diabetes_tree$variable.importance\nvar_importance_df &lt;- data.frame(\n  Variable = names(var_importance),\n  Importance = var_importance\n)\n\n# Plot variable importance\nggplot(var_importance_df, aes(x = reorder(Variable, Importance), y = Importance)) +\n  geom_bar(stat = \"identity\", fill = \"steelblue\") +\n  coord_flip() +\n  labs(x = \"Variables\", y = \"Importance\", \n       title = \"Variable Importance in Diabetes Prediction\") +\n  theme_minimal()"
  },
  {
    "objectID": "slides/lec-12.html#sec-hyperparameter",
    "href": "slides/lec-12.html#sec-hyperparameter",
    "title": "Decision Trees",
    "section": "Hyperparameter Tuning",
    "text": "Hyperparameter Tuning\nWe can tune the complexity parameter (cp) to control tree growth:\n\n# Plot cp values\nplotcp(diabetes_tree)\n\n\n\n\n\n\n\n# Find optimal cp value\noptimal_cp &lt;- diabetes_tree$cptable[which.min(diabetes_tree$cptable[,\"xerror\"]),\"CP\"]\ncat(\"Optimal CP value:\", optimal_cp, \"\\n\")\n\nOptimal CP value: 0.0106383 \n\n# Train model with optimal cp\npruned_tree &lt;- prune(diabetes_tree, cp = optimal_cp)\n\n# Plot pruned tree\nrpart.plot(pruned_tree,\n           extra = 106,\n           box.palette = \"RdBu\",\n           fallen.leaves = TRUE,\n           main = \"Pruned Diabetes Classification Tree\")"
  },
  {
    "objectID": "slides/lec-12.html#sec-model-comparison",
    "href": "slides/lec-12.html#sec-model-comparison",
    "title": "Decision Trees",
    "section": "Model Comparison",
    "text": "Model Comparison\n\n# Evaluate pruned model\npruned_predictions &lt;- predict(pruned_tree, test_data, type = \"class\")\npruned_conf_matrix &lt;- confusionMatrix(pruned_predictions, test_data$Outcome)\n\n# Compare metrics\nmetrics_comparison &lt;- data.frame(\n  Model = c(\"Full Tree\", \"Pruned Tree\"),\n  Accuracy = c(conf_matrix$overall[\"Accuracy\"], \n               pruned_conf_matrix$overall[\"Accuracy\"]),\n  Sensitivity = c(conf_matrix$byClass[\"Sensitivity\"], \n                  pruned_conf_matrix$byClass[\"Sensitivity\"]),\n  Specificity = c(conf_matrix$byClass[\"Specificity\"], \n                  pruned_conf_matrix$byClass[\"Specificity\"])\n)\n\nmetrics_comparison\n\n        Model  Accuracy Sensitivity Specificity\n1   Full Tree 0.7782609   0.8933333      0.5625\n2 Pruned Tree 0.7913043   0.8933333      0.6000"
  },
  {
    "objectID": "slides/lec-12.html#sec-advantages",
    "href": "slides/lec-12.html#sec-advantages",
    "title": "Decision Trees",
    "section": "Advantages of Decision Trees",
    "text": "Advantages of Decision Trees\n\nInterpretability: Easy to understand and visualize\nNo scaling required: Doesn‚Äôt require feature normalization\nHandles mixed data types: Can process numerical and categorical variables\nCaptures non-linear relationships: Can model complex decision boundaries\nFeature importance: Naturally reveals important variables"
  },
  {
    "objectID": "slides/lec-12.html#sec-limitations",
    "href": "slides/lec-12.html#sec-limitations",
    "title": "Decision Trees",
    "section": "Limitations of Decision Trees",
    "text": "Limitations of Decision Trees\n\nOverfitting: Prone to capturing noise in training data\nInstability: Small changes in data can result in very different trees\nBias toward variables with many levels: Can favor categorical variables with many categories\nSuboptimal global decisions: Greedy approach may not find globally optimal tree\nLimited prediction smoothness: Step-wise predictions rather than smooth functions"
  },
  {
    "objectID": "slides/lec-12.html#sec-ensemble",
    "href": "slides/lec-12.html#sec-ensemble",
    "title": "Decision Trees",
    "section": "Ensemble Learning",
    "text": "Ensemble Learning\nRandom Forests overcome many limitations of single decision trees through:\n\nBootstrap Aggregation (Bagging): Training many trees on random subsets of data\nFeature Randomization: Considering only a subset of features at each split\nVoting/Averaging: Combining predictions from all trees\n\n\n\n\n\n\n\n\n\n\n\n\n\nRandom Forest Intuitive Implementation"
  },
  {
    "objectID": "slides/lec-12.html#sec-rf-implement",
    "href": "slides/lec-12.html#sec-rf-implement",
    "title": "Decision Trees",
    "section": "Random Forest Implementation",
    "text": "Random Forest Implementation\n\n# Train Random Forest model\nset.seed(123)\ndiabetes_rf &lt;- randomForest(Outcome ~ ., \n                           data = train_data,\n                           ntree = 100,    # Number of trees\n                           mtry = sqrt(ncol(train_data)-1)) # Number of variables tried at each split\n\n# Print the model\nprint(diabetes_rf)\n\n\nCall:\n randomForest(formula = Outcome ~ ., data = train_data, ntree = 100,      mtry = sqrt(ncol(train_data) - 1)) \n               Type of random forest: classification\n                     Number of trees: 100\nNo. of variables tried at each split: 3\n\n        OOB estimate of  error rate: 26.77%\nConfusion matrix:\n         Healthy Diabetic class.error\nHealthy      285       65   0.1857143\nDiabetic      79      109   0.4202128\n\n# Variable importance\nvarImpPlot(diabetes_rf, main = \"Variable Importance in Random Forest\")"
  },
  {
    "objectID": "slides/lec-12.html#sec-rf-performance",
    "href": "slides/lec-12.html#sec-rf-performance",
    "title": "Decision Trees",
    "section": "Random Forest Performance",
    "text": "Random Forest Performance\n\n# Make predictions\nrf_predictions &lt;- predict(diabetes_rf, test_data)\nrf_conf_matrix &lt;- confusionMatrix(rf_predictions, test_data$Outcome)\n\n# Add to comparison\nmetrics_comparison &lt;- rbind(metrics_comparison,\n                           data.frame(\n                             Model = \"Random Forest\",\n                             Accuracy = rf_conf_matrix$overall[\"Accuracy\"],\n                             Sensitivity = rf_conf_matrix$byClass[\"Sensitivity\"],\n                             Specificity = rf_conf_matrix$byClass[\"Specificity\"]\n                           ))\n\nmetrics_comparison\n\n                 Model  Accuracy Sensitivity Specificity\n1            Full Tree 0.7782609   0.8933333      0.5625\n2          Pruned Tree 0.7913043   0.8933333      0.6000\nAccuracy Random Forest 0.7608696   0.8533333      0.5875"
  },
  {
    "objectID": "slides/lec-12.html#sec-oob-error",
    "href": "slides/lec-12.html#sec-oob-error",
    "title": "Decision Trees",
    "section": "Out-of-Bag Error Estimation",
    "text": "Out-of-Bag Error Estimation\nOne unique advantage of Random Forests is out-of-bag (OOB) error estimation:\n\n# Plot error vs number of trees\nplot(diabetes_rf, main = \"Random Forest Error Rates vs Number of Trees\")\nlegend(\"topright\", colnames(diabetes_rf$err.rate), col = 1:3, lty = 1:3)"
  },
  {
    "objectID": "slides/lec-12.html#sec-tree-ensembles",
    "href": "slides/lec-12.html#sec-tree-ensembles",
    "title": "Decision Trees",
    "section": "Tree Ensembles Beyond Random Forests",
    "text": "Tree Ensembles Beyond Random Forests\nOther tree-based ensemble methods include:\n\nGradient Boosting: Builds trees sequentially, each correcting errors of previous trees\n\nXGBoost, LightGBM, CatBoost\n\nAdaBoost: Boosts performance by giving higher weight to misclassified instances\nExtremely Randomized Trees: Adds additional randomization in splitting"
  },
  {
    "objectID": "slides/lec-12.html#sec-regression-trees",
    "href": "slides/lec-12.html#sec-regression-trees",
    "title": "Decision Trees",
    "section": "Regression Trees",
    "text": "Regression Trees\nDecision trees can also be used for regression problems:\n\n# Create a simple regression tree example\ndata(Boston, package = \"MASS\")\n\n# Train a regression tree\nboston_tree &lt;- rpart(medv ~ ., data = Boston)\n\n# Plot the regression tree\nrpart.plot(boston_tree, \n           main = \"Boston Housing Price Regression Tree\",\n           box.palette = \"BuPu\")"
  },
  {
    "objectID": "slides/lec-12.html#sec-summary",
    "href": "slides/lec-12.html#sec-summary",
    "title": "Decision Trees",
    "section": "Summary",
    "text": "Summary\n\nDecision trees provide an intuitive approach to classification and regression\nThey work by recursively partitioning data based on feature values\nControlling tree growth is crucial to prevent overfitting\nRandom forests improve performance by combining many trees\nBoth algorithms provide interpretable models with built-in feature importance"
  },
  {
    "objectID": "slides/lec-12.html#sec-takeaways",
    "href": "slides/lec-12.html#sec-takeaways",
    "title": "Decision Trees",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nDecision trees are excellent for initial modeling and understanding data\nHyperparameter tuning and pruning help prevent overfitting\nRandom forests generally outperform single decision trees\nConsider the tradeoff between interpretability and performance\nThese techniques work well across many domains and data types"
  },
  {
    "objectID": "slides/lec-12.html#sec-references",
    "href": "slides/lec-12.html#sec-references",
    "title": "Decision Trees",
    "section": "References",
    "text": "References\n\nTalebi, S. (2023). ‚ÄúDecision Trees: Introduction & Intuition‚Äù. Medium\nBreiman, L., Friedman, J., Stone, C.J., & Olshen, R.A. (1984). ‚ÄúClassification and Regression Trees‚Äù\nBreiman, L. (2001). ‚ÄúRandom Forests‚Äù. Machine Learning, 45(1), 5-32\nJames, G., Witten, D., Hastie, T., & Tibshirani, R. (2013). ‚ÄúAn Introduction to Statistical Learning‚Äù\nSmith, J.W., Everhart, J.E., Dickson, W.C., Knowler, W.C., & Johannes, R.S. (1988). ‚ÄúUsing the ADAP learning algorithm to forecast the onset of diabetes mellitus‚Äù\nNormalized Nerd. (2022). ‚ÄúRandom Forest Algorithm Clearly Explained!‚Äù. (https://www.youtube.com/watch?v=v6VJ2RO66Ag&ab_channel=NormalizedNerd)"
  },
  {
    "objectID": "slides/lec-12.html#sec-questions",
    "href": "slides/lec-12.html#sec-questions",
    "title": "Decision Trees",
    "section": "Questions?",
    "text": "Questions?\nFeel free to reach out with any questions about decision trees or random forests!\n\n\nR version 4.4.0 (2024-04-24)\nPlatform: x86_64-pc-linux-gnu\nRunning under: Ubuntu 24.04.3 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 \nLAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0\n\nlocale:\n [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       \n [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   \n [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          \n[10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   \n\ntime zone: UTC\ntzcode source: system (glibc)\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] DiagrammeR_1.0.11    randomForest_4.7-1.2 caret_7.0-1         \n [4] lattice_0.22-6       rpart.plot_3.1.2     rpart_4.1.23        \n [7] lubridate_1.9.4      forcats_1.0.0        stringr_1.5.1       \n[10] dplyr_1.1.4          purrr_1.0.4          readr_2.1.5         \n[13] tidyr_1.3.1          tibble_3.2.1         ggplot2_3.5.1       \n[16] tidyverse_2.0.0     \n\nloaded via a namespace (and not attached):\n [1] tidyselect_1.2.1     timeDate_4041.110    farver_2.1.2        \n [4] fastmap_1.2.0        pROC_1.18.5          digest_0.6.36       \n [7] timechange_0.3.0     lifecycle_1.0.4      survival_3.5-8      \n[10] magrittr_2.0.3       compiler_4.4.0       rlang_1.1.6         \n[13] tools_4.4.0          yaml_2.3.9           data.table_1.17.0   \n[16] knitr_1.48           labeling_0.4.3       htmlwidgets_1.6.4   \n[19] plyr_1.8.9           RColorBrewer_1.1-3   withr_3.0.2         \n[22] nnet_7.3-19          grid_4.4.0           stats4_4.4.0        \n[25] e1071_1.7-16         colorspace_2.1-1     future_1.34.0       \n[28] globals_0.16.3       scales_1.3.0         iterators_1.0.14    \n[31] MASS_7.3-60.2        cli_3.6.4            rmarkdown_2.27      \n[34] generics_0.1.3       future.apply_1.11.3  reshape2_1.4.4      \n[37] tzdb_0.5.0           visNetwork_2.1.2     proxy_0.4-27        \n[40] splines_4.4.0        parallel_4.4.0       vctrs_0.6.5         \n[43] hardhat_1.4.1        Matrix_1.7-0         jsonlite_1.8.8      \n[46] hms_1.1.3            listenv_0.9.1        foreach_1.5.2       \n[49] gower_1.0.2          recipes_1.2.0        glue_1.7.0          \n[52] parallelly_1.43.0    codetools_0.2-20     stringi_1.8.4       \n[55] gtable_0.3.6         munsell_0.5.1        pillar_1.10.1       \n[58] htmltools_0.5.8.1    ipred_0.9-15         lava_1.8.1          \n[61] R6_2.5.1             evaluate_0.24.0      renv_1.1.4          \n[64] class_7.3-22         Rcpp_1.0.14          nlme_3.1-164        \n[67] prodlim_2024.06.25   xfun_0.45            pkgconfig_2.0.3     \n[70] ModelMetrics_1.2.2.2"
  },
  {
    "objectID": "slides/lec-9.html#sec-setup",
    "href": "slides/lec-9.html#sec-setup",
    "title": "Data transformations",
    "section": "Setup",
    "text": "Setup\n\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.4     ‚úî readr     2.1.5\n‚úî forcats   1.0.0     ‚úî stringr   1.5.1\n‚úî ggplot2   3.5.1     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.4     ‚úî tidyr     1.3.1\n‚úî purrr     1.0.4     \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors"
  },
  {
    "objectID": "slides/lec-9.html#sec-prerequisites",
    "href": "slides/lec-9.html#sec-prerequisites",
    "title": "Data transformations",
    "section": "Prerequisites",
    "text": "Prerequisites\n\nNumeric vectors are the backbone of data science\nBut we still need the tidyverse because we‚Äôll use these base R functions inside of tidyverse functions like mutate() and filter().\n\n\nlibrary(tidyverse)\nlibrary(nycflights13)"
  },
  {
    "objectID": "slides/lec-9.html#sec-making-numbers",
    "href": "slides/lec-9.html#sec-making-numbers",
    "title": "Data transformations",
    "section": "Making numbers",
    "text": "Making numbers\nIn most cases, you‚Äôll get numbers already recorded in one of R‚Äôs numeric types:\n\ninteger\ndouble.\n\nIn some cases, however, you‚Äôll encounter them as strings, possibly because you‚Äôve created them by pivoting from column headers or because something has gone wrong in your data import process."
  },
  {
    "objectID": "slides/lec-9.html#sec-parsing-numbers",
    "href": "slides/lec-9.html#sec-parsing-numbers",
    "title": "Data transformations",
    "section": "Parsing numbers",
    "text": "Parsing numbers\nreadr provides two useful functions for parsing strings into numbers: parse_double() and parse_number(). Use parse_double() when you have numbers that have been written as strings:\n\nx &lt;- c(\"1.2\", \"5.6\", \"1e3\")\nparse_double(x)\n\n[1]    1.2    5.6 1000.0\n\n\nUse parse_number() when the string contains non-numeric text that you want to ignore. This is particularly useful for currency data and percentages:\n\nx &lt;- c(\"$1,234\", \"USD 3,513\", \"59%\")\nparse_number(x)\n\n[1] 1234 3513   59"
  },
  {
    "objectID": "slides/lec-9.html#sec-counts-2",
    "href": "slides/lec-9.html#sec-counts-2",
    "title": "Data transformations",
    "section": "Counts",
    "text": "Counts\nIf you want to see the most common values, add sort = TRUE:\n\nflights |&gt; count(dest, sort = TRUE)\n\n# A tibble: 105 √ó 2\n   dest      n\n   &lt;chr&gt; &lt;int&gt;\n 1 ORD   17283\n 2 ATL   17215\n 3 LAX   16174\n 4 BOS   15508\n 5 MCO   14082\n 6 CLT   14064\n 7 SFO   13331\n 8 FLL   12055\n 9 MIA   11728\n10 DCA    9705\n# ‚Ñπ 95 more rows\n\n\nIf you want to see all the values:\n\n|&gt; View()\n|&gt; print(n = Inf)."
  },
  {
    "objectID": "slides/lec-9.html#sec-counts-3",
    "href": "slides/lec-9.html#sec-counts-3",
    "title": "Data transformations",
    "section": "Counts alternative",
    "text": "Counts alternative\nSame computation ‚Äúby hand‚Äù with group_by(), summarize() and n().\n\nflights |&gt; \n  group_by(dest) |&gt; \n  summarize(\n    n = n(),\n    delay = mean(arr_delay, na.rm = TRUE)\n  )\n\n# A tibble: 105 √ó 3\n   dest      n delay\n   &lt;chr&gt; &lt;int&gt; &lt;dbl&gt;\n 1 ABQ     254  4.38\n 2 ACK     265  4.85\n 3 ALB     439 14.4 \n 4 ANC       8 -2.5 \n 5 ATL   17215 11.3 \n 6 AUS    2439  6.02\n 7 AVL     275  8.00\n 8 BDL     443  7.05\n 9 BGR     375  8.03\n10 BHM     297 16.9 \n# ‚Ñπ 95 more rows"
  },
  {
    "objectID": "slides/lec-9.html#sec-counts-4",
    "href": "slides/lec-9.html#sec-counts-4",
    "title": "Data transformations",
    "section": "Count distinct",
    "text": "Count distinct\nThere are a couple of variants of n() and count() that you might find useful:\n\nn_distinct(x) counts the number of distinct (unique) values of one or more variables. For example, we could figure out which destinations are served by the most carriers:\n\nflights |&gt; \n  group_by(dest) |&gt; \n  summarize(carriers = n_distinct(carrier)) |&gt; \n  arrange(desc(carriers))\n\n# A tibble: 105 √ó 2\n   dest  carriers\n   &lt;chr&gt;    &lt;int&gt;\n 1 ATL          7\n 2 BOS          7\n 3 CLT          7\n 4 ORD          7\n 5 TPA          7\n 6 AUS          6\n 7 DCA          6\n 8 DTW          6\n 9 IAD          6\n10 MSP          6\n# ‚Ñπ 95 more rows"
  },
  {
    "objectID": "slides/lec-9.html#sec-counts-5",
    "href": "slides/lec-9.html#sec-counts-5",
    "title": "Data transformations",
    "section": "Weighted count",
    "text": "Weighted count\n\nA weighted count is a sum. For example you could ‚Äúcount‚Äù the number of miles each plane flew:\n\nflights |&gt; \n  group_by(tailnum) |&gt; \n  summarize(miles = sum(distance))\n\n# A tibble: 4,044 √ó 2\n   tailnum  miles\n   &lt;chr&gt;    &lt;dbl&gt;\n 1 D942DN    3418\n 2 N0EGMQ  250866\n 3 N10156  115966\n 4 N102UW   25722\n 5 N103US   24619\n 6 N104UW   25157\n 7 N10575  150194\n 8 N105UW   23618\n 9 N107US   21677\n10 N108UW   32070\n# ‚Ñπ 4,034 more rows"
  },
  {
    "objectID": "slides/lec-9.html#sec-counts-6",
    "href": "slides/lec-9.html#sec-counts-6",
    "title": "Data transformations",
    "section": "Weighted count",
    "text": "Weighted count\nWeighted counts are a common problem so count() has a wt argument that does the same thing:\n```{r}\n#| results: false\nflights |&gt; count(tailnum, wt = distance)\n```"
  },
  {
    "objectID": "slides/lec-9.html#sec-counts-7",
    "href": "slides/lec-9.html#sec-counts-7",
    "title": "Data transformations",
    "section": "Counts missing",
    "text": "Counts missing\n\nYou can count missing values by combining sum() and is.na(). In the flights dataset this represents flights that are cancelled:\n\nflights |&gt; \n  group_by(dest) |&gt; \n  summarize(n_cancelled = sum(is.na(dep_time))) \n\n# A tibble: 105 √ó 2\n   dest  n_cancelled\n   &lt;chr&gt;       &lt;int&gt;\n 1 ABQ             0\n 2 ACK             0\n 3 ALB            20\n 4 ANC             0\n 5 ATL           317\n 6 AUS            21\n 7 AVL            12\n 8 BDL            31\n 9 BGR            15\n10 BHM            25\n# ‚Ñπ 95 more rows"
  },
  {
    "objectID": "slides/lec-9.html#sec-minimum-and-maximum-1",
    "href": "slides/lec-9.html#sec-minimum-and-maximum-1",
    "title": "Data transformations",
    "section": "Minimum and maximum",
    "text": "Minimum and maximum\nThe arithmetic functions work with pairs of variables (or columns). Two closely related functions are pmin() and pmax(), which when given two or more variables will return the smallest or largest value in each row:\n\ndf &lt;- tribble(\n  ~x, ~y,\n  1,  3,\n  5,  2,\n  7, NA,\n)\n\ndf |&gt; \n  mutate(\n    min = pmin(x, y, na.rm = TRUE),\n    max = pmax(x, y, na.rm = TRUE)\n  )\n\n# A tibble: 3 √ó 4\n      x     y   min   max\n  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1     1     3     1     3\n2     5     2     2     5\n3     7    NA     7     7"
  },
  {
    "objectID": "slides/lec-9.html#sec-minimum-and-maximum-2",
    "href": "slides/lec-9.html#sec-minimum-and-maximum-2",
    "title": "Data transformations",
    "section": "Minimum and maximum",
    "text": "Minimum and maximum\nNote that these are different to the summary functions min() and max() which take multiple observations and return a single value. You can tell that you‚Äôve used the wrong form when all the minimums and all the maximums have the same value:\n\ndf |&gt; \n  mutate(\n    min = min(x, y, na.rm = TRUE),\n    max = max(x, y, na.rm = TRUE)\n  )\n\n# A tibble: 3 √ó 4\n      x     y   min   max\n  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1     1     3     1     7\n2     5     2     1     7\n3     7    NA     1     7"
  },
  {
    "objectID": "slides/lec-9.html#sec-modular-arithmetic-1",
    "href": "slides/lec-9.html#sec-modular-arithmetic-1",
    "title": "Data transformations",
    "section": "Modular arithmetic",
    "text": "Modular arithmetic\nModular arithmetic is the technical name for the type of math you did before you learned about decimal places, i.e.¬†division that yields a whole number and a remainder. In R, %/% does integer division and %% computes the remainder:\n\n1:10 %/% 3\n\n [1] 0 0 1 1 1 2 2 2 3 3\n\n1:10 %% 3\n\n [1] 1 2 0 1 2 0 1 2 0 1"
  },
  {
    "objectID": "slides/lec-9.html#sec-modular-arithmetic-2",
    "href": "slides/lec-9.html#sec-modular-arithmetic-2",
    "title": "Data transformations",
    "section": "Modular arithmetic",
    "text": "Modular arithmetic\nModular arithmetic is handy for the flights dataset, because we can use it to unpack the sched_dep_time variable into hour and minute:\n\nflights |&gt; \n  mutate(\n    hour = sched_dep_time %/% 100,\n    minute = sched_dep_time %% 100,\n    .keep = \"used\"\n  )\n\n# A tibble: 336,776 √ó 3\n   sched_dep_time  hour minute\n            &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;\n 1            515     5     15\n 2            529     5     29\n 3            540     5     40\n 4            545     5     45\n 5            600     6      0\n 6            558     5     58\n 7            600     6      0\n 8            600     6      0\n 9            600     6      0\n10            600     6      0\n# ‚Ñπ 336,766 more rows"
  },
  {
    "objectID": "slides/lec-9.html#sec-modular-arithmetic-3",
    "href": "slides/lec-9.html#sec-modular-arithmetic-3",
    "title": "Data transformations",
    "section": "Modular arithmetic",
    "text": "Modular arithmetic\nWe can combine that with the mean(is.na(x)) trick from ?@sec-logical-summaries to see how the proportion of cancelled flights varies over the course of the day. The results are shown in Figure¬†1.\n\nflights |&gt; \n  group_by(hour = sched_dep_time %/% 100) |&gt; \n  summarize(prop_cancelled = mean(is.na(dep_time)), n = n()) |&gt; \n  filter(hour &gt; 1) |&gt; \n  ggplot(aes(x = hour, y = prop_cancelled)) +\n  geom_line(color = \"grey50\") + \n  geom_point(aes(size = n))\n\n\n\nFigure¬†1: A line plot with scheduled departure hour on the x-axis, and proportion of cancelled flights on the y-axis. Cancellations seem to accumulate over the course of the day until 8pm, very late flights are much less likely to be cancelled."
  },
  {
    "objectID": "slides/lec-9.html#sec-three-logarithms",
    "href": "slides/lec-9.html#sec-three-logarithms",
    "title": "Data transformations",
    "section": "Three logarithms",
    "text": "Three logarithms\nIn R, you have a choice of three logarithms:\n\nlog() (the natural log, base e),\nlog2() (base 2),\nlog10() (base 10)."
  },
  {
    "objectID": "slides/lec-9.html#sec-logarithm-recommendation",
    "href": "slides/lec-9.html#sec-logarithm-recommendation",
    "title": "Data transformations",
    "section": "Logarithm recommendation",
    "text": "Logarithm recommendation\nWe recommend using log2() or log10():\n\nlog2() is easy to interpret because a difference of 1 on the log scale corresponds to doubling on the original scale and a difference of -1 corresponds to halving;\nlog10() is easy to back-transform because (e.g.) 3 is 10^3 = 1000.\n\nThe inverse of log() is exp(); to compute the inverse of log2() or log10() you‚Äôll need to use 2^ or 10^."
  },
  {
    "objectID": "slides/lec-9.html#sec-rounding",
    "href": "slides/lec-9.html#sec-rounding",
    "title": "Data transformations",
    "section": "Rounding",
    "text": "Rounding\nUse round(x) to round a number to the nearest integer:\n\nround(123.456)\n\n[1] 123"
  },
  {
    "objectID": "slides/lec-9.html#sec-rounding-digits",
    "href": "slides/lec-9.html#sec-rounding-digits",
    "title": "Data transformations",
    "section": "Rounding digits",
    "text": "Rounding digits\nYou can control the precision of the rounding with the second argument, digits. round(x, digits) rounds to the nearest 10^-n so digits = 2 will round to the nearest 0.01. This definition is useful because it implies round(x, -3) will round to the nearest thousand, which indeed it does:\n\nround(123.456, 2)  # two digits\n\n[1] 123.46\n\nround(123.456, 1)  # one digit\n\n[1] 123.5\n\nround(123.456, -1) # round to nearest ten\n\n[1] 120\n\nround(123.456, -2) # round to nearest hundred\n\n[1] 100"
  },
  {
    "objectID": "slides/lec-9.html#sec-rounding-digits---weirdness",
    "href": "slides/lec-9.html#sec-rounding-digits---weirdness",
    "title": "Data transformations",
    "section": "Rounding digits - weirdness",
    "text": "Rounding digits - weirdness\nThere‚Äôs one weirdness with round() that seems surprising at first glance:\n\nround(c(1.5, 2.5))\n\n[1] 2 2\n\n\nround() uses what‚Äôs known as ‚Äúround half to even‚Äù or Banker‚Äôs rounding: if a number is half way between two integers, it will be rounded to the even integer. This is a good strategy because it keeps the rounding unbiased: half of all 0.5s are rounded up, and half are rounded down."
  },
  {
    "objectID": "slides/lec-9.html#sec-rounding-digits---floorceiling",
    "href": "slides/lec-9.html#sec-rounding-digits---floorceiling",
    "title": "Data transformations",
    "section": "Rounding digits - floor/ceiling",
    "text": "Rounding digits - floor/ceiling\nround() is paired with floor() which always rounds down and ceiling() which always rounds up:\n\nx &lt;- 123.456\n\nfloor(x)\n\n[1] 123\n\nceiling(x)\n\n[1] 124"
  },
  {
    "objectID": "slides/lec-9.html#sec-cutting-numbers-into-ranges-1",
    "href": "slides/lec-9.html#sec-cutting-numbers-into-ranges-1",
    "title": "Data transformations",
    "section": "Cutting numbers into ranges",
    "text": "Cutting numbers into ranges\nUse cut()1 to break up (aka bin) a numeric vector into discrete buckets:\n\nx &lt;- c(1, 2, 5, 10, 15, 20)\nx\n\n[1]  1  2  5 10 15 20\n\ncut(x, breaks = c(0, 5, 10, 15, 20))\n\n[1] (0,5]   (0,5]   (0,5]   (5,10]  (10,15] (15,20]\nLevels: (0,5] (5,10] (10,15] (15,20]\n\n\nggplot2 provides some helpers for common cases in cut_interval(), cut_number(), and cut_width(). ggplot2 is an admittedly weird place for these functions to live, but they are useful as part of histogram computation and were written before any other parts of the tidyverse existed."
  },
  {
    "objectID": "slides/lec-9.html#sec-cutting-numbers-into-ranges-2",
    "href": "slides/lec-9.html#sec-cutting-numbers-into-ranges-2",
    "title": "Data transformations",
    "section": "Cutting numbers into ranges",
    "text": "Cutting numbers into ranges\nThe breaks don‚Äôt need to be evenly spaced:\n\ncut(x, breaks = c(0, 5, 10, 100))\n\n[1] (0,5]    (0,5]    (0,5]    (5,10]   (10,100] (10,100]\nLevels: (0,5] (5,10] (10,100]"
  },
  {
    "objectID": "slides/lec-9.html#sec-cutting-numbers-into-ranges-3",
    "href": "slides/lec-9.html#sec-cutting-numbers-into-ranges-3",
    "title": "Data transformations",
    "section": "Cutting numbers into ranges",
    "text": "Cutting numbers into ranges\nYou can optionally supply your own labels. Note that there should be one less labels than breaks.\n\ncut(x, \n  breaks = c(0, 5, 10, 15, 20), \n  labels = c(\"sm\", \"md\", \"lg\", \"xl\")\n)\n\n[1] sm sm sm md lg xl\nLevels: sm md lg xl"
  },
  {
    "objectID": "slides/lec-9.html#sec-cutting-numbers-into-ranges-4",
    "href": "slides/lec-9.html#sec-cutting-numbers-into-ranges-4",
    "title": "Data transformations",
    "section": "Cutting numbers into ranges",
    "text": "Cutting numbers into ranges\nAny values outside of the range of the breaks will become NA:\n\ny &lt;- c(NA, -10, 5, 10, 30)\ncut(y, breaks = c(0, 5, 10, 15, 20))\n\n[1] &lt;NA&gt;   &lt;NA&gt;   (0,5]  (5,10] &lt;NA&gt;  \nLevels: (0,5] (5,10] (10,15] (15,20]\n\n\nSee the documentation for other useful arguments like right and include.lowest, which control if the intervals are [a, b) or (a, b] and if the lowest interval should be [a, b]."
  },
  {
    "objectID": "slides/lec-9.html#sec-cumulative-and-rolling-aggregates",
    "href": "slides/lec-9.html#sec-cumulative-and-rolling-aggregates",
    "title": "Data transformations",
    "section": "Cumulative and rolling aggregates",
    "text": "Cumulative and rolling aggregates\nBase R provides cumsum(), cumprod(), cummin(), cummax() for running, or cumulative, sums, products, mins and maxes. dplyr provides cummean() for cumulative means. Cumulative sums tend to come up the most in practice:\n\nx &lt;- 1:10\nx\n\n [1]  1  2  3  4  5  6  7  8  9 10\n\ncumprod(x)\n\n [1]       1       2       6      24     120     720    5040   40320  362880\n[10] 3628800\n\n\nIf you need more complex rolling or sliding aggregates, try the slider package."
  },
  {
    "objectID": "slides/lec-9.html#sec-ranks-1",
    "href": "slides/lec-9.html#sec-ranks-1",
    "title": "Data transformations",
    "section": "Ranks",
    "text": "Ranks\ndplyr provides a number of ranking functions inspired by SQL, but you should always start with dplyr::min_rank(). It uses the typical method for dealing with ties, e.g., 1st, 2nd, 2nd, 4th.\n\nx &lt;- c(1, 3, 2, 2, 4, 20, 15, NA)\nmin_rank(x)\n\n[1]  1  4  2  2  5  7  6 NA"
  },
  {
    "objectID": "slides/lec-9.html#sec-ranks-2",
    "href": "slides/lec-9.html#sec-ranks-2",
    "title": "Data transformations",
    "section": "Ranks",
    "text": "Ranks\nNote that the smallest values get the lowest ranks; use desc(x) to give the largest values the smallest ranks:\n\nmin_rank(desc(x))\n\n[1]  7  4  5  5  3  1  2 NA"
  },
  {
    "objectID": "slides/lec-9.html#sec-ranks-alternatives",
    "href": "slides/lec-9.html#sec-ranks-alternatives",
    "title": "Data transformations",
    "section": "Ranks alternatives",
    "text": "Ranks alternatives\nIf min_rank() doesn‚Äôt do what you need, look at the variants dplyr::row_number(), dplyr::dense_rank(), dplyr::percent_rank(), and dplyr::cume_dist(). See the documentation for details.\n\ndf &lt;- tibble(x = x)\ndf |&gt; \n  mutate(\n    row_number = row_number(x),\n    dense_rank = dense_rank(x),\n    percent_rank = percent_rank(x),\n    cume_dist = cume_dist(x)\n  )\n\n# A tibble: 8 √ó 5\n      x row_number dense_rank percent_rank cume_dist\n  &lt;dbl&gt;      &lt;int&gt;      &lt;int&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n1     1          1          1        0         0.143\n2     3          4          3        0.5       0.571\n3     2          2          2        0.167     0.429\n4     2          3          2        0.167     0.429\n5     4          5          4        0.667     0.714\n6    20          7          6        1         1    \n7    15          6          5        0.833     0.857\n8    NA         NA         NA       NA        NA"
  },
  {
    "objectID": "slides/lec-9.html#sec-offsets",
    "href": "slides/lec-9.html#sec-offsets",
    "title": "Data transformations",
    "section": "Offsets",
    "text": "Offsets\ndplyr::lead() and dplyr::lag() allow you to refer to the values just before or just after the ‚Äúcurrent‚Äù value. They return a vector of the same length as the input, padded with NAs at the start or end:\n\nx &lt;- c(2, 5, 11, 11, 19, 35)\nlag(x)\n\n[1] NA  2  5 11 11 19\n\nlead(x)\n\n[1]  5 11 11 19 35 NA"
  },
  {
    "objectID": "slides/lec-9.html#sec-offsets---lag",
    "href": "slides/lec-9.html#sec-offsets---lag",
    "title": "Data transformations",
    "section": "Offsets - lag",
    "text": "Offsets - lag\n\nx - lag(x) gives you the difference between the current and previous value.\n\nx - lag(x)\n\n[1] NA  3  6  0  8 16\n\n\nx == lag(x) tells you when the current value changes.\n\nx == lag(x)\n\n[1]    NA FALSE FALSE  TRUE FALSE FALSE\n\n\n\nYou can lead or lag by more than one position by using the second argument, n."
  },
  {
    "objectID": "slides/lec-9.html#sec-consecutive-identifiers-1",
    "href": "slides/lec-9.html#sec-consecutive-identifiers-1",
    "title": "Data transformations",
    "section": "Consecutive identifiers",
    "text": "Consecutive identifiers\nSometimes you want to start a new group every time some event occurs. For example, when you‚Äôre looking at website data, it‚Äôs common to want to break up events into sessions, where you begin a new session after a gap of more than x minutes since the last activity. For example, imagine you have the times when someone visited a website:\n\nevents &lt;- tibble(\n  time = c(0, 1, 2, 3, 5, 10, 12, 15, 17, 19, 20, 27, 28, 30)\n)"
  },
  {
    "objectID": "slides/lec-9.html#sec-consecutive-identifiers-2",
    "href": "slides/lec-9.html#sec-consecutive-identifiers-2",
    "title": "Data transformations",
    "section": "Consecutive identifiers",
    "text": "Consecutive identifiers\nAnd you‚Äôve computed the time between each event, and figured out if there‚Äôs a gap that‚Äôs big enough to qualify:\n\nevents &lt;- events |&gt; \n  mutate(\n    diff = time - lag(time, default = first(time)),\n    has_gap = diff &gt;= 5\n  )\nevents\n\n# A tibble: 14 √ó 3\n    time  diff has_gap\n   &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;  \n 1     0     0 FALSE  \n 2     1     1 FALSE  \n 3     2     1 FALSE  \n 4     3     1 FALSE  \n 5     5     2 FALSE  \n 6    10     5 TRUE   \n 7    12     2 FALSE  \n 8    15     3 FALSE  \n 9    17     2 FALSE  \n10    19     2 FALSE  \n11    20     1 FALSE  \n12    27     7 TRUE   \n13    28     1 FALSE  \n14    30     2 FALSE"
  },
  {
    "objectID": "slides/lec-9.html#sec-consecutive-identifiers-3",
    "href": "slides/lec-9.html#sec-consecutive-identifiers-3",
    "title": "Data transformations",
    "section": "Consecutive identifiers",
    "text": "Consecutive identifiers\nBut how do we go from that logical vector to something that we can group_by()? cumsum(), from Section¬†5.11, comes to the rescue as gap, i.e.¬†has_gap is TRUE, will increment group by one (?@sec-numeric-summaries-of-logicals):\n\nevents |&gt; mutate(\n  group = cumsum(has_gap)\n)\n\n# A tibble: 14 √ó 4\n    time  diff has_gap group\n   &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;   &lt;int&gt;\n 1     0     0 FALSE       0\n 2     1     1 FALSE       0\n 3     2     1 FALSE       0\n 4     3     1 FALSE       0\n 5     5     2 FALSE       0\n 6    10     5 TRUE        1\n 7    12     2 FALSE       1\n 8    15     3 FALSE       1\n 9    17     2 FALSE       1\n10    19     2 FALSE       1\n11    20     1 FALSE       1\n12    27     7 TRUE        2\n13    28     1 FALSE       2\n14    30     2 FALSE       2"
  },
  {
    "objectID": "slides/lec-9.html#sec-consecutive-identifiers-4",
    "href": "slides/lec-9.html#sec-consecutive-identifiers-4",
    "title": "Data transformations",
    "section": "Consecutive identifiers",
    "text": "Consecutive identifiers\nAnother approach for creating grouping variables is consecutive_id(), which starts a new group every time one of its arguments changes. For example, inspired by this stackoverflow question, imagine you have a data frame with a bunch of repeated values:\n\ndf &lt;- tibble(\n  x = c(\"a\", \"a\", \"a\", \"b\", \"c\", \"c\", \"d\", \"e\", \"a\", \"a\", \"b\", \"b\"),\n  y = c(1, 2, 3, 2, 4, 1, 3, 9, 4, 8, 10, 199)\n)"
  },
  {
    "objectID": "slides/lec-9.html#sec-consecutive-identifiers-5",
    "href": "slides/lec-9.html#sec-consecutive-identifiers-5",
    "title": "Data transformations",
    "section": "Consecutive identifiers",
    "text": "Consecutive identifiers\nIf you want to keep the first row from each repeated x, you could use group_by(), consecutive_id(), and slice_head():\n\ndf |&gt; \n  group_by(id = consecutive_id(x)) |&gt; \n  slice_head(n = 1)\n\n# A tibble: 7 √ó 3\n# Groups:   id [7]\n  x         y    id\n  &lt;chr&gt; &lt;dbl&gt; &lt;int&gt;\n1 a         1     1\n2 b         2     2\n3 c         4     3\n4 d         3     4\n5 e         9     5\n6 a         4     6\n7 b        10     7"
  },
  {
    "objectID": "slides/lec-9.html#sec-center",
    "href": "slides/lec-9.html#sec-center",
    "title": "Data transformations",
    "section": "Center",
    "text": "Center\n\nFunction mean()\nFunction median()"
  },
  {
    "objectID": "slides/lec-9.html#sec-minimum-maximum-and-quantiles-1",
    "href": "slides/lec-9.html#sec-minimum-maximum-and-quantiles-1",
    "title": "Data transformations",
    "section": "Minimum, maximum, and quantiles",
    "text": "Minimum, maximum, and quantiles\n\nmin() and max() will give you the largest and smallest values.\nAnother powerful tool is quantile() which is a generalization of the median:\n\nquantile(x, 0.25) will find the value of x that is greater than 25% of the values,\nquantile(x, 0.5) is equivalent to the median,\nquantile(x, 0.95) will find the value that‚Äôs greater than 95% of the values."
  },
  {
    "objectID": "slides/lec-9.html#sec-minimum-maximum-and-quantiles-2",
    "href": "slides/lec-9.html#sec-minimum-maximum-and-quantiles-2",
    "title": "Data transformations",
    "section": "Minimum, maximum, and quantiles",
    "text": "Minimum, maximum, and quantiles\nFor the flights data, you might want to look at the 95% quantile of delays rather than the maximum, because it will ignore the 5% of most delayed flights which can be quite extreme.\n\nflights |&gt;\n  group_by(year, month, day) |&gt;\n  summarize(\n    max = max(dep_delay, na.rm = TRUE),\n    q95 = quantile(dep_delay, 0.95, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\n# A tibble: 365 √ó 5\n    year month   day   max   q95\n   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1  2013     1     1   853  70.1\n 2  2013     1     2   379  85  \n 3  2013     1     3   291  68  \n 4  2013     1     4   288  60  \n 5  2013     1     5   327  41  \n 6  2013     1     6   202  51  \n 7  2013     1     7   366  51.6\n 8  2013     1     8   188  35.3\n 9  2013     1     9  1301  27.2\n10  2013     1    10  1126  31  \n# ‚Ñπ 355 more rows"
  },
  {
    "objectID": "slides/lec-9.html#sec-variation",
    "href": "slides/lec-9.html#sec-variation",
    "title": "Data transformations",
    "section": "Variation",
    "text": "Variation\nTwo commonly used summaries are\n\nthe standard deviation sd(x),\nthe inter-quartile range, IQR()."
  },
  {
    "objectID": "slides/lec-9.html#sec-positions",
    "href": "slides/lec-9.html#sec-positions",
    "title": "Data transformations",
    "section": "Positions",
    "text": "Positions\nThere‚Äôs one final type of summary that‚Äôs useful for numeric vectors, but also works with every other type of value: extracting a value at a specific position:\n\nfirst(x),\nlast(x), and\nnth(x, n)."
  },
  {
    "objectID": "slides/lec-9.html#sec-positions-2",
    "href": "slides/lec-9.html#sec-positions-2",
    "title": "Data transformations",
    "section": "Positions",
    "text": "Positions\nFor example, we can find the first, fifth and last departure for each day:\n\nflights |&gt; \n  group_by(year, month, day) |&gt; \n  summarize(\n    first_dep = first(dep_time, na_rm = TRUE), \n    fifth_dep = nth(dep_time, 5, na_rm = TRUE),\n    last_dep = last(dep_time, na_rm = TRUE)\n  )\n\n`summarise()` has grouped output by 'year', 'month'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 365 √ó 6\n# Groups:   year, month [12]\n    year month   day first_dep fifth_dep last_dep\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;int&gt;     &lt;int&gt;    &lt;int&gt;\n 1  2013     1     1       517       554     2356\n 2  2013     1     2        42       535     2354\n 3  2013     1     3        32       520     2349\n 4  2013     1     4        25       531     2358\n 5  2013     1     5        14       534     2357\n 6  2013     1     6        16       555     2355\n 7  2013     1     7        49       536     2359\n 8  2013     1     8       454       544     2351\n 9  2013     1     9         2       524     2252\n10  2013     1    10         3       530     2320\n# ‚Ñπ 355 more rows\n\n\nNB: Because dplyr functions use _ to separate components of function and arguments names, these functions use na_rm instead of na.rm."
  },
  {
    "objectID": "slides/lec-9.html#sec-with-mutate",
    "href": "slides/lec-9.html#sec-with-mutate",
    "title": "Data transformations",
    "section": "With mutate()",
    "text": "With mutate()\nAs the names suggest, the summary functions are typically paired with summarize(). However, because of the recycling rules we discussed in ?@sec-recycling they can also be usefully paired with mutate(), particularly when you want do some sort of group standardization. For example:\n\nx / sum(x) calculates the proportion of a total.\n(x - mean(x)) / sd(x) computes a Z-score (standardized to mean 0 and sd 1).\n(x - min(x)) / (max(x) - min(x)) standardizes to range [0, 1].\nx / first(x) computes an index based on the first observation."
  },
  {
    "objectID": "slides/lec-11.html#sec-prerequisites",
    "href": "slides/lec-11.html#sec-prerequisites",
    "title": "Data transformations",
    "section": "Prerequisites",
    "text": "Prerequisites\n\nThis chapter will focus on the lubridate package, which makes it easier to work with dates and times in R.\nAs of the latest tidyverse release, lubridate is part of core tidyverse.\n\n\nlibrary(tidyverse)"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-basics-1",
    "href": "slides/lec-11.html#sec-dt-basics-1",
    "title": "Data transformations",
    "section": "Date and time basics",
    "text": "Date and time basics\nThere are three types of date/time data that refer to an instant in time:\n\nA date. Tibbles print this as &lt;date&gt;.\nA time within a day. Tibbles print this as &lt;time&gt;.\nA date-time is a date plus a time: it uniquely identifies an instant in time (typically to the nearest second). Tibbles print this as &lt;dttm&gt;."
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-basics-2",
    "href": "slides/lec-11.html#sec-dt-basics-2",
    "title": "Data transformations",
    "section": "Date and time basics",
    "text": "Date and time basics\nYou should always use the simplest possible data type that works for your needs.\nThat means if you can use a date instead of a date-time, you should.\nDate-times are substantially more complicated because of the need to handle time zones, which we‚Äôll come back to at the end of the chapter."
  },
  {
    "objectID": "slides/lec-11.html#sec-current",
    "href": "slides/lec-11.html#sec-current",
    "title": "Data transformations",
    "section": "Current",
    "text": "Current\nTo get the current date or date-time you can use today() or now():\n\ntoday()\n\n[1] \"2026-02-26\"\n\nnow()\n\n[1] \"2026-02-26 03:32:10 UTC\""
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-import-1",
    "href": "slides/lec-11.html#sec-dt-import-1",
    "title": "Data transformations",
    "section": "Date-time importing",
    "text": "Date-time importing\nIf your CSV contains an ISO8601 date or date-time, you don‚Äôt need to do anything; readr will automatically recognize it:\n\ncsv &lt;- \"\n  date,datetime\n  2022-01-02,2022-01-02 05:12\n\"\nread_csv(csv)\n\nRows: 1 Columns: 2\n‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nDelimiter: \",\"\ndttm (1): datetime\ndate (1): date\n\n‚Ñπ Use `spec()` to retrieve the full column specification for this data.\n‚Ñπ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n# A tibble: 1 √ó 2\n  date       datetime           \n  &lt;date&gt;     &lt;dttm&gt;             \n1 2022-01-02 2022-01-02 05:12:00"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-import-2",
    "href": "slides/lec-11.html#sec-dt-import-2",
    "title": "Data transformations",
    "section": "ISO8601",
    "text": "ISO8601\nIf you haven‚Äôt heard of ISO8601 before, it‚Äôs an international standard1 for writing dates where the components of a date are organized from biggest to smallest separated by -.\nFor example, in ISO8601 May 3 2022 is 2022-05-03. ISO8601 dates can also include times, where hour, minute, and second are separated by :, and the date and time components are separated by either a T or a space.\nFor example, you could write 4:26pm on May 3 2022 as either 2022-05-03 16:26 or 2022-05-03T16:26.\nhttps://xkcd.com/1179/"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-import-3",
    "href": "slides/lec-11.html#sec-dt-import-3",
    "title": "Data transformations",
    "section": "Other formats",
    "text": "Other formats\nFor other date-time formats, you‚Äôll need to use col_types plus col_date() or col_datetime() along with a date-time format. The date-time format used by readr is a standard used across many programming languages, describing a date component with a % followed by a single character. For example, %Y-%m-%d specifies a date that‚Äôs a year, -, month (as number) -, day."
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-import-4a",
    "href": "slides/lec-11.html#sec-dt-import-4a",
    "title": "Data transformations",
    "section": "Other formats",
    "text": "Other formats\n\n\n\nType\nCode\nMeaning\nExample\n\n\n\n\nYear\n%Y\n4 digit year\n2021\n\n\n\n%y\n2 digit year\n21\n\n\nMonth\n%m\nNumber\n2\n\n\n\n%b\nAbbreviated name\nFeb\n\n\n\n%B\nFull name\nFebruary\n\n\nDay\n%d\nOne or two digits\n2\n\n\n\n%e\nTwo digits\n02"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-import-4b",
    "href": "slides/lec-11.html#sec-dt-import-4b",
    "title": "Data transformations",
    "section": "Other formats",
    "text": "Other formats\n\n\n\nType\nCode\nMeaning\nExample\n\n\n\n\nTime\n%H\n24-hour hour\n13\n\n\n\n%I\n12-hour hour\n1\n\n\n\n%p\nAM/PM\npm\n\n\n\n%M\nMinutes\n35\n\n\n\n%S\nSeconds\n45\n\n\n\n%OS\nSeconds with decimal component\n45.35\n\n\n\n%Z\nTime zone name\nAmerica/Chicago\n\n\n\n%z\nOffset from UTC\n+0800\n\n\nOther\n%.\nSkip one non-digit\n:\n\n\n\n%*\nSkip any number of non-digits"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-import-5",
    "href": "slides/lec-11.html#sec-dt-import-5",
    "title": "Data transformations",
    "section": "Datetime exmaple",
    "text": "Datetime exmaple\n\ncsv &lt;- \"\n  date\n  01/02/15\n\"\n\nread_csv(csv, col_types = cols(date = col_date(\"%m/%d/%y\")))\n\n# A tibble: 1 √ó 1\n  date      \n  &lt;date&gt;    \n1 2015-01-02\n\nread_csv(csv, col_types = cols(date = col_date(\"%d/%m/%y\")))\n\n# A tibble: 1 √ó 1\n  date      \n  &lt;date&gt;    \n1 2015-02-01\n\nread_csv(csv, col_types = cols(date = col_date(\"%y/%m/%d\")))\n\n# A tibble: 1 √ó 1\n  date      \n  &lt;date&gt;    \n1 2001-02-15"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-components-get-1",
    "href": "slides/lec-11.html#sec-dt-components-get-1",
    "title": "Data transformations",
    "section": "Getting components",
    "text": "Getting components\nYou can pull out individual parts of the date with the accessor functions year(), month(), mday() (day of the month), yday() (day of the year), wday() (day of the week), hour(), minute(), and second(). These are effectively the opposites of make_datetime()."
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-components-get-2",
    "href": "slides/lec-11.html#sec-dt-components-get-2",
    "title": "Data transformations",
    "section": "Getting components",
    "text": "Getting components\n\ndatetime &lt;- ymd_hms(\"2026-07-08 12:34:56\")\n\nyear(datetime)\n\n[1] 2026\n\nmonth(datetime)\n\n[1] 7\n\nmday(datetime)\n\n[1] 8\n\nyday(datetime)\n\n[1] 189\n\nwday(datetime)\n\n[1] 4"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-components-abbr",
    "href": "slides/lec-11.html#sec-dt-components-abbr",
    "title": "Data transformations",
    "section": "Getting components",
    "text": "Getting components\nFor month() and wday() you can set label = TRUE to return the abbreviated name of the month or day of the week. Set abbr = FALSE to return the full name.\n\nmonth(datetime, label = TRUE)\n\n[1] Jul\n12 Levels: Jan &lt; Feb &lt; Mar &lt; Apr &lt; May &lt; Jun &lt; Jul &lt; Aug &lt; Sep &lt; ... &lt; Dec\n\nwday(datetime, label = TRUE, abbr = FALSE)\n\n[1] Wednesday\n7 Levels: Sunday &lt; Monday &lt; Tuesday &lt; Wednesday &lt; Thursday &lt; ... &lt; Saturday"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-rounding",
    "href": "slides/lec-11.html#sec-dt-rounding",
    "title": "Data transformations",
    "section": "Datetime rounding",
    "text": "Datetime rounding\nAn alternative approach to plotting individual components is to round the date to a nearby unit of time, with floor_date(), round_date(), and ceiling_date(). Each function takes a vector of dates to adjust and then the name of the unit to round down (floor), round up (ceiling), or round to.\n\nweek = floor_date(dep_time, \"week\")"
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-modifying-1",
    "href": "slides/lec-11.html#sec-dt-modifying-1",
    "title": "Data transformations",
    "section": "Datetime modifying",
    "text": "Datetime modifying\nYou can also use each accessor function to modify the components of a date/time. This doesn‚Äôt come up much in data analysis, but can be useful when cleaning data that has clearly incorrect dates.\n\n(datetime &lt;- ymd_hms(\"2026-07-08 12:34:56\"))\n\n[1] \"2026-07-08 12:34:56 UTC\"\n\nyear(datetime) &lt;- 2030\ndatetime\n\n[1] \"2030-07-08 12:34:56 UTC\"\n\nmonth(datetime) &lt;- 01\ndatetime\n\n[1] \"2030-01-08 12:34:56 UTC\"\n\nhour(datetime) &lt;- hour(datetime) + 1\ndatetime\n\n[1] \"2030-01-08 13:34:56 UTC\""
  },
  {
    "objectID": "slides/lec-11.html#sec-dt-modifying-2",
    "href": "slides/lec-11.html#sec-dt-modifying-2",
    "title": "Data transformations",
    "section": "Datetime updating",
    "text": "Datetime updating\nYou can also use each accessor function to modify the components of a date/time. This doesn‚Äôt come up much in data analysis, but can be useful when cleaning data that has clearly incorrect dates.\n\nupdate(datetime, year = 2030, month = 2, mday = 2, hour = 2)\n\n[1] \"2030-02-02 02:34:56 UTC\""
  },
  {
    "objectID": "slides/lec-11.html#sec-timespan-basics-1",
    "href": "slides/lec-11.html#sec-timespan-basics-1",
    "title": "Data transformations",
    "section": "Time span",
    "text": "Time span\nNext you‚Äôll learn about how arithmetic with dates works, including subtraction, addition, and division. Along the way, you‚Äôll learn about three important classes that represent time spans:\n\nDurations, which represent an exact number of seconds.\nPeriods, which represent human units like weeks and months.\nIntervals, which represent a starting and ending point."
  },
  {
    "objectID": "slides/lec-11.html#sec-timespan-basics-2",
    "href": "slides/lec-11.html#sec-timespan-basics-2",
    "title": "Data transformations",
    "section": "Time span",
    "text": "Time span\nHow do you pick between duration, periods, and intervals?\nAs always, pick the simplest data structure that solves your problem.\n\nIf you only care about physical time, use a duration;\nIf you need to add human times, use a period;\nIf you need to figure out how long a span is in human units, use an interval."
  },
  {
    "objectID": "slides/lec-11.html#sec-duration-1",
    "href": "slides/lec-11.html#sec-duration-1",
    "title": "Data transformations",
    "section": "Durations",
    "text": "Durations\nIn R, when you subtract two dates, you get a difftime object:\n\n# How old is Miel?\nh_age &lt;- today() - ymd(\"1982-04-27\")\nh_age\n\nTime difference of 16011 days"
  },
  {
    "objectID": "slides/lec-11.html#sec-duration-2",
    "href": "slides/lec-11.html#sec-duration-2",
    "title": "Data transformations",
    "section": "Durations",
    "text": "Durations\nA difftime class object records a time span of seconds, minutes, hours, days, or weeks.\nThis ambiguity can make difftimes a little painful to work with, so lubridate provides an alternative which always uses seconds: the duration.\n\nas.duration(h_age)\n\n[1] \"1383350400s (~43.84 years)\""
  },
  {
    "objectID": "slides/lec-11.html#sec-duration-3",
    "href": "slides/lec-11.html#sec-duration-3",
    "title": "Data transformations",
    "section": "Durations",
    "text": "Durations\nDurations come with a bunch of convenient constructors:\n\ndseconds(15)\n\n[1] \"15s\"\n\ndminutes(10)\n\n[1] \"600s (~10 minutes)\"\n\ndhours(c(12, 24))\n\n[1] \"43200s (~12 hours)\" \"86400s (~1 days)\"  \n\nddays(0:5)\n\n[1] \"0s\"                \"86400s (~1 days)\"  \"172800s (~2 days)\"\n[4] \"259200s (~3 days)\" \"345600s (~4 days)\" \"432000s (~5 days)\"\n\ndweeks(3)\n\n[1] \"1814400s (~3 weeks)\"\n\ndyears(1)\n\n[1] \"31557600s (~1 years)\""
  },
  {
    "objectID": "slides/lec-11.html#sec-duration-4",
    "href": "slides/lec-11.html#sec-duration-4",
    "title": "Data transformations",
    "section": "Durations",
    "text": "Durations\n\nDurations always record the time span in seconds.\nLarger units are created by converting minutes, hours, days, weeks, and years to seconds: 60 seconds in a minute, 60 minutes in an hour, 24 hours in a day, and 7 days in a week.\nLarger time units are more problematic.\nA year uses the ‚Äúaverage‚Äù number of days in a year, i.e.¬†365.25.\nThere‚Äôs no way to convert a month to a duration, because there‚Äôs just too much variation."
  },
  {
    "objectID": "slides/lec-11.html#sec-duration-5",
    "href": "slides/lec-11.html#sec-duration-5",
    "title": "Data transformations",
    "section": "Add and multiply durations",
    "text": "Add and multiply durations\nYou can add and multiply durations:\n\n2 * dyears(1)\n\n[1] \"63115200s (~2 years)\"\n\ndyears(1) + dweeks(12) + dhours(15)\n\n[1] \"38869200s (~1.23 years)\""
  },
  {
    "objectID": "slides/lec-11.html#sec-duration-6",
    "href": "slides/lec-11.html#sec-duration-6",
    "title": "Data transformations",
    "section": "Add and substract durations",
    "text": "Add and substract durations\nYou can add and subtract durations to and from days:\n\ntomorrow &lt;- today() + ddays(1)\ntomorrow\n\n[1] \"2026-02-27\"\n\nlast_year &lt;- today() - dyears(1)\nlast_year\n\n[1] \"2025-02-25 18:00:00 UTC\""
  },
  {
    "objectID": "slides/lec-11.html#sec-duration-7",
    "href": "slides/lec-11.html#sec-duration-7",
    "title": "Data transformations",
    "section": "Whatch for unexpected results",
    "text": "Whatch for unexpected results\nHowever, because durations represent an exact number of seconds, sometimes you might get an unexpected result:\n\none_am &lt;- ymd_hms(\"2026-03-08 01:00:00\", tz = \"America/New_York\")\n\none_am\n\n[1] \"2026-03-08 01:00:00 EST\"\n\none_am + ddays(1)\n\n[1] \"2026-03-09 02:00:00 EDT\"\n\n\nWhy is one day after 1am March 8, 2am March 9? If you look carefully at the date you might also notice that the time zones have changed. March 8 only has 23 hours because it‚Äôs when DST starts, so if we add a full days worth of seconds we end up with a different time."
  },
  {
    "objectID": "slides/lec-11.html#sec-periods-1",
    "href": "slides/lec-11.html#sec-periods-1",
    "title": "Data transformations",
    "section": "Periods",
    "text": "Periods\nLubridate provides periods solve this problem.\nPeriods are time spans but don‚Äôt have a fixed length in seconds, instead they work with ‚Äúhuman‚Äù times, like days and months.\nThat allows them to work in a more intuitive way:\n\none_am\n\n[1] \"2026-03-08 01:00:00 EST\"\n\none_am + days(1)\n\n[1] \"2026-03-09 01:00:00 EDT\""
  },
  {
    "objectID": "slides/lec-11.html#sec-periods-2",
    "href": "slides/lec-11.html#sec-periods-2",
    "title": "Data transformations",
    "section": "Periods",
    "text": "Periods\nLike durations, periods can be created with a number of friendly constructor functions.\n\nhours(c(12, 24))\n\n[1] \"12H 0M 0S\" \"24H 0M 0S\"\n\ndays(7)\n\n[1] \"7d 0H 0M 0S\"\n\nmonths(1:6)\n\n[1] \"1m 0d 0H 0M 0S\" \"2m 0d 0H 0M 0S\" \"3m 0d 0H 0M 0S\" \"4m 0d 0H 0M 0S\"\n[5] \"5m 0d 0H 0M 0S\" \"6m 0d 0H 0M 0S\""
  },
  {
    "objectID": "slides/lec-11.html#periods",
    "href": "slides/lec-11.html#periods",
    "title": "Data transformations",
    "section": "Periods",
    "text": "Periods\nYou can add and multiply periods:\n\n10 * (months(6) + days(1))\n\n[1] \"60m 10d 0H 0M 0S\"\n\ndays(50) + hours(25) + minutes(2)\n\n[1] \"50d 25H 2M 0S\""
  },
  {
    "objectID": "slides/lec-11.html#sec-periods-3",
    "href": "slides/lec-11.html#sec-periods-3",
    "title": "Data transformations",
    "section": "Periods",
    "text": "Periods\nAnd of course, add them to dates. Compared to durations, periods are more likely to do what you expect:\n\n# A leap year\nymd(\"2024-01-01\") + dyears(1)\n\n[1] \"2024-12-31 06:00:00 UTC\"\n\nymd(\"2024-01-01\") + years(1)\n\n[1] \"2025-01-01\"\n\n# Daylight saving time\none_am + ddays(1)\n\n[1] \"2026-03-09 02:00:00 EDT\"\n\none_am + days(1)\n\n[1] \"2026-03-09 01:00:00 EDT\""
  },
  {
    "objectID": "slides/lec-11.html#sec-tz-1",
    "href": "slides/lec-11.html#sec-tz-1",
    "title": "Data transformations",
    "section": "Time zones",
    "text": "Time zones\nTime zones are an enormously complicated topic because of their interaction with geopolitical entities. Fortunately we don‚Äôt need to dig into all the details as they‚Äôre not all important for data analysis, but there are a few challenges we‚Äôll need to tackle head on."
  },
  {
    "objectID": "slides/lec-8.html#sec-goals-1",
    "href": "slides/lec-8.html#sec-goals-1",
    "title": "Data transformations",
    "section": "Goals",
    "text": "Goals\nIt‚Äôs rare that all data is available in a dataframe to work with it. Typically you will have to manipulate data to get the data you want to analyse.\n\nLearn about the most important types of variables that you‚Äôll encounter inside a data frame\nLearn the tools you can use to work with them.\nFor more information see the Transform chapter in the R4DS book https://r4ds.hadley.nz/transform.html"
  },
  {
    "objectID": "slides/lec-8.html#sec-goals-2",
    "href": "slides/lec-8.html#sec-goals-2",
    "title": "Data transformations",
    "section": "Goals",
    "text": "Goals"
  },
  {
    "objectID": "slides/lec-8.html#sec-setup",
    "href": "slides/lec-8.html#sec-setup",
    "title": "Data transformations",
    "section": "Setup",
    "text": "Setup\n\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.4     ‚úî readr     2.1.5\n‚úî forcats   1.0.0     ‚úî stringr   1.5.1\n‚úî ggplot2   3.5.1     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.4     ‚úî tidyr     1.3.1\n‚úî purrr     1.0.4     \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors"
  },
  {
    "objectID": "slides/lec-8.html#intro-part-1",
    "href": "slides/lec-8.html#intro-part-1",
    "title": "Data transformations",
    "section": "Introduction",
    "text": "Introduction\n\nIn this chapter, you‚Äôll learn tools for working with logical vectors.\nLogical vectors are the simplest type of vector because each element can only be one of three possible values: TRUE, FALSE, and NA.\nIt‚Äôs relatively rare to find logical vectors in your raw data, but you‚Äôll create and manipulate them in the course of almost every analysis."
  },
  {
    "objectID": "slides/lec-8.html#intro-part-2",
    "href": "slides/lec-8.html#intro-part-2",
    "title": "Data transformations",
    "section": "Introduction",
    "text": "Introduction\n\nWe‚Äôll begin by discussing the most common way of creating logical vectors: with numeric comparisons.\nThen you‚Äôll learn about how you can use Boolean algebra to combine different logical vectors, as well as some useful summaries.\nWe‚Äôll finish off with if_else() and case_when(), two useful functions for making conditional changes powered by logical vectors."
  },
  {
    "objectID": "slides/lec-8.html#comparison-part-1",
    "href": "slides/lec-8.html#comparison-part-1",
    "title": "Data transformations",
    "section": "Comparisons",
    "text": "Comparisons\nA very common way to create a logical vector is via a numeric comparison with &lt;, &lt;=, &gt;, &gt;=, !=, and ==. So far, we‚Äôve mostly created logical variables transiently within filter() ‚Äî they are computed, used, and then thrown away. For example, the following filter finds all daytime departures that arrive roughly on time:\n\nflights |&gt; \n  filter(dep_time &gt; 600 & dep_time &lt; 2000 & abs(arr_delay) &lt; 20)"
  },
  {
    "objectID": "slides/lec-8.html#comparison-part-2",
    "href": "slides/lec-8.html#comparison-part-2",
    "title": "Data transformations",
    "section": "Comparisons",
    "text": "Comparisons\nIt‚Äôs useful to know that this is a shortcut and you can explicitly create the underlying logical variables with mutate():\n\nflights |&gt; \n  mutate(\n    daytime = dep_time &gt; 600 & dep_time &lt; 2000,\n    approx_ontime = abs(arr_delay) &lt; 20,\n    .keep = \"used\"\n  )"
  },
  {
    "objectID": "slides/lec-8.html#comparison-part-3",
    "href": "slides/lec-8.html#comparison-part-3",
    "title": "Data transformations",
    "section": "Comparisons",
    "text": "Comparisons\nThis is particularly useful for more complicated logic because naming the intermediate steps makes it easier to both read your code and check that each step has been computed correctly.\nAll up, the initial filter is equivalent to:\n\nflights |&gt; \n  mutate(\n    daytime = dep_time &gt; 600 & dep_time &lt; 2000,\n    approx_ontime = abs(arr_delay) &lt; 20,\n  ) |&gt; \n  filter(daytime & approx_ontime)\n\n# A tibble: 172,286 √ó 21\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      601            600         1      844            850\n 2  2013     1     1      602            610        -8      812            820\n 3  2013     1     1      602            605        -3      821            805\n 4  2013     1     1      606            610        -4      858            910\n 5  2013     1     1      606            610        -4      837            845\n 6  2013     1     1      607            607         0      858            915\n 7  2013     1     1      611            600        11      945            931\n 8  2013     1     1      613            610         3      925            921\n 9  2013     1     1      615            615         0      833            842\n10  2013     1     1      622            630        -8     1017           1014\n# ‚Ñπ 172,276 more rows\n# ‚Ñπ 13 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, daytime &lt;lgl&gt;,\n#   approx_ontime &lt;lgl&gt;"
  },
  {
    "objectID": "slides/lec-8.html#fp-comparison-1",
    "href": "slides/lec-8.html#fp-comparison-1",
    "title": "Data transformations",
    "section": "Floating point comparison",
    "text": "Floating point comparison\nBeware of using == with numbers. For example, it looks like this vector contains the numbers 1 and 2:\n\nx &lt;- c(1 / 49 * 49, sqrt(2) ^ 2)\nx\n\n[1] 1 2"
  },
  {
    "objectID": "slides/lec-8.html#fp-comparison-2",
    "href": "slides/lec-8.html#fp-comparison-2",
    "title": "Data transformations",
    "section": "Floating point comparison",
    "text": "Floating point comparison\nBut if you test them for equality, you get FALSE:\n\nx == c(1, 2)\n\n[1] FALSE FALSE"
  },
  {
    "objectID": "slides/lec-8.html#fp-comparison-3",
    "href": "slides/lec-8.html#fp-comparison-3",
    "title": "Data transformations",
    "section": "What‚Äôs going on?",
    "text": "What‚Äôs going on?\nComputers store numbers with a fixed number of decimal places so there‚Äôs no way to exactly represent 1/49 or sqrt(2) and subsequent computations will be very slightly off. We can see the exact values by calling print() with the digits argument:\n\nprint(x, digits = 16)\n\n[1] 0.9999999999999999 2.0000000000000004"
  },
  {
    "objectID": "slides/lec-8.html#fp-comparison-4",
    "href": "slides/lec-8.html#fp-comparison-4",
    "title": "Data transformations",
    "section": "What‚Äôs going on?",
    "text": "What‚Äôs going on?\n\nprint(x, digits = 16)\n\n[1] 0.9999999999999999 2.0000000000000004\n\n\nYou can see why R defaults to rounding these numbers; they really are very close to what you expect.\nNow that you‚Äôve seen why == is failing, what can you do about it?"
  },
  {
    "objectID": "slides/lec-8.html#fp-comparison-5",
    "href": "slides/lec-8.html#fp-comparison-5",
    "title": "Data transformations",
    "section": "Solution",
    "text": "Solution\nOne option is to use dplyr::near() which ignores small differences:\n\nnear(x, c(1, 2))\n\n[1] TRUE TRUE"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-1",
    "href": "slides/lec-8.html#sec-missing-values-1",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nMissing values represent the unknown so they are ‚Äúcontagious‚Äù: almost any operation involving an unknown value will also be unknown:\n\nNA &gt; 5\n\n[1] NA\n\n10 == NA\n\n[1] NA\n\n\nThe most confusing result is this one:\n\nNA == NA\n\n[1] NA"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-2",
    "href": "slides/lec-8.html#sec-missing-values-2",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nIt‚Äôs easiest to understand why this is true if we artificially supply a little more context:\n\n# We don't know how old Mary is\nage_mary &lt;- NA\n\n# We don't know how old John is\nage_john &lt;- NA\n\n# Are Mary and John the same age?\nage_mary == age_john\n\n[1] NA\n\n# We don't know!"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-3",
    "href": "slides/lec-8.html#sec-missing-values-3",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nSo if you want to find all flights where dep_time is missing, the following code doesn‚Äôt work because dep_time == NA will yield NA for every single row, and filter() automatically drops missing values:\n\nflights |&gt; \n  filter(dep_time == NA)\n\n# A tibble: 0 √ó 19\n# ‚Ñπ 19 variables: year &lt;int&gt;, month &lt;int&gt;, day &lt;int&gt;, dep_time &lt;int&gt;,\n#   sched_dep_time &lt;int&gt;, dep_delay &lt;dbl&gt;, arr_time &lt;int&gt;,\n#   sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-4",
    "href": "slides/lec-8.html#sec-missing-values-4",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nInstead we‚Äôll need a new tool: is.na().\nis.na(x) works with any type of vector and returns TRUE for missing values and FALSE for everything else:\n\nis.na(c(TRUE, NA, FALSE))\n\n[1] FALSE  TRUE FALSE\n\nis.na(c(1, NA, 3))\n\n[1] FALSE  TRUE FALSE\n\nis.na(c(\"a\", NA, \"b\"))\n\n[1] FALSE  TRUE FALSE"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-5",
    "href": "slides/lec-8.html#sec-missing-values-5",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nWe can use is.na() to find all the rows with a missing dep_time:\n\nflights |&gt; \n  filter(is.na(dep_time))\n\n# A tibble: 8,255 √ó 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1       NA           1630        NA       NA           1815\n 2  2013     1     1       NA           1935        NA       NA           2240\n 3  2013     1     1       NA           1500        NA       NA           1825\n 4  2013     1     1       NA            600        NA       NA            901\n 5  2013     1     2       NA           1540        NA       NA           1747\n 6  2013     1     2       NA           1620        NA       NA           1746\n 7  2013     1     2       NA           1355        NA       NA           1459\n 8  2013     1     2       NA           1420        NA       NA           1644\n 9  2013     1     2       NA           1321        NA       NA           1536\n10  2013     1     2       NA           1545        NA       NA           1910\n# ‚Ñπ 8,245 more rows\n# ‚Ñπ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-6",
    "href": "slides/lec-8.html#sec-missing-values-6",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nis.na() can also be useful in arrange(). arrange() usually puts all the missing values at the end but you can override this default by first sorting by is.na():\n\nflights |&gt; \n  filter(month == 1, day == 1) |&gt; \n  arrange(dep_time)\n\n# A tibble: 842 √ó 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ‚Ñπ 832 more rows\n# ‚Ñπ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-7",
    "href": "slides/lec-8.html#sec-missing-values-7",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nis.na() can also be useful in arrange(). arrange() usually puts all the missing values at the end but you can override this default by first sorting by is.na():\n\nflights |&gt;    \n  filter(month == 1, day == 1) |&gt;    \n  arrange(desc(is.na(dep_time)), dep_time)\n\n# A tibble: 842 √ó 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1       NA           1630        NA       NA           1815\n 2  2013     1     1       NA           1935        NA       NA           2240\n 3  2013     1     1       NA           1500        NA       NA           1825\n 4  2013     1     1       NA            600        NA       NA            901\n 5  2013     1     1      517            515         2      830            819\n 6  2013     1     1      533            529         4      850            830\n 7  2013     1     1      542            540         2      923            850\n 8  2013     1     1      544            545        -1     1004           1022\n 9  2013     1     1      554            600        -6      812            837\n10  2013     1     1      554            558        -4      740            728\n# ‚Ñπ 832 more rows\n# ‚Ñπ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-8",
    "href": "slides/lec-8.html#sec-missing-values-8",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nThe rules for missing values in Boolean algebra are a little tricky to explain because they seem inconsistent at first glance:\n\ndf &lt;- tibble(x = c(TRUE, FALSE, NA))\ndf |&gt; \n  mutate(\n    and = x & NA,\n    or = x | NA\n  )\n\n# A tibble: 3 √ó 3\n  x     and   or   \n  &lt;lgl&gt; &lt;lgl&gt; &lt;lgl&gt;\n1 TRUE  NA    TRUE \n2 FALSE FALSE NA   \n3 NA    NA    NA"
  },
  {
    "objectID": "slides/lec-8.html#sec-missing-values-9",
    "href": "slides/lec-8.html#sec-missing-values-9",
    "title": "Data transformations",
    "section": "Missing values",
    "text": "Missing values\nTo understand what‚Äôs going on, think about NA | TRUE (NA or TRUE).\nA missing value in a logical vector means that the value could either be TRUE or FALSE.\n\nTRUE | TRUE and FALSE | TRUE are both TRUE because at least one of them is TRUE.\nNA | TRUE must also be TRUE because NA can either be TRUE or FALSE.\nHowever, NA | FALSE is NA because we don‚Äôt know if NA is TRUE or FALSE.\nSimilar reasoning applies with NA & FALSE."
  },
  {
    "objectID": "slides/lec-8.html#sec-order-operations-1",
    "href": "slides/lec-8.html#sec-order-operations-1",
    "title": "Data transformations",
    "section": "Order of operations",
    "text": "Order of operations\nNote that the order of operations doesn‚Äôt work like English. Take the following code that finds all flights that departed in November or December:\n\nflights |&gt; \n   filter(month == 11 | month == 12)"
  },
  {
    "objectID": "slides/lec-8.html#sec-order-operations-2",
    "href": "slides/lec-8.html#sec-order-operations-2",
    "title": "Data transformations",
    "section": "Order of operations",
    "text": "Order of operations\nYou might be tempted to write it like you‚Äôd say in English: ‚ÄúFind all flights that departed in November or December.‚Äù:\n\nflights |&gt; \n   filter(month == 11 | 12)\n\n# A tibble: 336,776 √ó 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ‚Ñπ 336,766 more rows\n# ‚Ñπ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "slides/lec-8.html#sec-order-operations-3",
    "href": "slides/lec-8.html#sec-order-operations-3",
    "title": "Data transformations",
    "section": "Order of operations",
    "text": "Order of operations\nThis code doesn‚Äôt error but it also doesn‚Äôt seem to have worked.\n\nWhat‚Äôs going on?\nHere, R first evaluates month == 11 creating a logical vector, which we call nov."
  },
  {
    "objectID": "slides/lec-8.html#sec-order-operations-4",
    "href": "slides/lec-8.html#sec-order-operations-4",
    "title": "Data transformations",
    "section": "Order of operations",
    "text": "Order of operations\nIt computes nov | 12. When you use a number with a logical operator it converts everything apart from 0 to TRUE, so this is equivalent to nov | TRUE which will always be TRUE, so every row will be selected:\n\nflights |&gt; \n  mutate(\n    nov = month == 11,\n    final = nov | 12,\n    .keep = \"used\"\n  )\n\n# A tibble: 336,776 √ó 3\n   month nov   final\n   &lt;int&gt; &lt;lgl&gt; &lt;lgl&gt;\n 1     1 FALSE TRUE \n 2     1 FALSE TRUE \n 3     1 FALSE TRUE \n 4     1 FALSE TRUE \n 5     1 FALSE TRUE \n 6     1 FALSE TRUE \n 7     1 FALSE TRUE \n 8     1 FALSE TRUE \n 9     1 FALSE TRUE \n10     1 FALSE TRUE \n# ‚Ñπ 336,766 more rows"
  },
  {
    "objectID": "slides/lec-8.html#in-part-1",
    "href": "slides/lec-8.html#in-part-1",
    "title": "Data transformations",
    "section": "%in%",
    "text": "%in%\nAn easy way to avoid the problem of getting your ==s and |s in the right order is to use %in%. x %in% y returns a logical vector the same length as x that is TRUE whenever a value in x is anywhere in y .\n\n1:12 %in% c(1, 5, 11)\n\n [1]  TRUE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE\n\nletters[1:10] %in% c(\"a\", \"e\", \"i\", \"o\", \"u\")\n\n [1]  TRUE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE"
  },
  {
    "objectID": "slides/lec-8.html#in-part-2",
    "href": "slides/lec-8.html#in-part-2",
    "title": "Data transformations",
    "section": "%in%",
    "text": "%in%\nSo to find all flights in November and December we could write:\n\nflights |&gt; \n  filter(month %in% c(11, 12))"
  },
  {
    "objectID": "slides/lec-8.html#in-part-3",
    "href": "slides/lec-8.html#in-part-3",
    "title": "Data transformations",
    "section": "%in%",
    "text": "%in%\nNote that %in% obeys different rules for NA to ==, as NA %in% NA is TRUE."
  },
  {
    "objectID": "slides/lec-8.html#in-part-4",
    "href": "slides/lec-8.html#in-part-4",
    "title": "Data transformations",
    "section": "%in%",
    "text": "%in%\nThis can make for a useful shortcut:\n\nflights |&gt; \n  filter(dep_time %in% c(NA, 0800))\n\n# A tibble: 8,803 √ó 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      800            800         0     1022           1014\n 2  2013     1     1      800            810       -10      949            955\n 3  2013     1     1       NA           1630        NA       NA           1815\n 4  2013     1     1       NA           1935        NA       NA           2240\n 5  2013     1     1       NA           1500        NA       NA           1825\n 6  2013     1     1       NA            600        NA       NA            901\n 7  2013     1     2      800            810       -10     1102           1116\n 8  2013     1     2       NA           1540        NA       NA           1747\n 9  2013     1     2       NA           1620        NA       NA           1746\n10  2013     1     2       NA           1355        NA       NA           1459\n# ‚Ñπ 8,793 more rows\n# ‚Ñπ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "slides/lec-8.html#sec-logical-summaries-1",
    "href": "slides/lec-8.html#sec-logical-summaries-1",
    "title": "Data transformations",
    "section": "Logical summaries",
    "text": "Logical summaries\nThere are two main logical summaries:\n\nany(x) is the equivalent of |; it‚Äôll return TRUE if there are any TRUE‚Äôs in x.\nall(x) is equivalent of &; it‚Äôll return TRUE only if all values of x are TRUE‚Äôs.\n\nLike all summary functions, they‚Äôll return NA if there are any missing values present\nYou can make the missing values go away with na.rm = TRUE."
  },
  {
    "objectID": "slides/lec-8.html#sec-logical-summaries-2",
    "href": "slides/lec-8.html#sec-logical-summaries-2",
    "title": "Data transformations",
    "section": "Logical summaries",
    "text": "Logical summaries\nFor example, we could use all() and any() to find out if every flight was delayed on departure by at most an hour or if any flights were delayed on arrival by five hours or more. And using group_by() allows us to do that by day:\n\nflights |&gt; \n  group_by(year, month, day) |&gt; \n  summarize(\n    all_delayed = all(dep_delay &lt;= 60, na.rm = TRUE),\n    any_long_delay = any(arr_delay &gt;= 300, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\n# A tibble: 365 √ó 5\n    year month   day all_delayed any_long_delay\n   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;lgl&gt;       &lt;lgl&gt;         \n 1  2013     1     1 FALSE       TRUE          \n 2  2013     1     2 FALSE       TRUE          \n 3  2013     1     3 FALSE       FALSE         \n 4  2013     1     4 FALSE       FALSE         \n 5  2013     1     5 FALSE       TRUE          \n 6  2013     1     6 FALSE       FALSE         \n 7  2013     1     7 FALSE       TRUE          \n 8  2013     1     8 FALSE       FALSE         \n 9  2013     1     9 FALSE       TRUE          \n10  2013     1    10 FALSE       TRUE          \n# ‚Ñπ 355 more rows"
  },
  {
    "objectID": "slides/lec-8.html#sec-logical-summaries-3",
    "href": "slides/lec-8.html#sec-logical-summaries-3",
    "title": "Data transformations",
    "section": "Logical summaries",
    "text": "Logical summaries\nIn most cases, however, any() and all() are a little too crude, and it would be nice to be able to get a little more detail about how many values are TRUE or FALSE.\nThat leads us to the numeric summaries."
  },
  {
    "objectID": "slides/lec-8.html#sec-numeric-summaries-of-logicals-1",
    "href": "slides/lec-8.html#sec-numeric-summaries-of-logicals-1",
    "title": "Data transformations",
    "section": "Numeric summaries of logical vectors",
    "text": "Numeric summaries of logical vectors\nWhen you use a logical vector in a numeric context, TRUE becomes 1 and FALSE becomes 0.\nThis makes sum() and mean() very useful\n\nsum(x) gives the number of TRUEs\nmean(x) gives the proportion of TRUEs (because mean() is just sum() divided by length())."
  },
  {
    "objectID": "slides/lec-8.html#sec-numeric-summaries-of-logicals-2",
    "href": "slides/lec-8.html#sec-numeric-summaries-of-logicals-2",
    "title": "Data transformations",
    "section": "Numeric summaries of logical vectors",
    "text": "Numeric summaries of logical vectors\nThat, for example, allows us to see the proportion of flights that were delayed on departure by at most an hour and the number of flights that were delayed on arrival by five hours or more:\n\nflights |&gt; \n  group_by(year, month, day) |&gt; \n  summarize(\n    proportion_delayed = mean(dep_delay &lt;= 60, na.rm = TRUE),\n    count_long_delay = sum(arr_delay &gt;= 300, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\n# A tibble: 365 √ó 5\n    year month   day proportion_delayed count_long_delay\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;              &lt;dbl&gt;            &lt;int&gt;\n 1  2013     1     1              0.939                3\n 2  2013     1     2              0.914                3\n 3  2013     1     3              0.941                0\n 4  2013     1     4              0.953                0\n 5  2013     1     5              0.964                1\n 6  2013     1     6              0.959                0\n 7  2013     1     7              0.956                1\n 8  2013     1     8              0.975                0\n 9  2013     1     9              0.986                1\n10  2013     1    10              0.977                2\n# ‚Ñπ 355 more rows"
  },
  {
    "objectID": "slides/lec-8.html#sec-logical-subsetting-1",
    "href": "slides/lec-8.html#sec-logical-subsetting-1",
    "title": "Data transformations",
    "section": "Logical subsetting",
    "text": "Logical subsetting\nYou can use a logical vector to filter a single variable to a subset of interest.\nThis makes use of the base [] (pronounced subset) operator"
  },
  {
    "objectID": "slides/lec-8.html#sec-logical-subsetting-2",
    "href": "slides/lec-8.html#sec-logical-subsetting-2",
    "title": "Data transformations",
    "section": "Logical subsetting example",
    "text": "Logical subsetting example\nImagine we wanted to look at the average delay just for flights that were actually delayed. One way to do so would be to first filter the flights and then calculate the average delay:\n\nflights |&gt; \n  filter(arr_delay &gt; 0) |&gt; \n  group_by(year, month, day) |&gt; \n  summarize(\n    behind = mean(arr_delay),\n    n = n(),\n    .groups = \"drop\"\n  )\n\n# A tibble: 365 √ó 5\n    year month   day behind     n\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;int&gt;\n 1  2013     1     1   32.5   461\n 2  2013     1     2   32.0   535\n 3  2013     1     3   27.7   460\n 4  2013     1     4   28.3   297\n 5  2013     1     5   22.6   238\n 6  2013     1     6   24.4   381\n 7  2013     1     7   27.8   243\n 8  2013     1     8   20.8   275\n 9  2013     1     9   25.6   287\n10  2013     1    10   27.3   220\n# ‚Ñπ 355 more rows"
  },
  {
    "objectID": "slides/lec-8.html#sec-logical-subsetting-3",
    "href": "slides/lec-8.html#sec-logical-subsetting-3",
    "title": "Data transformations",
    "section": "Logical subsetting example",
    "text": "Logical subsetting example\nThis works, but what if we wanted to also compute the average delay for flights that arrived early?\n\nWe‚Äôd need to perform a separate filter step,\nNext, join the two data frames together.\n\nInstead you could use [ to perform an inline filtering: arr_delay[arr_delay &gt; 0] will yield only the positive arrival delays."
  },
  {
    "objectID": "slides/lec-8.html#sec-logical-subsetting-4",
    "href": "slides/lec-8.html#sec-logical-subsetting-4",
    "title": "Data transformations",
    "section": "Logical subsetting example",
    "text": "Logical subsetting example\nThis leads to:\n\nflights |&gt; \n  group_by(year, month, day) |&gt; \n  summarize(\n    behind = mean(arr_delay[arr_delay &gt; 0], na.rm = TRUE),\n    ahead = mean(arr_delay[arr_delay &lt; 0], na.rm = TRUE),\n    n = n(),\n    .groups = \"drop\"\n  )\n\n# A tibble: 365 √ó 6\n    year month   day behind ahead     n\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;\n 1  2013     1     1   32.5 -12.5   842\n 2  2013     1     2   32.0 -14.3   943\n 3  2013     1     3   27.7 -18.2   914\n 4  2013     1     4   28.3 -17.0   915\n 5  2013     1     5   22.6 -14.0   720\n 6  2013     1     6   24.4 -13.6   832\n 7  2013     1     7   27.8 -17.0   933\n 8  2013     1     8   20.8 -14.3   899\n 9  2013     1     9   25.6 -13.0   902\n10  2013     1    10   27.3 -16.4   932\n# ‚Ñπ 355 more rows\n\n\nAlso note the difference in the group size: in the first chunk n() gives the number of delayed flights per day; in the second, n() gives the total number of flights."
  },
  {
    "objectID": "slides/lec-8.html#sec-if_else-1",
    "href": "slides/lec-8.html#sec-if_else-1",
    "title": "Data transformations",
    "section": "if_else()",
    "text": "if_else()\nIf you want to use one value when a condition is TRUE and another value when it‚Äôs FALSE, you can use dplyr::if_else().\nYou‚Äôll always use the first three argument of if_else().\n\nThe first argument, condition, is a logical vector,\nThe second, true, gives the output when the condition is true,\nThe third, false, gives the output if the condition is false."
  },
  {
    "objectID": "slides/lec-8.html#sec-if_else-2",
    "href": "slides/lec-8.html#sec-if_else-2",
    "title": "Data transformations",
    "section": "if_else()",
    "text": "if_else()\nLet‚Äôs begin with a simple example of labeling a numeric vector as either ‚Äú+ve‚Äù (positive) or ‚Äú-ve‚Äù (negative):\n\nx &lt;- c(-3:3, NA)\nif_else(x &gt; 0, \"+ve\", \"-ve\")\n\n[1] \"-ve\" \"-ve\" \"-ve\" \"-ve\" \"+ve\" \"+ve\" \"+ve\" NA"
  },
  {
    "objectID": "slides/lec-8.html#sec-if_else-3",
    "href": "slides/lec-8.html#sec-if_else-3",
    "title": "Data transformations",
    "section": "if_else()",
    "text": "if_else()\nThere‚Äôs an optional fourth argument, missing which will be used if the input is NA:\n\nif_else(x &gt; 0, \"+ve\", \"-ve\", \"???\")\n\n[1] \"-ve\" \"-ve\" \"-ve\" \"-ve\" \"+ve\" \"+ve\" \"+ve\" \"???\""
  },
  {
    "objectID": "slides/lec-8.html#sec-if_else-4",
    "href": "slides/lec-8.html#sec-if_else-4",
    "title": "Data transformations",
    "section": "if_else()",
    "text": "if_else()\nYou can also use vectors for the true and false arguments. For example, this allows us to create a minimal implementation of abs():\n\nif_else(x &lt; 0, -x, x)\n\n[1]  3  2  1  0  1  2  3 NA"
  },
  {
    "objectID": "slides/lec-8.html#sec-case_when-1",
    "href": "slides/lec-8.html#sec-case_when-1",
    "title": "Data transformations",
    "section": "case_when()",
    "text": "case_when()\nSyntax to recreate our nested if_else() as follows:\n\ncase_when(\n  x &lt; 0 ~ \"-ve\",\n  x &gt; 0 ~ \"+ve\"\n)\n\n[1] \"-ve\" \"-ve\" \"-ve\" NA    \"+ve\" \"+ve\" \"+ve\" NA"
  },
  {
    "objectID": "slides/lec-8.html#sec-case_when-2",
    "href": "slides/lec-8.html#sec-case_when-2",
    "title": "Data transformations",
    "section": "case_when()",
    "text": "case_when()\nUse .default if you want to create a ‚Äúdefault‚Äù/catch all value:\n\ncase_when(\n  x &lt; 0 ~ \"-ve\",\n  x &gt; 0 ~ \"+ve\",\n  .default = \"???\"\n)\n\n[1] \"-ve\" \"-ve\" \"-ve\" \"???\" \"+ve\" \"+ve\" \"+ve\" \"???\""
  },
  {
    "objectID": "slides/lec-8.html#sec-case_when-3",
    "href": "slides/lec-8.html#sec-case_when-3",
    "title": "Data transformations",
    "section": "case_when()",
    "text": "case_when()\nUse .default if you want to create a ‚Äúdefault‚Äù/catch all value:\n\ncase_when(\n  x &lt; 0 ~ \"-ve\",\n  x &gt; 0 ~ \"+ve\",\n  TRUE ~ \"???\"\n)\n\n[1] \"-ve\" \"-ve\" \"-ve\" \"???\" \"+ve\" \"+ve\" \"+ve\" \"???\""
  },
  {
    "objectID": "slides/lec-8.html#sec-case_when-4",
    "href": "slides/lec-8.html#sec-case_when-4",
    "title": "Data transformations",
    "section": "case_when()",
    "text": "case_when()\nAnd note that if multiple conditions match, only the first will be used:\n\ncase_when(\n  x &gt; 0 ~ \"+ve\",\n  x &gt; 2 ~ \"big\"\n)\n\n[1] NA    NA    NA    NA    \"+ve\" \"+ve\" \"+ve\" NA"
  },
  {
    "objectID": "slides/lec-8.html#sec-case_when-5",
    "href": "slides/lec-8.html#sec-case_when-5",
    "title": "Data transformations",
    "section": "case_when() example",
    "text": "case_when() example\n\nflights |&gt; \n  mutate(\n    status = case_when(\n      is.na(arr_delay)      ~ \"cancelled\",\n      arr_delay &lt; -30       ~ \"very early\",\n      arr_delay &lt; -15       ~ \"early\",\n      abs(arr_delay) &lt;= 15  ~ \"on time\",\n      arr_delay &lt; 60        ~ \"late\",\n      arr_delay &lt; Inf       ~ \"very late\",\n    ),\n    .keep = \"used\"\n  )\n\n# A tibble: 336,776 √ó 2\n   arr_delay status \n       &lt;dbl&gt; &lt;chr&gt;  \n 1        11 on time\n 2        20 late   \n 3        33 late   \n 4       -18 early  \n 5       -25 early  \n 6        12 on time\n 7        19 late   \n 8       -14 on time\n 9        -8 on time\n10         8 on time\n# ‚Ñπ 336,766 more rows\n\n\nBe wary when writing this sort of complex case_when() statement; my first two attempts used a mix of &lt; and &gt; and I kept accidentally creating overlapping conditions."
  },
  {
    "objectID": "slides/lec-8.html#sec-compatibility-types-1",
    "href": "slides/lec-8.html#sec-compatibility-types-1",
    "title": "Data transformations",
    "section": "Compatible types",
    "text": "Compatible types\nNote that both if_else() and case_when() require compatible types in the output. If they‚Äôre not compatible, you‚Äôll see errors like this:\n\nif_else(TRUE, \"a\", 1)\n\nError in `if_else()`:\n! Can't combine `true` &lt;character&gt; and `false` &lt;double&gt;.\n\ncase_when(\n  x &lt; -1 ~ TRUE,  \n  x &gt; 0  ~ now()\n)\n\nError in `case_when()`:\n! Can't combine `..1 (right)` &lt;logical&gt; and `..2 (right)` &lt;datetime&lt;local&gt;&gt;."
  },
  {
    "objectID": "slides/lec-8.html#sec-compatibility-types-2",
    "href": "slides/lec-8.html#sec-compatibility-types-2",
    "title": "Data transformations",
    "section": "Compatible types",
    "text": "Compatible types\nOverall, relatively few types are compatible, because automatically converting one type of vector to another is a common source of errors. Here are the most important cases that are compatible:\n\nNumeric and logical vectors are compatible.\nStrings and factors are compatible, because you can think of a factor as a string with a restricted set of values.\nDates and date-times are compatible because you can think of a date as a special case of date-time.\nNA, which is technically a logical vector, is compatible with everything because every vector has some way of representing a missing value."
  },
  {
    "objectID": "slides/lec-1.html#meet-the-teacher",
    "href": "slides/lec-1.html#meet-the-teacher",
    "title": "Lecture 1 - Meet + greet",
    "section": "Meet the teacher",
    "text": "Meet the teacher\n\n\n\n\n\n\n\n\nAssociate Prof.¬†dr. Miel Hostens DVM\n\nAssociate Professor\nCollege of Agricultural and Life Sciences\nDepartment of Animal Science\nFind out more at bovi-analytics.com"
  },
  {
    "objectID": "slides/lec-1.html#meet-your-teacher-when-he-was-young",
    "href": "slides/lec-1.html#meet-your-teacher-when-he-was-young",
    "title": "Lecture 1 - Meet + greet",
    "section": "Meet your teacher, when he was young!",
    "text": "Meet your teacher, when he was young!"
  },
  {
    "objectID": "slides/lec-1.html#meet-your-team-partners",
    "href": "slides/lec-1.html#meet-your-team-partners",
    "title": "Lecture 1 - Meet + greet",
    "section": "Meet your team partners",
    "text": "Meet your team partners\n\nWhat is your background in agriculture?\nWhat is the main reason to subscribe to the course?\nWhat do you really hope to learn?"
  },
  {
    "objectID": "slides/lec-1.html#meet-the-other-experts",
    "href": "slides/lec-1.html#meet-the-other-experts",
    "title": "Lecture 1 - Meet + greet",
    "section": "Meet the other experts",
    "text": "Meet the other experts\n\nSumit Sharma (TA) - Graduate student & PhD candidate\nMeike van Leerdam (TA) - Graduate student & PhD candidate"
  },
  {
    "objectID": "slides/lec-1.html#what-is-digital-agriculture",
    "href": "slides/lec-1.html#what-is-digital-agriculture",
    "title": "Lecture 1 - Meet + greet",
    "section": "What is Digital Agriculture",
    "text": "What is Digital Agriculture\n\n\n‚ÄúDigital agriculture refers to the use of digital technologies, information, and communication tools in various aspects of agriculture to enhance productivity, efficiency, and sustainability. This field leverages advancements in technology, such as sensors, automation, data analytics, and connectivity, to collect, analyze, and apply data-driven insights to agricultural practices."
  },
  {
    "objectID": "slides/lec-1.html#course-learning-objectives-part-1",
    "href": "slides/lec-1.html#course-learning-objectives-part-1",
    "title": "Lecture 1 - Meet + greet",
    "section": "Course learning objectives (part 1)",
    "text": "Course learning objectives (part 1)\n\nCollect, organize, and clean dairy farm datasets from herd management.\nApply statistical and computational methods (e.g., Excel, R, Python, or similar tools) to analyze dairy performance data.\nIdentify strengths, weaknesses, and limitations of different data types used in dairy management."
  },
  {
    "objectID": "slides/lec-1.html#course-learning-objectives-part-2",
    "href": "slides/lec-1.html#course-learning-objectives-part-2",
    "title": "Lecture 1 - Meet + greet",
    "section": "Course learning objectives (part 2)",
    "text": "Course learning objectives (part 2)\n\nInterpret and critique dairy datasets in relation to biological, economic, and management contexts.\nCreate visualizations, written reports or presentations to communicate data-driven insights with consideration for ethical use of data.\nSynthesize herd-level data into a decision support framework and contribute to a SWOT analysis in collaboration with herd managers."
  },
  {
    "objectID": "slides/lec-1.html#topics-that-will-be-covered",
    "href": "slides/lec-1.html#topics-that-will-be-covered",
    "title": "Lecture 1 - Meet + greet",
    "section": "Topics that will be covered",
    "text": "Topics that will be covered\n\nWeek 1 - Introduction, programming and team project kick-off\nWeek 2 - Data in agriculture\nWeek 3 - Technologies in agriculture\nWeek 4 - Artificial Intelligence and Machine Learning\nWeek 5 - ‚Ä¶"
  },
  {
    "objectID": "slides/lec-1.html#weekly-programming-assignment",
    "href": "slides/lec-1.html#weekly-programming-assignment",
    "title": "Lecture 1 - Meet + greet",
    "section": "Weekly programming assignment",
    "text": "Weekly programming assignment\n\nOne of the learning goals is to actively stimulate you by weekly programming assignments & assessments\nWe will use the Dodona platform for that. Make sure to try if you have access to the course.\nLink to the course"
  },
  {
    "objectID": "slides/lec-1.html#weekly-programming-assignment-1",
    "href": "slides/lec-1.html#weekly-programming-assignment-1",
    "title": "Lecture 1 - Meet + greet",
    "section": "Weekly programming assignment",
    "text": "Weekly programming assignment\nSign in to Dodona using your Cornell Microsoft365 or Google sign-in"
  },
  {
    "objectID": "slides/lec-1.html#weekly-programming-assignment-2",
    "href": "slides/lec-1.html#weekly-programming-assignment-2",
    "title": "Lecture 1 - Meet + greet",
    "section": "Weekly programming assignment",
    "text": "Weekly programming assignment\nSubscribe to this course https://dodona.be/en/courses/4716/?secret=czy8G"
  },
  {
    "objectID": "slides/lec-1.html#weekly-programming-assignment-3",
    "href": "slides/lec-1.html#weekly-programming-assignment-3",
    "title": "Lecture 1 - Meet + greet",
    "section": "Weekly programming assignment",
    "text": "Weekly programming assignment\n\nMake sure to reach each of the deadlines\n\n\n\nDeadline\nAssignment\n\n\n\n\nTuesday, Jan 29th 24:00\nR Basics\n\n\nTuesday, Feb 4th 24:00\nProgramming basics\n\n\nTuesday. Feb 11th 24:00\nThe tidyverse\n\n\nTuesday, Feb 18th 24:00\nImporting Data\n\n\nTuesday, Feb 25th 24:00\n‚Ä¶"
  },
  {
    "objectID": "slides/lec-1.html#homepage",
    "href": "slides/lec-1.html#homepage",
    "title": "Lecture 1 - Meet + greet",
    "section": "Homepage",
    "text": "Homepage\nhttps://github.com/Bovi-analytics/Beasts & Bytes\n\nAll relevant course materials (and history)\nLinks to Teams, GitHub, Dodona, etc.\nLet‚Äôs take a tour!"
  },
  {
    "objectID": "slides/lec-1.html#activities-prepare-participate-practice-perform",
    "href": "slides/lec-1.html#activities-prepare-participate-practice-perform",
    "title": "Lecture 1 - Meet + greet",
    "section": "Activities: Prepare, Participate, Practice, Perform",
    "text": "Activities: Prepare, Participate, Practice, Perform\n\nPrepare: Introduce new content and prepare for lectures by completing the readings\nParticipate: Attend and actively participate in lectures and labs, herd visits\nPractice: Practice your programming skills\nPerform: Put together what you‚Äôve learned to analyze real-world data\n\nDodona assignments"
  },
  {
    "objectID": "slides/lec-1.html#grading",
    "href": "slides/lec-1.html#grading",
    "title": "Lecture 1 - Meet + greet",
    "section": "Grading",
    "text": "Grading\nThe overall team project score will be multiplied by the % of correctly submitted weekly assignments individually.\nExample:\n\nYour team project is graded as a group to 16/20\nYou individually submitted 80% correct assignments\nYour end score is 0.8*16/20 = 12.8/20"
  },
  {
    "objectID": "slides/lec-1.html#support",
    "href": "slides/lec-1.html#support",
    "title": "Lecture 1 - Meet + greet",
    "section": "Support",
    "text": "Support\n\nOffice hours\nAsk (or even better help answering) questions during the course!!!\nTeams\nReserve email for questions on personal matters"
  },
  {
    "objectID": "slides/lec-1.html#announcements",
    "href": "slides/lec-1.html#announcements",
    "title": "Lecture 1 - Meet + greet",
    "section": "Announcements",
    "text": "Announcements\n\nDuring classes or email\nIf unclear, contact me"
  },
  {
    "objectID": "slides/lec-1.html#diversity-inclusion",
    "href": "slides/lec-1.html#diversity-inclusion",
    "title": "Lecture 1 - Meet + greet",
    "section": "Diversity + inclusion",
    "text": "Diversity + inclusion\nIt is my intent that students from all diverse backgrounds and perspectives be well-served by this course, that students‚Äô learning needs be addressed both in and out of class, and that the diversity that the students bring to this class be viewed as a resource, strength and benefit.\n\nIf you have a name that differs from those that appear in your official records, please let me know!\nPlease let me know your preferred pronouns.\nIf you feel like your performance in the class is being impacted by your experiences outside of class, please don‚Äôt hesitate to come and talk with me. I want to be a resource for you.\nIf something was said in class (by me or anyone) that made you feel uncomfortable, please talk to me about it."
  },
  {
    "objectID": "slides/lec-1.html#team-project",
    "href": "slides/lec-1.html#team-project",
    "title": "Lecture 1 - Meet + greet",
    "section": "Team project",
    "text": "Team project\n\nTeam update fridays are supposed to be completed collaboratively.\nMost of the times we will meet in classrooms at the Morrison Hall building."
  },
  {
    "objectID": "slides/lec-1.html#academic-integrity",
    "href": "slides/lec-1.html#academic-integrity",
    "title": "Lecture 1 - Meet + greet",
    "section": "Academic integrity",
    "text": "Academic integrity\n\nTo uphold the Cornell Academic Integrity Guide:\n\nI will not lie, cheat, or steal in my academic endeavors;\nI will conduct myself honorably in all my endeavors; and\nI will act if the Code is compromised."
  },
  {
    "objectID": "slides/lec-1.html#farm-data",
    "href": "slides/lec-1.html#farm-data",
    "title": "Lecture 1 - Meet + greet",
    "section": "Farm data",
    "text": "Farm data\n\nBe aware that\n\nthe participating farmers are sharing sometimes sensitive and personal data with you (part of the course).\nyou are supposed to use that data for educational purposes only.\nyour professional conduct is expected.\nyou influence future participation of the collaborating farm(s)."
  },
  {
    "objectID": "slides/lec-1.html#most-importantly",
    "href": "slides/lec-1.html#most-importantly",
    "title": "Lecture 1 - Meet + greet",
    "section": "Most importantly!",
    "text": "Most importantly!\nAsk if you‚Äôre not sure if something violates a policy!"
  },
  {
    "objectID": "slides/lec-1.html#five-tips-for-success",
    "href": "slides/lec-1.html#five-tips-for-success",
    "title": "Lecture 1 - Meet + greet",
    "section": "Five tips for success",
    "text": "Five tips for success\n\nHelp me understanding your needs as well.\nRead all the preparation material (if provided) before the lesson begins.\nAsk questions and actively collaborate with entire team.\nPerform the programming assignments.\nDon‚Äôt let a week pass by with lingering questions."
  },
  {
    "objectID": "slides/lec-1.html#this-weeks-first-tasks",
    "href": "slides/lec-1.html#this-weeks-first-tasks",
    "title": "Lecture 1 - Meet + greet",
    "section": "This week‚Äôs first tasks",
    "text": "This week‚Äôs first tasks\n\nGet a Dodona account if you don‚Äôt have one, you‚Äôll need it for Wednesday first lab.\nCommunicate your Gmail account with miel.hostens@cornell.edu so I can connect you to the Beasts&Bytes Google Drive and Google Colab environment."
  },
  {
    "objectID": "computing-access.html",
    "href": "computing-access.html",
    "title": "Computing access",
    "section": "",
    "text": "Online\nTo access computing resources for the introductory data science courses offered by Utrecht University we will make use of the Google Colab computing services linked to the course drive storage.\nIf this is your first time accessing Google Colab, make sure you have a registered gmail address. You should have access to this ‚ÄòShared drive‚Äô in your Google Drive. If not, send an email to the course teacher to get access.\nMake sure you get familiar with Google Colab by reading and trying to run your first pieces of code in the ‚ÄòWelcome To Colaboratory‚Äô notebook.",
    "crumbs": [
      "Computing",
      "Access"
    ]
  },
  {
    "objectID": "supplemental/extra-1.html",
    "href": "supplemental/extra-1.html",
    "title": "Extras",
    "section": "",
    "text": "Note\n\n\n\nComing soon"
  },
  {
    "objectID": "course-overview.html",
    "href": "course-overview.html",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "",
    "text": "This course introduces students to the principles and applications of data analytics in modern dairy herd management. Students will learn how to collect, clean, analyze, and interpret farm- level data from the Cornell University Research Dairy. Through hands-on labs, students will apply statistical and computational tools to evaluate herd performance in key management areas, including nutrition, reproduction, animal health, and farm economics. By the end of the course, students will integrate these data into a digital management framework and engage in a managerial decision-making exercise, including a SWOT analysis with farm stakeholders. This course emphasizes data literacy, statistical reasoning, and ethical interpretation of agri- cultural data. It satisfies the CALS Data Literacy (Statistics) requirement by develop- ing student competencies in data manipulation, analysis, interpretation, and communication within the context of dairy science.",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#general-week-format",
    "href": "course-overview.html#general-week-format",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "General week format",
    "text": "General week format\n\n\n\n\n\n\n\n\n\n\n\n\nMonday\nTuesday\nWednesday\nThursday\nFriday\n\n\n\n\n10:10-11:00 am\n\nLecture\n\nLecture\n\n\n\n1:25-4:25 pm\n\n\n\nLab - Project",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#lectures",
    "href": "course-overview.html#lectures",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "Lectures",
    "text": "Lectures\nThe goal of the lectures is to have them as interactive as possible (which requires your attendance and participation). My role as instructor is to introduce you new tools and techniques, but it is up to you to take them and make use of them.",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#labs",
    "href": "course-overview.html#labs",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "Labs",
    "text": "Labs\nLabs will use real-world datasets from the Cornell University Research Centre. Students will work individually and in teams to: - Work with herd management software across the different management domains. - Clean and curate datasets (Excel, R, Python and Tableau). - Conduct statistical analyses on herd-level data. - Develop visualizations, reports and presentations for practical decision-making. - Interact with students and herd managers to interpret results in a farm management context.",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#group-assessment",
    "href": "course-overview.html#group-assessment",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "Group assessment",
    "text": "Group assessment\n\n\n\n\n\n\n\n\nComponent graded\nRemark\nWeight\n\n\n\n\nPeer evaluation by team members\n\n40%\n\n\nMultiple Choice Questions\n\n40%\n\n\nProject\n\n20%",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#individual-assessment",
    "href": "course-overview.html#individual-assessment",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "Individual assessment",
    "text": "Individual assessment\nIt is very important to read this part as your individual assessments will be influencing your individual gradings.\nAt the end of the course you will be evaluated on the % of weekly assignments you have coded correctly in the Dodona framework (which you will learn during the course). That percentage will be multiplied with the overal group project grade, resulting in your final individual grade.\nFor example:\n\nThe group project was finally graded at 95%\nStudent A successfully finished 75% of the coding assignments within each deadline. As a result student A gets 95% x 75% = 71% as the final individual grade.\nStudent B successfully finished 100% of the coding assignments within each deadline. As a result student B gets 95% x 100% as the final individual grade.\n\nFinishing each of the assignments within each deadline is not that difficult. You ‚Äújust‚Äù need to devote the time to it. I have used this method a lot during my courses. It is not to annoy students, but to make sure the entire group keeps progressing on the programming skills during the project. You will thank me for that at a certain moment. For full transparency, I learned to code Python using a similar approach. Once I understood why this was done, I started appreciating this method as one of the most inspiring learning methods I have ever seen.",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#final-grading-scale",
    "href": "course-overview.html#final-grading-scale",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "Final grading scale",
    "text": "Final grading scale\n\n\n\nGrade\nLow\nHigh\n\n\n\n\nA+\n99.80\n100.0\n\n\nA\n93.33\n99.80\n\n\nA-\n90.00\n93.33\n\n\nB+\n86.66\n90.00\n\n\nB\n83.33\n86.66\n\n\nB-\n80.00\n83.33\n\n\nC+\n76.66\n80.00\n\n\nC\n73.33\n76.66\n\n\nC-\n70.00\n73.33\n\n\nD+\n66.66\n70.00\n\n\nD\n63.33\n66.66\n\n\nD-\n60.00\n63.36\n\n\nF\n0.00\n60.00\n\n\n\nEach grade range includes the score on the left, and excludes the score on the right. For example, a 90.0 is an A-, and not a B+. An 89.99 is a B+, not an A-.",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#inclusive-community",
    "href": "course-overview.html#inclusive-community",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "Inclusive community",
    "text": "Inclusive community\nI grew up in a family in which values as diversity, equity and inclusion were at the core of our everyday life. My parents were both involved taking care of people struggling with equity and inclusion, and as a result these values are deeply embedded in my character.\nI aim to ensure that students from all diverse backgrounds and perspectives are well-served by this course. I strive to address students‚Äô learning needs both in and out of class, and to view the diversity that students bring as a resource, strength, and benefit. My goal is to present materials and activities that respect diversity and align with Cornell University‚Äôs core values. Sometimes it might fade during busy times, don‚Äôt be afraid to recall someone, we‚Äôre all humans after all. ‚ÄúYour suggestions are truely encouraged and appreciated‚Äù. Please let me know how I can improve the course‚Äôs effectiveness for you personally, or for other students or student groups.\nAdditionally, I aim to foster a learning environment that embraces a diversity of thoughts, perspectives, and experiences, and respects your identities. If your experiences outside of class are affecting your performance, please feel free to talk with me. Alternatively, your academic dean is a great resource if you prefer to speak with someone outside the course.",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#academic-integrity",
    "href": "course-overview.html#academic-integrity",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "Academic Integrity",
    "text": "Academic Integrity\nAbsolute integrity is expected of every Cornell student in all academic undertakings. Integrity entails a firm adherence to a set of values, and the values most essential to an academic community are grounded on the concept of honesty with respect to the intellectual efforts of oneself and others, and free and open inquiry and discussion in the classroom. Academic integrity is expected not only in formal coursework situations, but in all University relationships and interactions connected to the educational process, including the use of University resources. While both students and faculty of Cornell assume the responsibility of maintaining and furthering these values, this document is concerned specifically with the conduct of students.\nA Cornell student‚Äôs submission of work for academic credit indicates that the work is the student‚Äôs own. All outside assistance should be acknowledged, and the student‚Äôs academic position truthfully reported at all times. In addition, Cornell students have a right to expect academic integrity from each of their peers.\nThis a guideline for students offered through the Office of the Dean of Faculty",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "course-overview.html#responsible-use-of-generative-tools",
    "href": "course-overview.html#responsible-use-of-generative-tools",
    "title": "Digital Dairy Management and Data Analytics",
    "section": "Responsible Use of Generative Tools",
    "text": "Responsible Use of Generative Tools\nIn this class, we recognize the potential of generative tools to enhance learning and creativity. However, it is crucial to use these tools responsibly and ethically. Here are some guidelines to ensure their proper use:\n\nAcademic Integrity: Always attribute the work generated by these tools appropriately. Do not present AI-generated content as your own original work without proper citation.\nCritical Thinking: Use generative tools as a supplement to your own thinking and analysis. Evaluate the outputs critically and ensure they align with the academic standards and objectives of our course.\nEthical Considerations: Be mindful of the ethical implications of using generative tools. Avoid generating content that could be harmful, misleading, or inappropriate.\nPrivacy and Security: Respect privacy and confidentiality when using generative tools. Do not input sensitive or personal information into these tools.",
    "crumbs": [
      "Course information",
      "Overview"
    ]
  },
  {
    "objectID": "weeks/week-15.html",
    "href": "weeks/week-15.html",
    "title": "WEEK 15: Capstone Management Meeting & Course Wrap-Up",
    "section": "",
    "text": "Details/Subtopics:\n\nFinal SWOT analysis presentations to CURC stakeholders\nQ&A and discussion of recommendations\nCourse reflection and future applications of data analytics\n\n\n\nActivities/Tasks\n\nCapstone Presentations (5/5 AM): [reserve room with good A/V setup - maybe invite dept chair?]\n\nTeams present comprehensive SWOT analysis to CURC farm managers and invited guests\nInclude strengths, weaknesses, opportunities, threats, and actionable recommendations\nProfessional format with data visualizations, evidence-based arguments\n\nWrap-Up & Reflection (5/5 PM):\n\nStakeholder feedback to students\nClass discussion: What did we learn? How will you use these skills?\nCourse evaluations\n\n\n\n\nDue Dates: Capstone presentations (5/5)\n\nGraded by instructor and stakeholders (20% of grade)\n\n\n\nDatasets/Resources:\n\nFinal student SWOT reports and dashboards",
    "crumbs": [
      "Weekly materials",
      "Week 15"
    ]
  },
  {
    "objectID": "weeks/week-8.html",
    "href": "weeks/week-8.html",
    "title": "WEEK 8: Midterm Exam & Health Data Introduction",
    "section": "",
    "text": "Details/Subtopics\n\nReview of course concepts to date\nIntroduction to animal health records: disease events, treatments, SCC trends\n\n\n\nActivities/Tasks:\n\nLecture (3/10): Review session for midterm exam\nExam (3/12 AM): Multiple-choice midterm exam (concepts, data literacy, statistics)\nLab (3/12 PM):\n\nIntroduction to CURC health records\nBrainstorm: What health data are available? What questions can they answer?\n\n\n\n\nDue Dates:\n\nMidterm exam (3/12)\n\n\n\nDatasets/Resources:\n\nCURC health/treatment records, SCC data",
    "crumbs": [
      "Weekly materials",
      "Week 8"
    ]
  },
  {
    "objectID": "weeks/week-11.html",
    "href": "weeks/week-11.html",
    "title": "WEEK 11: Student Presentations ‚Äì Health & Nutrition Insights",
    "section": "",
    "text": "Details/Subtopics\n\nPresenting findings on health and nutrition management\nDiscussion of multi-system interactions (e.g., nutrition impacts on health)\n\n\n\nActivities/Tasks:\n\nLecture (4/7): Systems thinking: connecting health, nutrition, and production\nLecture (4/9): Student team presentations on health/nutrition analysis\nLab (4/9):\n\nPeer evaluation\nGroup discussion: Connecting data across management areas\n\n\n\n\nDue Dates: Team presentations (4/9)\n\nPeer evaluation due\n\n\n\nDatasets/Resources:\n\nStudent analyses",
    "crumbs": [
      "Weekly materials",
      "Week 11"
    ]
  },
  {
    "objectID": "weeks/week-6.html",
    "href": "weeks/week-6.html",
    "title": "Week Overview: Herd Inventory Calculations (Lecture 50 min + Lab)",
    "section": "",
    "text": "Inventory calculations are the bridge between biology and decisions. If your snapshot is wrong, your reproduction strategy, semen strategy (sexed vs beef), housing plan, and growth plan will all be wrong‚Äîeven if your math is perfect.\nThis week trains students to: 1) produce a defensible snapshot of the current herd and 2) compute flows (dynamics) with correct denominators and time windows, then 3) translate those numbers into a growth strategy for CDREC (CURC).",
    "crumbs": [
      "Weekly materials",
      "Week 6"
    ]
  },
  {
    "objectID": "weeks/week-6.html#why-this-week-exists-the-so-what",
    "href": "weeks/week-6.html#why-this-week-exists-the-so-what",
    "title": "Week Overview: Herd Inventory Calculations (Lecture 50 min + Lab)",
    "section": "",
    "text": "Inventory calculations are the bridge between biology and decisions. If your snapshot is wrong, your reproduction strategy, semen strategy (sexed vs beef), housing plan, and growth plan will all be wrong‚Äîeven if your math is perfect.\nThis week trains students to: 1) produce a defensible snapshot of the current herd and 2) compute flows (dynamics) with correct denominators and time windows, then 3) translate those numbers into a growth strategy for CDREC (CURC).",
    "crumbs": [
      "Weekly materials",
      "Week 6"
    ]
  },
  {
    "objectID": "weeks/week-6.html#learning-objectives-students-should-be-able-to",
    "href": "weeks/week-6.html#learning-objectives-students-should-be-able-to",
    "title": "Week Overview: Herd Inventory Calculations (Lecture 50 min + Lab)",
    "section": "Learning objectives (students should be able to‚Ä¶)",
    "text": "Learning objectives (students should be able to‚Ä¶)\nBy the end of lecture + lab, students can:\n\nExplain herd statics (state) vs herd dynamics (flows).\nDefine risk vs rate and why mixing them breaks inventory math.\nCompute and interpret:\n\nculling/removal rate\nmortality/death rate (cows vs calves)\nreplacement/entry rate\ncalving/freshening rate\nherd turnover rate\n\nIdentify which metrics are true synonyms vs near‚Äësynonyms.\nRun DC305 commands to build a farm snapshot and extract needed numerators/denominators.",
    "crumbs": [
      "Weekly materials",
      "Week 6"
    ]
  },
  {
    "objectID": "weeks/week-6.html#references-for-students",
    "href": "weeks/week-6.html#references-for-students",
    "title": "Week Overview: Herd Inventory Calculations (Lecture 50 min + Lab)",
    "section": "References (for students)",
    "text": "References (for students)\n\nDe Vries (2016) JDS: https://www.sciencedirect.com/science/article/pii/S0022030216307287\nEsslemont & Kossaibati (2006) JDS: https://www.sciencedirect.com/science/article/pii/S0022030206722573",
    "crumbs": [
      "Weekly materials",
      "Week 6"
    ]
  },
  {
    "objectID": "weeks/week-1.html",
    "href": "weeks/week-1.html",
    "title": "WEEK 1: Course Introduction & Farm Orientation",
    "section": "",
    "text": "Details/Subtopics:\n\nCourse structure, learning outcomes, and assessment methods\nIntroduction to dairy data ecosystems: what data exist on a dairy farm?\nOverview of CURC operations and data systems\nIntroduction to data literacy in agriculture\n\n\n\nActivities/Tasks\n\nLecture (1/20): Pre-course Knowledge Assessment and Pre-inventory Management Quiz\nLecture (1/22):, Syllabus review and Expectations\nLab (1/22):\n\nCURC Visit #1: Farm tour, brainstorm data sources (pens, milking parlor, feed systems, health records)\nGuest lecture from CURC farm manager ‚Äì ‚ÄúA Day in the Life of Dairy Data Manager‚Äù.\nIntroduction to CURC herd management software\nForm project teams\n\n\n\n\nDue Dates:\n\nTeam formation by end of lab\nPlease take a moment to complete the MCQs for the pre-course knowledge assessment so we can better tailor the course to your needs: Pre-course MCQS\nPlease take a moment to fill in this forms so we can tailor the course to your needs: Pre-course questionnaire # Datasets/Resources\nCURC overview materials\nHerd management software demo\n\n\nBack to course schedule ‚èé",
    "crumbs": [
      "Weekly materials",
      "Week 1"
    ]
  },
  {
    "objectID": "weeks/week-9.html",
    "href": "weeks/week-9.html",
    "title": "WEEK 9: Animal Health & Mastitis Data Analysis",
    "section": "",
    "text": "Details/Subtopics\n\nSomatic cell count (SCC) trends and interpretation\nDisease incidence rates (mastitis, lameness, metabolic disorders)\nLinking health data to milk production losses\n\n\n\nActivities/Tasks\n\nLecture (3/17): Animal health monitoring and data-driven interventions\nLecture (3/19): SCC interpretation and mastitis economics\nLab (3/19):\n\nAnalyze CURC SCC trends over time\nCalculate mastitis incidence rates\nExplore correlations between health events and production\n\n\n\n\nDue Dates:\n\nNone\n\n\n\nDatasets/Resources:\n\nCURC SCC records, disease event logs",
    "crumbs": [
      "Weekly materials",
      "Week 9"
    ]
  },
  {
    "objectID": "weeks/week-3.html",
    "href": "weeks/week-3.html",
    "title": "WEEK 3: Milk Production & Herd Performance Metrics",
    "section": "",
    "text": "Details/Subtopics\n\nMilk yield metrics: daily, 305-day, lactation curves\nMilk components: fat, protein, somatic cell count (SCC)\nVisualizing production data\n\n\n\nActivities/Tasks:\n\nLecture (2/3): Understanding milk production data and key performance indicators\nLecture (2/5): How to monitor milk production\nLab (2/5):\n\nAnalyze CURC milk production records\n\nCalculate herd averages, identify high/low performers\nCreate visualizations (histograms, time series plots)\nBrainstorm: What questions can these data answer?\nAnalyse difference between tie stall and free stall barn\n\n\n\n\nDue Dates:\n\nNone (focusing on skill building)\n\n\n\nDatasets/Resources\n\nCURC DHI (Dairy Herd Improvement) records &gt; available at files in CANVAS",
    "crumbs": [
      "Weekly materials",
      "Week 3"
    ]
  }
]